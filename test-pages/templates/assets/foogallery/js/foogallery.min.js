/*
* FooGallery - The Most Intuitive and Extensible Gallery Creation and Management Tool Ever Created for WordPress
* @version 2.0.16
* @link 
* @copyright Steven Usher & Brad Vincent 2015
* @license Released under the GPLv3 license.
*/

function _typeof(a){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(){"use strict";function a(a){this.time=a.time,this.target=a.target,this.rootBounds=a.rootBounds,this.boundingClientRect=a.boundingClientRect,this.intersectionRect=a.intersectionRect||i(),this.isIntersecting=!!a.intersectionRect;var b=this.boundingClientRect,c=b.width*b.height,d=this.intersectionRect,e=d.width*d.height;this.intersectionRatio=c?Number((e/c).toFixed(4)):this.isIntersecting?1:0}function b(a,b){var c=b||{};if("function"!=typeof a)throw new Error("callback must be a function");if(c.root&&1!=c.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=d(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=a,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(c.rootMargin),this.thresholds=this._initThresholds(c.threshold),this.root=c.root||null,this.rootMargin=this._rootMarginValues.map(function(a){return a.value+a.unit}).join(" ")}function c(){return window.performance&&performance.now&&performance.now()}function d(a,b){var c=null;return function(){c||(c=setTimeout(function(){a(),c=null},b))}}function e(a,b,c,d){"function"==typeof a.addEventListener?a.addEventListener(b,c,d||!1):"function"==typeof a.attachEvent&&a.attachEvent("on"+b,c)}function f(a,b,c,d){"function"==typeof a.removeEventListener?a.removeEventListener(b,c,d||!1):"function"==typeof a.detatchEvent&&a.detatchEvent("on"+b,c)}function g(a,b){var c=Math.max(a.top,b.top),d=Math.min(a.bottom,b.bottom),e=Math.max(a.left,b.left),f=Math.min(a.right,b.right),g=f-e,h=d-c;return g>=0&&h>=0&&{top:c,bottom:d,left:e,right:f,width:g,height:h}}function h(a){var b;try{b=a.getBoundingClientRect()}catch(a){}return b?(b.width&&b.height||(b={top:b.top,right:b.right,bottom:b.bottom,left:b.left,width:b.right-b.left,height:b.bottom-b.top}),b):i()}function i(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function j(a,b){for(var c=b;c;){if(c==a)return!0;c=k(c)}return!1}function k(a){var b=a.parentNode;return b&&11==b.nodeType&&b.host?b.host:b&&b.assignedSlot?b.assignedSlot.parentNode:b}if("object"==typeof window){if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return void("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}));var l=window.document,m=[];b.prototype.THROTTLE_TIMEOUT=100,b.prototype.POLL_INTERVAL=null,b.prototype.USE_MUTATION_OBSERVER=!0,b.prototype.observe=function(a){if(!this._observationTargets.some(function(b){return b.element==a})){if(!a||1!=a.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:a,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},b.prototype.unobserve=function(a){this._observationTargets=this._observationTargets.filter(function(b){return b.element!=a}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},b.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},b.prototype.takeRecords=function(){var a=this._queuedEntries.slice();return this._queuedEntries=[],a},b.prototype._initThresholds=function(a){var b=a||[0];return Array.isArray(b)||(b=[b]),b.sort().filter(function(a,b,c){if("number"!=typeof a||isNaN(a)||a<0||a>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return a!==c[b-1]})},b.prototype._parseRootMargin=function(a){var b=a||"0px",c=b.split(/\s+/).map(function(a){var b=/^(-?\d*\.?\d+)(px|%)$/.exec(a);if(!b)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(b[1]),unit:b[2]}});return c[1]=c[1]||c[0],c[2]=c[2]||c[0],c[3]=c[3]||c[1],c},b.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(e(window,"resize",this._checkForIntersections,!0),e(l,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(l,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},b.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,f(window,"resize",this._checkForIntersections,!0),f(l,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},b.prototype._checkForIntersections=function(){var b=this._rootIsInDom(),d=b?this._getRootRect():i();this._observationTargets.forEach(function(e){var f=e.element,g=h(f),i=this._rootContainsTarget(f),j=e.entry,k=b&&i&&this._computeTargetAndRootIntersection(f,d),l=e.entry=new a({time:c(),target:f,boundingClientRect:g,rootBounds:d,intersectionRect:k});j?b&&i?this._hasCrossedThreshold(j,l)&&this._queuedEntries.push(l):j&&j.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},b.prototype._computeTargetAndRootIntersection=function(a,b){if("none"!=window.getComputedStyle(a).display){for(var c=h(a),d=c,e=k(a),f=!1;!f;){var i=null,j=1==e.nodeType?window.getComputedStyle(e):{};if("none"==j.display)return;if(e==this.root||e==l?(f=!0,i=b):e!=l.body&&e!=l.documentElement&&"visible"!=j.overflow&&(i=h(e)),i&&!(d=g(i,d)))break;e=k(e)}return d}},b.prototype._getRootRect=function(){var a;if(this.root)a=h(this.root);else{var b=l.documentElement,c=l.body;a={top:0,left:0,right:b.clientWidth||c.clientWidth,width:b.clientWidth||c.clientWidth,bottom:b.clientHeight||c.clientHeight,height:b.clientHeight||c.clientHeight}}return this._expandRectByRootMargin(a)},b.prototype._expandRectByRootMargin=function(a){var b=this._rootMarginValues.map(function(b,c){return"px"==b.unit?b.value:b.value*(c%2?a.width:a.height)/100}),c={top:a.top-b[0],right:a.right+b[1],bottom:a.bottom+b[2],left:a.left-b[3]};return c.width=c.right-c.left,c.height=c.bottom-c.top,c},b.prototype._hasCrossedThreshold=function(a,b){var c=a&&a.isIntersecting?a.intersectionRatio||0:-1,d=b.isIntersecting?b.intersectionRatio||0:-1;if(c!==d)for(var e=0;e<this.thresholds.length;e++){var f=this.thresholds[e];if(f==c||f==d||f<c!=f<d)return!0}},b.prototype._rootIsInDom=function(){return!this.root||j(l,this.root)},b.prototype._rootContainsTarget=function(a){return j(this.root||l,a)},b.prototype._registerInstance=function(){m.indexOf(this)<0&&m.push(this)},b.prototype._unregisterInstance=function(){var a=m.indexOf(this);-1!=a&&m.splice(a,1)},window.IntersectionObserver=b,window.IntersectionObserverEntry=a}}(),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.ResizeObserver=b()}(this,function(){"use strict";function a(a,b){function c(){f&&(f=!1,a()),g&&e()}function d(){n(c)}function e(){var a=Date.now();if(f){if(a-h<o)return;g=!0}else f=!0,g=!1,setTimeout(d,b);h=a}var f=!1,g=!1,h=0;return e}function b(a){return parseFloat(a)||0}function c(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];return c.reduce(function(c,d){return c+b(a["border-"+d+"-width"])},0)}function d(a){for(var c=["top","right","bottom","left"],d={},e=0,f=c;e<f.length;e++){var g=f[e],h=a["padding-"+g];d[g]=b(h)}return d}function e(a){var b=a.getBBox();return j(0,0,b.width,b.height)}function f(a){var e=a.clientWidth,f=a.clientHeight;if(!e&&!f)return v;var h=u(a).getComputedStyle(a),i=d(h),k=i.left+i.right,l=i.top+i.bottom,m=b(h.width),n=b(h.height);if("border-box"===h.boxSizing&&(Math.round(m+k)!==e&&(m-=c(h,"left","right")+k),Math.round(n+l)!==f&&(n-=c(h,"top","bottom")+l)),!g(a)){var o=Math.round(m+k)-e,p=Math.round(n+l)-f;1!==Math.abs(o)&&(m-=o),1!==Math.abs(p)&&(n-=p)}return j(i.left,i.top,m,n)}function g(a){return a===u(a).document.documentElement}function h(a){return l?w(a)?e(a):f(a):v}function i(a){var b=a.x,c=a.y,d=a.width,e=a.height,f="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,g=Object.create(f.prototype);return t(g,{x:b,y:c,width:d,height:e,top:c,right:b+d,bottom:e+c,left:b}),g}function j(a,b,c,d){return{x:a,y:b,width:c,height:d}}var k=function(){function a(a,b){var c=-1;return a.some(function(a,d){return a[0]===b&&(c=d,!0)}),c}return"undefined"!=typeof Map?Map:function(){function b(){this.__entries__=[]}return Object.defineProperty(b.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),b.prototype.get=function(b){var c=a(this.__entries__,b),d=this.__entries__[c];return d&&d[1]},b.prototype.set=function(b,c){var d=a(this.__entries__,b);~d?this.__entries__[d][1]=c:this.__entries__.push([b,c])},b.prototype.delete=function(b){var c=this.__entries__,d=a(c,b);~d&&c.splice(d,1)},b.prototype.has=function(b){return!!~a(this.__entries__,b)},b.prototype.clear=function(){this.__entries__.splice(0)},b.prototype.forEach=function(a,b){void 0===b&&(b=null);for(var c=0,d=this.__entries__;c<d.length;c++){var e=d[c];a.call(b,e[1],e[0])}},b}()}(),l="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,m=function(){return"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")()}(),n=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(m):function(a){return setTimeout(function(){return a(Date.now())},1e3/60)}}(),o=2,p=20,q=["top","right","bottom","left","width","height","size","weight"],r="undefined"!=typeof MutationObserver,s=function(){function b(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=a(this.refresh.bind(this),p)}return b.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a),this.connected_||this.connect_()},b.prototype.removeObserver=function(a){var b=this.observers_,c=b.indexOf(a);~c&&b.splice(c,1),!b.length&&this.connected_&&this.disconnect_()},b.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},b.prototype.updateObservers_=function(){var a=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});return a.forEach(function(a){return a.broadcastActive()}),a.length>0},b.prototype.connect_=function(){l&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),r?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},b.prototype.disconnect_=function(){l&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},b.prototype.onTransitionEnd_=function(a){var b=a.propertyName,c=void 0===b?"":b;q.some(function(a){return!!~c.indexOf(a)})&&this.refresh()},b.getInstance=function(){return this.instance_||(this.instance_=new b),this.instance_},b.instance_=null,b}(),t=function(a,b){for(var c=0,d=Object.keys(b);c<d.length;c++){var e=d[c];Object.defineProperty(a,e,{value:b[e],enumerable:!1,writable:!1,configurable:!0})}return a},u=function(a){return a&&a.ownerDocument&&a.ownerDocument.defaultView||m},v=j(0,0,0,0),w=function(){return"undefined"!=typeof SVGGraphicsElement?function(a){return a instanceof u(a).SVGGraphicsElement}:function(a){return a instanceof u(a).SVGElement&&"function"==typeof a.getBBox}}(),x=function(){function a(a){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=j(0,0,0,0),this.target=a}return a.prototype.isActive=function(){var a=h(this.target);return this.contentRect_=a,a.width!==this.broadcastWidth||a.height!==this.broadcastHeight},a.prototype.broadcastRect=function(){var a=this.contentRect_;return this.broadcastWidth=a.width,this.broadcastHeight=a.height,a},a}(),y=function(){function a(a,b){var c=i(b);t(this,{target:a,contentRect:c})}return a}(),z=function(){function a(a,b,c){if(this.activeObservations_=[],this.observations_=new k,"function"!=typeof a)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a,this.controller_=b,this.callbackCtx_=c}return a.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof u(a).Element))throw new TypeError('parameter 1 is not of type "Element".');var b=this.observations_;b.has(a)||(b.set(a,new x(a)),this.controller_.addObserver(this),this.controller_.refresh())}},a.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof u(a).Element))throw new TypeError('parameter 1 is not of type "Element".');var b=this.observations_;b.has(a)&&(b.delete(a),b.size||this.controller_.removeObserver(this))}},a.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},a.prototype.gatherActive=function(){var a=this;this.clearActive(),this.observations_.forEach(function(b){b.isActive()&&a.activeObservations_.push(b)})},a.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,b=this.activeObservations_.map(function(a){return new y(a.target,a.broadcastRect())});this.callback_.call(a,b,a),this.clearActive()}},a.prototype.clearActive=function(){this.activeObservations_.splice(0)},a.prototype.hasActive=function(){return this.activeObservations_.length>0},a}(),A="undefined"!=typeof WeakMap?new WeakMap:new k,B=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var c=s.getInstance(),d=new z(b,c,this);A.set(this,d)}return a}();return["observe","unobserve","disconnect"].forEach(function(a){B.prototype[a]=function(){var b;return(b=A.get(this))[a].apply(b,arguments)}}),function(){return void 0!==m.ResizeObserver?m.ResizeObserver:B}()}),function(a,b){b.$=a}(jQuery,window.FooGallery=window.FooGallery||{}),function(a){if(!a)return void console.warn("jQuery must be included in the page prior to the FooGallery.utils library.");(function(){try{return!!window.FooGallery.utils}catch(a){return!1}})()||(window.FooGallery.utils={$:a,version:"1.0.0"})}(jQuery),function(a,b){"1.0.0"===b.version&&(b.is={},b.is.array=function(a){return"[object Array]"===Object.prototype.toString.call(a)},b.is.boolean=function(a){return"[object Boolean]"===Object.prototype.toString.call(a)},b.is.element=function(a){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?a instanceof HTMLElement:!!a&&"object"===_typeof(a)&&1===a.nodeType&&"string"==typeof a.nodeName},b.is.empty=function(a){if(b.is.undef(a)||null===a)return!0;if(b.is.number(a)&&0===a)return!0;if(b.is.boolean(a)&&!1===a)return!0;if(b.is.string(a)&&0===a.length)return!0;if(b.is.array(a)&&0===a.length)return!0;if(b.is.jq(a)&&0===a.length)return!0;if(b.is.hash(a)){for(var c in a)if(a.hasOwnProperty(c))return!1;return!0}return!1},b.is.error=function(a){return"[object Error]"===Object.prototype.toString.call(a)},b.is.fn=function(a){return a===window.alert||"[object Function]"===Object.prototype.toString.call(a)},b.is.hash=function(a){return b.is.object(a)&&a.constructor===Object&&!a.nodeType&&!a.setInterval},b.is.jq=function(c){return!b.is.undef(a)&&c instanceof a},b.is.number=function(a){return"[object Number]"===Object.prototype.toString.call(a)&&!isNaN(a)},b.is.object=function(a){return"[object Object]"===Object.prototype.toString.call(a)&&!b.is.undef(a)&&null!==a},b.is.promise=function(a){return b.is.object(a)&&b.is.fn(a.then)&&b.is.fn(a.promise)},b.is.size=function(a){return!!(b.is.string(a)&&!b.is.empty(a)||b.is.number(a))&&/^(auto|none|(?:[\d.]*)+?(?:%|px|mm|q|cm|in|pt|pc|em|ex|ch|rem|vh|vw|vmin|vmax)?)$/.test(a)},b.is.string=function(a){return"[object String]"===Object.prototype.toString.call(a)},b.is.undef=function(a){return void 0===a})}(FooGallery.utils.$,FooGallery.utils),function(a,b,c){if("1.0.0"===b.version){b.fn={};var d=Function.prototype.toString;b.fn.CONTAINS_SUPER=/xyz/.test(d.call(function(){xyz}))?/\b_super\b/:/.*/,b.fn.noop=function(){},b.fn.addOrOverride=function(a,e,f){if(c.object(a)&&c.string(e)&&!c.empty(e)&&c.fn(f)){var g=a[e],h=c.fn(g)&&b.fn.CONTAINS_SUPER.test(d.call(f));a[e]=h?function(a,b){return function(){var c=this._super;this._super=a;var d=b.apply(this,arguments);return this._super=c,d}}(g,f):f}},b.fn.expose=function(a,b,d,e){c.object(a)&&c.object(b)&&c.array(d)&&(e=c.undef(e)?a:e,d.forEach(function(d){c.string(d)&&c.fn(a[d])&&(b[d]=a[d].bind(e))}))},b.fn.apply=function(a,b){return b.unshift(a),new(Function.prototype.bind.apply(a,b))},b.fn.arg2arr=function(a){return Array.prototype.slice.call(a)},b.fn.debounce=function(a,c){var d;return function(){var e=this,f=b.fn.arg2arr(arguments);clearTimeout(d),d=setTimeout(function(){a.apply(e,f)},c)}},b.fn.throttle=function(a,c){var d,e;return function(){var f=this,g=b.fn.arg2arr(arguments);d?(clearTimeout(e),e=setTimeout(function(){Date.now()-d>=c&&(a.apply(f,g),d=Date.now())},c-(Date.now()-d))):(a.apply(f,g),d=Date.now())}},b.fn.resolved=a.Deferred().resolve().promise(),b.fn.rejected=a.Deferred().reject().promise(),b.fn.reject=function(c,d){var e=a.Deferred(),f=b.fn.arg2arr(arguments);return e.reject.apply(e,f).promise()},b.fn.resolve=function(c,d){var e=a.Deferred(),f=b.fn.arg2arr(arguments);return e.resolve.apply(e,f).promise()},b.fn.rejectWith=function(c,d,e){var f=a.Deferred(),g=b.fn.arg2arr(arguments);return g.shift(),f.rejectWith(c,g).promise()},b.fn.resolveWith=function(c,d,e){var f=a.Deferred(),g=b.fn.arg2arr(arguments);return g.shift(),f.resolveWith(c,g).promise()},b.fn.all=function(d){var e=a.Deferred(),f=[];return c.array(d)&&d.length>0?function(){for(var a=function(a,b){h||(f[a]=0===b.length?void 0:1===b.length?b[0]:b,--g||e.resolve(f))},g=d.length,h=!1,i=0,j=d.length;i<j;i++){if("break"===function(){if(h)return"break";var f=i;c.promise(d[f])?d[f].then(function(){a(f,b.fn.arg2arr(arguments))},function(){h||(h=!0,e.reject.apply(e,b.fn.arg2arr(arguments)))}):a(f,[d[f]])}())break}}():e.resolve(f),e.promise()},b.fn.allSettled=function(d){var e=a.Deferred(),f=[];return c.array(d)&&d.length>0?function(){for(var a=function(a,b,c){if(f[a]={status:b},c.length>0){var d="rejected"===b?"reason":"value";f[a][d]=1===c.length?c[0]:c}--g||e.resolve(f)},g=d.length,h=0,i=d.length;h<i;h++)!function(){var e=h;c.promise(d[e])?d[e].then(function(){a(e,"fulfilled",b.fn.arg2arr(arguments))},function(){a(e,"rejected",b.fn.arg2arr(arguments))}):a(e,"fulfilled",[d[e]])}()}():e.resolve(f),e.promise()}}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(a,b){if("1.0.0"===a.version){a.url={};var c=document.createElement("a");a.url.parts=function(a){c.href=a;var b=c.port?c.port:-1!==["http:","https:"].indexOf(c.protocol)?"https:"===c.protocol?"443":"80":"",d=c.hostname+(b?":"+b:""),e=c.origin?c.origin:c.protocol+"//"+d,f="/"===c.pathname.slice(0,1)?c.pathname:"/"+c.pathname;return{hash:c.hash,host:d,hostname:c.hostname,href:c.href,origin:e,pathname:f,port:b,protocol:c.protocol,search:c.search}},a.url.full=function(a){return!b.string(a)||b.empty(a)?null:(c.href=a,c.href)},a.url.param=function(a,c,d){if(!b.string(a)||!b.string(c)||b.empty(c))return a;var e,f,g,h;return b.undef(d)?(e=new RegExp("[?|&]"+c+"=([^&;]+?)(&|#|;|$)"),f=e.exec(a)||["",""],g=f[1].replace(/\+/g,"%20"),b.string(g)&&!b.empty(g)?decodeURIComponent(g):null):(b.empty(d)?(e=new RegExp("^([^#]*?)(([^#]*)&)?"+c+"(=[^&#]*)?(&|#|$)"),g=a.replace(e,"$1$3$5").replace(/^([^#]*)((\?)&|\?(#|$))/,"$1$3$4")):(e=new RegExp("([?&])"+c+"[^&]*"),h=c+"="+encodeURIComponent(d),(g=a.replace(e,"$1"+h))!==a||e.test(g)||(g+=(-1!==g.indexOf("?")?"&":"?")+h)),g)}}}(FooGallery.utils,FooGallery.utils.is),function(a,b,c){"1.0.0"===a.version&&(a.str={},a.str.trim=function(a){return b.string(a)?a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):null},a.str.camel=function(a){return b.string(a)?a.toUpperCase()===a?a.toLowerCase():a.replace(/^([A-Z])|[-\s_]+(\w)/g,function(a,c,d){return b.string(d)?d.toUpperCase():c.toLowerCase()}):a},a.str.kebab=function(a){return b.string(a)?a.match(/[A-Z]{2,}(?=[A-Z][a-z0-9]*|\b)|[A-Z]?[a-z0-9]*|[A-Z]|[0-9]+/g).filter(Boolean).map(function(a){return a.toLowerCase()}).join("-"):a},a.str.contains=function(a,c,d){return!(!b.string(a)||b.empty(a)||!b.string(c)||b.empty(c))&&(c.length<=a.length&&-1!==(d?a.toUpperCase().indexOf(c.toUpperCase()):a.indexOf(c)))},a.str.containsWord=function(a,c,d){if(!b.string(a)||b.empty(a)||!b.string(c)||b.empty(c)||a.length<c.length)return!1;for(var e=a.split(/\W/),f=0,g=e.length;f<g;f++)if(d?e[f].toUpperCase()===c.toUpperCase():e[f]===c)return!0;return!1},a.str.endsWith=function(a,c){return!(!b.string(a)||!b.string(c)||c.length>a.length)&&a.slice(a.length-c.length)===c},a.str.startsWith=function(a,c){return!b.empty(a)&&!b.empty(c)&&a.slice(0,c.length)===c},a.str.escapeRegExp=function(a){return b.string(a)?a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):a},a.str.fnv1a=function(a){if(!b.string(a)||b.empty(a))return null;var c,d,e=2166136261;for(c=0,d=a.length;c<d;c++)e^=a.charCodeAt(c),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0},a.str.from=function(b,c){return a.str.contains(b,c)?b.substring(b.indexOf(c)+c.length):null},a.str.join=function(d,e,f){if(!b.string(d)||!b.string(e))return null;var g=c.arg2arr(arguments);d=g.shift();var h,i,j=g.shift();for(h=0,i=g.length;h<i;h++)e=g[h],b.empty(e)||(a.str.endsWith(j,d)&&(j=j.slice(0,j.length-d.length)),a.str.startsWith(e,d)&&(e=e.slice(d.length)),j+=d+e);return j},a.str.until=function(b,c){return a.str.contains(b,c)?b.substring(0,b.indexOf(c)):b},a.str.format=function(d,e,f){var g=c.arg2arr(arguments);return d=g.shift(),b.string(d)&&g.length>0&&(1===g.length&&(b.array(g[0])||b.object(g[0]))&&(g=g[0]),a.each(g,function(a,b){d=d.replace(new RegExp("\\{"+b+"\\}","gi"),a+"")})),d})}(FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn),function(a,b,c,d,e){"1.0.0"===b.version&&(b.obj={},b.obj.create=function(a){function b(){}if(!c.object(a))throw TypeError("Argument must be an object");return b.prototype=a,new b},b.obj.extend=function(a,e,f){a=c.object(a)?a:{};var g=d.arg2arr(arguments);return g.shift(),b.each(g,function(c){b.obj.merge(a,c)}),a},b.obj.merge=function(a,d){a=c.hash(a)?a:{},d=c.hash(d)?d:{};for(var e in d)d.hasOwnProperty(e)&&(c.hash(d[e])?(a[e]=c.hash(a[e])?a[e]:{},b.obj.merge(a[e],d[e])):c.array(d[e])?a[e]=d[e].slice():a[e]=d[e]);return a},b.obj.mergeValid=function(a,d,e,f){if(!c.hash(e)||!c.hash(d))return a;d=c.hash(d)?d:{},f=c.hash(f)?f:{};var g,h,i;for(g in d)d.hasOwnProperty(g)&&c.fn(d[g])&&(h=c.array(f[g])?f[g]:c.string(f[g])?[f[g]]:[g],b.each(h,function(f){if(i=b.obj.prop(e,f),!c.undef(i))return d[g](i)?(b.obj.prop(a,g,i),!1):void 0}));return a},b.obj.prop=function(a,d,f){if(c.object(a)&&!c.empty(d)){var g,h;if(c.undef(f))return e.contains(d,".")?(g=d.split("."),h=g.length-1,b.each(g,function(b,d){if(d===h)f=a[b];else{if(!c.hash(a[b]))return!1;a=a[b]}})):c.undef(a[d])||(f=a[d]),f;e.contains(d,".")?(g=d.split("."),h=g.length-1,b.each(g,function(b,d){d===h?a[b]=f:a=c.hash(a[b])?a[b]:a[b]={}})):c.undef(a[d])||(a[d]=f)}})}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.str),function(a,b,c){function d(a){return setTimeout(a,1e3/60)}function e(a){clearTimeout(a)}"1.0.0"===b.version&&(b.ready=function(a){function c(){try{a.call(window,b.$)}catch(a){console.error(a)}}(Function("/*@cc_on return true@*/")()?"complete"===document.readyState:"loading"!==document.readyState)?c():document.addEventListener("DOMContentLoaded",c,!1)},b.find=function(a,b,d){if(c.fn(b)){d=c.undef(d)?b:d;var e,f;if(c.array(a)){for(e=0,f=a.length;e<f;e++)if(b.call(d,a[e],e,a))return a[e]}else if(c.object(a)){var g=Object.keys(a);for(e=0,f=g.length;e<f;e++)if(b.call(d,a[g[e]],g[e],a))return a[g[e]]}}},b.each=function(a,b,d){if(c.fn(b)){d=c.undef(d)?b:d;var e,f;if(c.array(a))for(e=0,f=a.length;e<f&&!1!==b.call(d,a[e],e,a);e++);else if(c.object(a)){var g=Object.keys(a);for(e=0,f=g.length;e<f&&!1!==b.call(d,a[g[e]],g[e],a);e++);}}},b.inArray=function(a,b){return c.array(b)?b.indexOf(a):-1},b.selectify=function(a){if(c.empty(a))return null;if(c.hash(a)){var d,e={};for(var f in a)a.hasOwnProperty(f)&&(d=b.selectify(a[f]))&&(e[f]=d);return e}return c.string(a)||c.array(a)?(c.string(a)&&(a=[a]),a.map(function(a){return c.string(a)?"."+a.split(/\s/g).join("."):null}).join(",")):null},b.requestFrame=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||d).bind(window),b.cancelFrame=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||e).bind(window),b.nextFrame=function(d,e){return a.Deferred(function(a){c.fn(d)?(e=c.undef(e)?d:e,b.requestFrame(function(){try{a.resolve(d.call(e))}catch(b){a.reject(b)}})):a.reject(new Error("Provided callback is not a function."))}).promise()})}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d,e){function f(a,b){return c.array(b)||(b=[]),c.fn(a)&&null!==a.__baseClass__?(b.unshift(a.__baseClass__),f(a.__baseClass__,b)):b}"1.0.0"===b.version&&(b.Class=function(){},b.Class.extend=function(a){function f(){if(!c.fn(this.construct))throw new SyntaxError('FooGallery.utils.Class objects must be constructed with the "new" keyword.');this.construct.apply(this,arguments)}a=c.hash(a)?a:{};var g=d.create(this.prototype);for(var h in a)a.hasOwnProperty(h)&&e.addOrOverride(g,h,a[h]);return g.construct=c.fn(g.construct)?g.construct:function(){},f.prototype=g,f.prototype.constructor=c.fn(g.__ctor__)?g.__ctor__:f,f.extend=b.Class.extend,f.override=b.Class.override,f.getBaseClasses=b.Class.getBaseClasses,f.__baseClass__=this,f},b.Class.override=function(a,b){e.addOrOverride(this.prototype,a,b)},b.Class.__baseClass__=null,b.Class.getBaseClasses=function(){return f(this,[])})}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.fn),function(a,b,c,d,e){b.ClassRegistry=b.Class.extend({construct:function(a){var b=this;b.opt=e.extend({allowBase:!0,beforeCreate:null},a),b.registered={}},register:function(a,b,d,e){var f=this;if(c.string(a)&&!c.empty(a)&&c.fn(b)){e=c.number(e)?e:0;var g=f.registered[a];return f.registered[a]={name:a,ctor:b,config:c.hash(d)?d:{},priority:c.undef(g)?e:g.priority},!0}return!1},each:function(a,b,d){b=!!c.boolean(b)&&b,d=c.undef(d)?a:d;var e=this,f=Object.keys(e.registered),g=f.map(function(a){return e.registered[a]});b&&g.sort(function(a,b){return b.priority-a.priority});for(var h=0,i=g.length;h<i;h++){if(!1===a.call(d,g[h],h))break}},find:function(a,b,d){b=!!c.boolean(b)&&b,d=c.undef(d)?a:d;var e=this,f=Object.keys(e.registered),g=f.map(function(a){return e.registered[a]});b&&g.sort(function(a,b){return b.priority-a.priority});for(var h=0,i=g.length;h<i;h++)if(a.call(d,g[h],h))return g[h];return null},create:function(a,b,e){var f=this,g=d.arg2arr(arguments);if(a=g.shift(),c.string(a)&&f.registered.hasOwnProperty(a)){var h=f.registered[a],i=!0;if(h.priority<0&&!f.opt.allowBase&&(i=!1),i&&c.fn(h.ctor))return b=g.shift(),b=f.mergeConfigurations(h.name,b),g.unshift.apply(g,[h.name,b]),d.apply(h.ctor,f.onBeforeCreate(h,g))}return null},onBeforeCreate:function(a,b){var d=this;return null!==d.opt.beforeCreate&&c.fn(d.opt.beforeCreate)?d.opt.beforeCreate.call(d,a,b):b},mergeConfigurations:function(a,b){var d=this;if(c.string(a)&&d.registered.hasOwnProperty(a)){b=c.hash(b)?b:{};var f=d.getBaseClasses(a),g=[{}];return f.push(d.registered[a]),f.forEach(function(a){g.push(a.config)}),g.push(b),e.extend.apply(e,g)}return{}},getBaseClass:function(){return this.find(function(a){return a.priority<0},!0)},getBaseClasses:function(a){var b=this,d=b.registered[a],e=[];return c.undef(d)||d.ctor.getBaseClasses().forEach(function(a){var d=b.fromType(a);c.hash(d)&&e.push(d)}),e},fromType:function(a){if(c.fn(a))return this.find(function(b){return b.ctor===a})}})}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c){"1.0.0"===a.version&&(a.Event=a.Class.extend({construct:function(c){if(b.empty(c))throw new SyntaxError("FooGallery.utils.Event objects must be supplied a `type`.");var d=this,e=a.Event.parse(c);d.type=e.type,d.namespace=e.namespace,d.defaultPrevented=!1,d.target=null},preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented}}),a.Event.parse=function(a){a=b.string(a)&&!b.empty(a)?a:null;var d=c.contains(a,".");return{namespaced:d,type:d?c.startsWith(a,".")?null:c.until(a,"."):a,namespace:d?c.from(a,"."):null}},a.EventClass=a.Class.extend({construct:function(){this.events={}},destroy:function(){this.events={}},on:function(a,c,d){var e=this;return b.object(a)?(d=c,Object.keys(a).forEach(function(c){b.fn(a[c])&&c.split(" ").forEach(function(b){e.addListener(b,a[c],d)})})):b.string(a)&&b.fn(c)&&a.split(" ").forEach(function(a){e.addListener(a,c,d)}),e},addListener:function(c,d,e){if(!b.string(c)||/\s/.test(c)||!b.fn(d))return!1;var f=this,g=a.Event.parse(c);return e=b.undef(e)?f:e,b.array(f.events[g.type])||(f.events[g.type]=[]),!f.events[g.type].some(function(a){return a.namespace===g.namespace&&a.fn===d&&a.thisArg===e})&&(f.events[g.type].push({namespace:g.namespace,fn:d,thisArg:e}),!0)},off:function(a,c,d){var e=this;return b.object(a)?(d=c,Object.keys(a).forEach(function(b){b.split(" ").forEach(function(c){e.removeListener(c,a[b],d)})})):b.string(a)&&a.split(" ").forEach(function(a){e.removeListener(a,c,d)}),e},removeListener:function(c,d,e){if(!b.string(c)||/\s/.test(c))return!1;var f=this,g=a.Event.parse(c),h=[];return e=b.undef(e)?f:e,b.empty(g.type)?b.empty(g.namespace)||h.push.apply(h,Object.keys(f.events)):h.push(g.type),h.forEach(function(a){b.array(f.events[a])&&(f.events[a]=f.events[a].filter(function(a){return null!=d?!(a.namespace===g.namespace&&a.fn===d&&a.thisArg===e):null!=g.namespace&&a.namespace!==g.namespace}),0===f.events[a].length&&delete f.events[a])}),!0},trigger:function(c,d){d=b.array(d)?d:[];var e=this,f=[];return c instanceof a.Event?(f.push(c),e.emit(c,d)):b.string(c)&&c.split(" ").forEach(function(b){var c=new a.Event(b);f.push(c),e.emit(c,d)}),b.empty(f)?null:1===f.length?f[0]:f},emit:function(a,c){if(a instanceof FooGallery.utils.Event){var d=this;c=b.array(c)?c:[],null===a.target&&(a.target=d),b.array(d.events[a.type])&&d.events[a.type].forEach(function(b){null!=a.namespace&&b.namespace!==a.namespace||b.fn.apply(b.thisArg,[a].concat(c))}),b.array(d.events.__all__)&&d.events.__all__.forEach(function(b){b.fn.apply(b.thisArg,[a].concat(c))})}}}))}(FooGallery.utils,FooGallery.utils.is,FooGallery.utils.str),function(a,b,c,d,e){"1.0.0"===b.version&&(b.Timer=b.EventClass.extend({construct:function(a){var b=this;b._super(),b.interval=c.number(a)?a:1e3,
b.isRunning=!1,b.isPaused=!1,b.canResume=!1,b.canRestart=!1,b.__timeout=null,b.__decrement=!1,b.__time=0,b.__remaining=0,b.__current=0,b.__finish=0,b.__restart=[]},__reset:function(){var a=this;clearTimeout(a.__timeout),a.__timeout=null,a.__decrement=!1,a.__time=0,a.__remaining=0,a.__current=0,a.__finish=0,a.isRunning=!1,a.isPaused=!1,a.canResume=!1},__eventArgs:function(a){var b=this;return[b.__current,b.__time,b.__decrement].concat(d.arg2arr(arguments))},__tick:function(){var a=this;a.trigger("tick",a.__eventArgs()),a.__current===a.__finish?(a.trigger("complete",a.__eventArgs()),a.__reset()):(a.__decrement?a.__current--:a.__current++,a.__remaining--,a.canResume=a.__remaining>0,a.__timeout=setTimeout(function(){a.__tick()},a.interval))},start:function(a,b){var d=this;d.isRunning||(b=!!c.boolean(b)&&b,d.__restart=[a,b],d.__decrement=b,d.__time=a,d.__remaining=a,d.__current=b?a:0,d.__finish=b?0:a,d.canRestart=!0,d.isRunning=!0,d.isPaused=!1,d.trigger("start",d.__eventArgs()),d.__tick())},countdown:function(a){this.start(a,!0)},countup:function(a){this.start(a,!1)},restart:function(){var a=this;a.stop(),a.canRestart&&a.start.apply(a,a.__restart)},stop:function(){var a=this;(a.isRunning||a.isPaused)&&(a.__reset(),a.trigger("stop",a.__eventArgs()))},pause:function(){var a=this;return null!=a.__timeout&&(clearTimeout(a.__timeout),a.__timeout=null),a.isRunning&&(a.isRunning=!1,a.isPaused=!0,a.trigger("pause",a.__eventArgs())),a.__remaining},resume:function(){var a=this;a.canResume&&(a.isRunning=!0,a.isPaused=!1,a.trigger("resume",a.__eventArgs()),a.__tick())},reset:function(){var a=this;a.__reset(),a.trigger("reset",this.__eventArgs())}}))}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c){"1.0.0"===b.version&&(b.FullscreenAPI=b.EventClass.extend({construct:function(){this._super(),this.apis={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},webkit:{enabled:"webkitFullscreenEnabled",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},moz:{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}}},this.api=this.getAPI(),this.supported=null!=this.api,this.__listen()},destroy:function(){return this.__stopListening(),this._super()},getAPI:function(){for(var a in this.apis)if(this.apis.hasOwnProperty(a)&&this.apis[a].enabled in document)return this.apis[a];return null},element:function(){return this.supported?document[this.api.element]:null},request:function(b){if(this.supported&&b[this.api.request]){var d=b[this.api.request]();return d||a.Deferred(this.__resolver(this.api.request)).promise()}return c.rejected},exit:function(){if(this.supported&&this.element()){var b=document[this.api.exit]();return b||a.Deferred(this.__resolver(this.api.exit)).promise()}return c.rejected},toggle:function(a){return this.element()?this.exit():this.request(a)},__listen:function(){var b=this;b.supported&&a(document).on(b.api.events.change+".utils",function(){b.trigger("change")}).on(b.api.events.error+".utils",function(){b.trigger("error")})},__stopListening:function(){var b=this;b.supported&&a(document).off(b.api.events.change+".utils").off(b.api.events.error+".utils")},__resolver:function(b){var c=this;return function(d){function e(){d.resolve(),a(document).off(c.api.events.change,e).off(c.api.events.error,f)}function f(){d.reject(new TypeError),a(document).off(c.api.events.change,e).off(c.api.events.error,f)}if(b===c.api.exit&&c.element())return void setTimeout(function(){d.reject(new TypeError)},1);a(document).on(c.api.events.change,e).on(c.api.events.error,f)}}}))}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.fn),function(a,b,c,d){"1.0.0"===b.version&&(b.transition={},b.transition.dataName="__foo-transition__",b.transition.disableClassName=null,b.transition.timeout=3e3,b.transition.disable=function(d,e){var f=c.jq(d)?d:a(d);if(f.length>0&&c.fn(e)){var g=f.get(0),h=c.string(b.transition.disableClassName),i=null;h?f.addClass(b.transition.disableClassName):(i={value:g.style.getPropertyValue("transition"),priority:g.style.getPropertyPriority("transition")},g.style.setProperty("transition","none","important")),e.call(e,f),f.prop("offsetWidth"),h?f.removeClass(b.transition.disableClassName):(g.style.removeProperty("transition"),c.string(i.value)&&i.value.length>0&&g.style.setProperty("transition",i.value,i.priority))}},b.transition.stop=function(d){var e=a.Deferred(),f=c.jq(d)?d:a(d);if(f.length>0){var g=f.data(b.transition.dataName);c.promise(g)?g.always(function(){b.requestFrame(function(){e.resolve(f)})}).reject(new Error("Transition cancelled.")):e.resolve(f)}else e.reject(new Error("Unable to stop transition. Make sure the element exists."));return e.promise()},b.transition.createListener=function(a,b,e){var f=a,g=b,h=e,i=c.string(e);return function(a){var b=a.originalEvent instanceof TransitionEvent?a.originalEvent:a,c=!1;b.target===f&&(c=!i||b.propertyName===h),c&&g.apply(g,d.arg2arr(arguments))}},b.transition.start=function(d,e,f,g){var h=a.Deferred(),i=c.jq(d)?d:a(d);if(i.length>0&&c.fn(e)){var j=i.get(0);b.transition.stop(i).always(function(){var a=b.transition.createListener(j,function(){h.resolve(i)},f);i.data(b.transition.dataName,h).on("transitionend.foo-utils",a).prop("offsetWidth"),b.requestFrame(function(){var d=setTimeout(function(){h.reject(new Error("Transition safety timeout triggered."))},c.number(g)?g:b.transition.timeout);h.always(function(){clearTimeout(d),i.removeData(b.transition.dataName).off("transitionend.foo-utils",a)}),e.call(e,i)})})}else h.reject(new Error("Unable to perform transition. Make sure the element exists and a trigger function is supplied."));return h.promise()},b.transition.modify=function(e,f,g,h){var i=c.jq(e)?e:a(e);return i.length>0&&c.fn(f)?g?(b.transition.disable(i,f),d.resolve()):b.transition.start(i,f,h):d.reject(new Error("Unable to perform modification. Make sure the element exists and a modify function is supplied."))})}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn),function(a,b,c,d,e,f){b.DATA_TEMPLATE="__FooGallery__",b.DATA_ITEM="__FooGalleryItem__",b.get=function(c){return a(c).data(b.DATA_TEMPLATE)},b.init=function(c,f){if(f=d.jq(f)?f:a(f),f.length>0){var g=f.data(b.DATA_TEMPLATE);if(g instanceof b.Template)return g.destroy(!0).then(function(){var a=b.template.make(c,f);return a instanceof b.Template?a.initialize():e.rejected})}var h=b.template.make(c,f);return h instanceof b.Template?h.initialize():e.rejected},a.fn.foogallery=function(c,e){return e=d.fn(e)?e:a.noop,this.each(function(f,g){if(d.string(c)){var h=a.data(g,b.DATA_TEMPLATE);if(h instanceof b.Template)switch(c){case"layout":return void h.layout();case"destroy":return void h.destroy()}}else b.init(c,g).then(e)})},b.isCached=function(a){var b=new Image;b.src=a;var c=b.complete;return b.src="",b=null,c},b.supportedExifProperties=["camera","aperture","created_timestamp","shutter_speed","focal_length","iso","orientation"],d.exif=function(a){if(d.object(a)){var c=Object.keys(a);return c.length>0&&c.some(function(c){return-1!==b.supportedExifProperties.indexOf(c)&&!d.empty(a[c])})}return!1},f.trimTo=function(a,b,c){return d.string(a)&&d.number(b)&&b>0&&a.length>b?a.substr(0,b)+(d.string(c)?c:"&hellip;"):a},c.getResizeObserverSize=function(a){var b,c;return a.contentBoxSize?a.contentBoxSize[0]?(b=a.contentBoxSize[0].inlineSize,c=a.contentBoxSize[0].blockSize):(b=a.contentBoxSize.inlineSize,c=a.contentBoxSize.blockSize):(b=a.contentRect.width,c=a.contentRect.height),{width:b,height:c}},b.supportsWebP=!1;var g=new Image;g.onload=function(){b.supportsWebP=0<g.width&&0<g.height},g.onerror=function(){b.supportsWebP=!1},g.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",b.supportsPicture=!!window.HTMLPictureElement}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.str),function(a,b,c,d,e){b.Icons=c.Class.extend({construct:function(){this.className="fg-icon",this.registered={default:{close:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M13.957 3.457l-1.414-1.414-4.543 4.543-4.543-4.543-1.414 1.414 4.543 4.543-4.543 4.543 1.414 1.414 4.543-4.543 4.543 4.543 1.414-1.414-4.543-4.543z"></path></svg>',"arrow-left":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M10.5 16l1.5-1.5-6.5-6.5 6.5-6.5-1.5-1.5-8 8 8 8z"></path></svg>',"arrow-right":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M5.5 0l-1.5 1.5 6.5 6.5-6.5 6.5 1.5 1.5 8-8-8-8z"></path></svg>',maximize:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M2 2v4h-2v-5c0-0.552 0.448-1 1-1h14c0.552 0 1 0.448 1 1v14c0 0.552-0.448 1-1 1h-14c-0.552 0-1-0.448-1-1v-9h9c0.552 0 1 0.448 1 1v7h4v-12h-12z"/></svg>',expand:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M2 5h-2v-4c0-0.552 0.448-1 1-1h4v2h-3v3z"></path><path d="M16 5h-2v-3h-3v-2h4c0.552 0 1 0.448 1 1v4z"></path><path d="M15 16h-4v-2h3v-3h2v4c0 0.552-0.448 1-1 1z"></path><path d="M5 16h-4c-0.552 0-1-0.448-1-1v-4h2v3h3v2z"></path></svg>',shrink:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M3 0h2v4c0 0.552-0.448 1-1 1h-4v-2h3v-3z"></path><path d="M11 0h2v3h3v2h-4c-0.552 0-1-0.448-1-1v-4z"></path><path d="M12 11h4v2h-3v3h-2v-4c0-0.552 0.448-1 1-1z"></path><path d="M0 11h4c0.552 0 1 0.448 1 1v4h-2v-3h-3v-2z"></path></svg>',info:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M7 4.75c0-0.412 0.338-0.75 0.75-0.75h0.5c0.412 0 0.75 0.338 0.75 0.75v0.5c0 0.412-0.338 0.75-0.75 0.75h-0.5c-0.412 0-0.75-0.338-0.75-0.75v-0.5z"></path><path d="M10 12h-4v-1h1v-3h-1v-1h3v4h1z"></path><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5z"></path></svg>',comment:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M3 4h10v1h-10zM3 6h8v1h-8zM3 8h4v1h-4zM14.5 1h-13c-0.825 0-1.5 0.675-1.5 1.5v8c0 0.825 0.675 1.5 1.5 1.5h2.5v4l4.8-4h5.7c0.825 0 1.5-0.675 1.5-1.5v-8c0-0.825-0.675-1.5-1.5-1.5zM14 10h-5.924l-3.076 2.73v-2.73h-3v-7h12v7z"></path></svg>',thumbs:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M3 3v10h-2v-11c0-0.552 0.448-1 1-1h12c0.552 0 1 0.448 1 1v12c0 0.552-0.448 1-1 1h-12c-0.552 0-1-0.448-1-1v-1h4v-2h-2v-2h2v-2h-2v-2h2v-2h2v10h6v-10h-10z"></path></svg>',cart:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M13.238 9c0.55 0 1.124-0.433 1.275-0.962l1.451-5.077c0.151-0.529-0.175-0.962-0.725-0.962h-10.238c0-1.105-0.895-2-2-2h-3v2h3v8.5c0 0.828 0.672 1.5 1.5 1.5h9.5c0.552 0 1-0.448 1-1s-0.448-1-1-1h-9v-1h8.238zM5 4h9.044l-0.857 3h-8.187v-3z"></path><path d="M6 14.5c0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5c0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5z"></path><path d="M15 14.5c0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5c0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5z"></path></svg>',"circle-close":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5z"></path><path d="M10.5 4l-2.5 2.5-2.5-2.5-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 2.5-2.5 2.5 2.5 1.5-1.5-2.5-2.5 2.5-2.5z"></path></svg>',"auto-progress":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path class="[ICON_CLASS]-idle" d="M11.39 8c2.152-1.365 3.61-3.988 3.61-7 0-0.339-0.019-0.672-0.054-1h-13.891c-0.036 0.328-0.054 0.661-0.054 1 0 3.012 1.457 5.635 3.609 7-2.152 1.365-3.609 3.988-3.609 7 0 0.339 0.019 0.672 0.054 1h13.891c0.036-0.328 0.054-0.661 0.054-1 0-3.012-1.457-5.635-3.609-7zM2.5 15c0-2.921 1.253-5.397 3.5-6.214v-1.572c-2.247-0.817-3.5-3.294-3.5-6.214v0h11c0 2.921-1.253 5.397-3.5 6.214v1.572c2.247 0.817 3.5 3.294 3.5 6.214h-11zM9.462 10.462c-1.12-0.635-1.181-1.459-1.182-1.959v-1.004c0-0.5 0.059-1.327 1.184-1.963 0.602-0.349 1.122-0.88 1.516-1.537h-6.4c0.395 0.657 0.916 1.188 1.518 1.538 1.12 0.635 1.181 1.459 1.182 1.959v1.004c0 0.5-0.059 1.327-1.184 1.963-1.135 0.659-1.98 1.964-2.236 3.537h7.839c-0.256-1.574-1.102-2.879-2.238-3.538z"/><circle class="[ICON_CLASS]-circle" r="4" cx="8" cy="8"/><path class="[ICON_CLASS]-play" d="M3 2l10 6-10 6z"/><path class="[ICON_CLASS]-pause" d="M2 2h5v12h-5zM9 2h5v12h-5z"/></svg>',"exif-aperture":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M 8,0 C 3.5876443,0 0,3.5876443 0,8 c 0,4.412356 3.5876443,8 8,8 4.412356,0 8,-3.587644 8,-8 C 16,3.5876443 12.412356,0 8,0 Z m 0,1 c 3.871916,0 7,3.1280844 7,7 0,3.871916 -3.128084,7 -7,7 C 4.1280844,15 1,11.871916 1,8 1,4.1280844 4.1280844,1 8,1 Z M 7.53125,2.0214844 A 6,6 0 0 0 3.1835938,4.4335938 H 8.9257812 Z M 8.6132812,2.03125 C 9.5587451,3.6702105 10.504247,5.3091484 11.451172,6.9472656 L 12.863281,4.5 A 6,6 0 0 0 8.6132812,2.03125 Z M 2.5957031,5.4101562 A 6,6 0 0 0 2,8 6,6 0 0 0 2.5273438,10.439453 L 5.4296875,5.4101562 Z m 10.8261719,0.033203 -2.855469,4.9433598 h 2.935547 A 6,6 0 0 0 14,8 6,6 0 0 0 13.421875,5.4433592 Z M 4.5722656,8.8945312 3.0996094,11.449219 a 6,6 0 0 0 4.40625,2.527343 z m 2.5820313,2.4707028 1.4960937,2.591797 a 6,6 0 0 0 4.3144534,-2.591797 z"></path></svg>',"exif-camera":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="m 8.0000002,5 a 4,4 0 0 0 -4,4 4,4 0 0 0 4,4 A 4,4 0 0 0 12,9 4,4 0 0 0 8.0000002,5 Z m 0.019531,1.015625 a 3,2.9814477 0 0 1 2.9804688,3 l -1,-0.00586 a 2,2 0 0 0 0,-0.00976 2,2 0 0 0 -1.9863279,-2 z M 5.125,1 C 4.5,1 4,1.5 4,2.125 V 3.0000004 L 1.125,3 C 0.5,2.9999999 0,3.5 0,4.125 v 9.75 C 0,14.5 0.5,15 1.125,15 h 13.75 C 15.5,15 16,14.5 16,13.875 V 4.125 C 16,3.5 15.5,3 14.875,3 H 12 V 2.125 C 12,1.5 11.5,1 10.875,1 Z M 5.25,2.0000004 h 5.5 c 0.125,0 0.25,0.1249996 0.25,0.25 v 1.75 h 3.75 c 0.125,0 0.25,0.1249996 0.25,0.25 V 13.75 C 15,13.875 14.875,14 14.75,14 H 1.25 C 1.125,14 1,13.875 1,13.75 V 4.25 C 1,4.125 1.125,4 1.25,4 l 3.75,4e-7 v -1.75 c 0,-0.1250004 0.125,-0.25 0.25,-0.25 z"></path></svg>',"exif-created-timestamp":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M 3,1 V 2 H 1 V 15 H 16 V 2 H 14 V 1 H 13 V 2 H 4 V 1 Z M 2,4 H 15 V 14 H 2 Z M 6,5 V 7 H 8 V 5 Z m 3,0 v 2 h 2 V 5 Z m 3,0 v 2 h 2 V 5 Z M 3,8 v 2 H 5 V 8 Z m 3,0 v 2 H 8 V 8 Z m 3,0 v 2 h 2 V 8 Z m 3,0 v 2 h 2 V 8 Z m -9,3 v 2 h 2 v -2 z m 3,0 v 2 h 2 v -2 z m 3,0 v 2 h 2 v -2 z"></path></svg>',"exif-shutter-speed":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M 8,0 C 3.5876443,0 -2.9415707e-8,3.5876443 0,8 c 2.3532563e-7,4.412356 3.5876445,8 8,8 4.412356,0 8,-3.587644 8,-8 C 16,3.5876443 12.412356,0 8,0 Z m 0,1 c 3.871916,0 7,3.1280844 7,7 0,3.871915 -3.128085,7 -7,7 -3.8719154,0 -6.9999998,-3.128085 -7,-7 -3e-8,-3.8719156 3.1280844,-7 7,-7 z M 11.646484,3.6464844 8.6445312,6.6484375 A 1.5,1.5 0 0 0 8,6.5 1.5,1.5 0 0 0 6.5,8 1.5,1.5 0 0 0 8,9.5 1.5,1.5 0 0 0 9.5,8 1.5,1.5 0 0 0 9.3515625,7.3554688 L 12.353516,4.3535156 Z M 2,7.5 v 1 h 2 v -1 z M 7.5,12 v 2 h 1 V 12 Z M 12,7.5 v 1 h 2 v -1 z M 7.5,2 v 2 h 1 V 2 Z"></path></svg>',"exif-focal-length":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="m 1,4.125 -1,0.25 v 7.25 l 1,0.25 z M 5,1 2,4 v 8 l 3,3 h 6.875 C 12.500003,15 13,14.5 13,13.875 V 2.125 C 13,1.4999986 12.5,1 11.875,1 9.576807,0.99914375 7.1414067,0.96597644 5,1 Z M 5.5,2 H 6 V 14 H 5.5 L 3,11.5 v -7 z M 7,2 h 4.75 C 11.875,2 12,2.1249997 12,2.25 v 11.5 c 0,0.125 -0.125,0.250622 -0.25,0.25 H 7 Z m 7,0 c 1,2.2 1.5,4.35 1.5,6 0,1.65 -0.5,3.8 -1.5,6"></path></svg>',"exif-iso":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M 7.5,0 V 1.6015625 C 6.0969201,1.7146076 4.8392502,2.256185 3.828125,3.1210938 L 2.6035156,1.8964844 1.8964844,2.6035156 3.1210938,3.828125 C 2.256185,4.8392502 1.7146076,6.0969201 1.6015625,7.5 H 0 v 1 h 1.6015625 c 0.1130451,1.4030799 0.6546225,2.66075 1.5195313,3.671875 l -1.2246094,1.224609 0.7070312,0.707032 1.2246094,-1.22461 C 4.8392502,13.743815 6.0969201,14.285392 7.5,14.398438 V 16 h 1 v -1.601562 c 1.4030799,-0.113046 2.66075,-0.654623 3.671875,-1.519532 l 1.224609,1.22461 0.707032,-0.707032 -1.22461,-1.224609 C 13.743815,11.16075 14.285392,9.9030799 14.398438,8.5 H 16 v -1 H 14.398438 C 14.285392,6.0969201 13.743815,4.8392502 12.878906,3.828125 L 14.103516,2.6035156 13.396484,1.8964844 12.171875,3.1210938 C 11.16075,2.256185 9.9030799,1.7146076 8.5,1.6015625 V 0 Z M 8,2.5 c 3.043488,0 5.5,2.4565116 5.5,5.5 0,3.043488 -2.456512,5.5 -5.5,5.5 C 4.9565116,13.5 2.5,11.043488 2.5,8 2.5,4.9565116 4.9565116,2.5 8,2.5 Z"></path></svg>',"exif-orientation":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M 1.25,0 C 0.625,0 0,0.625 0,1.25 V 5 H 1 V 3 h 8 v 2 h 1 V 1.25 C 10,0.625 9.375,0 8.75,0 Z m 0,1 h 7.5 C 8.875,1 9,1.125 9,1.25 V 2 H 1 V 1.25 C 1,1.125 1.125,1 1.25,1 Z m 0,5 C 0.625,6 0,6.625 0,7.25 v 7.5 C 0,15.375 0.625,16 1.25,16 h 13.5 C 15.375,16 16,15.375 16,14.75 V 7.25 C 16,6.625 15.375,6 14.75,6 Z m 0,1 H 2 v 3 H 1 V 7.25 C 1,7.125 1.125,7 1.25,7 Z M 3,7 h 10 v 8 H 3 Z m 11,0 h 0.75 C 14.875,7 15,7.125 15,7.25 v 7.5 C 15,14.875 14.875,15 14.75,15 H 14 Z M 1,12 h 1 v 3 H 1.25 C 1.125,15 1,14.875 1,14.75 Z"></path></svg>'}}},register:function(a,b){return!(d.empty(a)||d.empty(b)||!d.string(a)||!d.hash(b))&&(this.registered[a]=e.extend({},this.registered.default,b),!0)},get:function(b,c){var f=this,g="default",h=e.extend({},f.registered.default);d.string(c)&&"default"!==c?(g=c,h=e.extend(h,f.registered[c])):d.hash(c)&&(g="custom",h=e.extend(h,c));var i=d.string(b)&&h.hasOwnProperty(b)?h[b].replace(/\[ICON_CLASS]/g,f.className+"-"+b):null,j=[!1,b,g].map(function(a){return!1===a?f.className:f.className+"-"+a}).join(" ");return a(i).addClass(j)}}),b.icons=new b.Icons}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj),function(a,b,c,d,e){var f="__FooGallerySwipe__",g="ontouchstart"in window,h=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!g,i=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!g,j=g||i;b.Swipe=c.Class.extend({construct:function(b,c){var d=this,f=".fgswipe";d.$el=a(b),d.opt=e.extend({threshold:20,allowPageScroll:!1,swipe:a.noop,data:{}},c),d.active=!1,d.startPoint=null,d.endPoint=null,d.events={start:(j?i?h?"MSPointerDown":"pointerdown":"touchstart":"mousedown")+f,move:(j?i?h?"MSPointerMove":"pointermove":"touchmove":"mousemove")+f,end:(j?i?h?"MSPointerUp":"pointerup":"touchend":"mouseup")+f,leave:(j?i?"mouseleave":null:"mouseleave")+f}},init:function(){var a=this;a.$el.on(a.events.start,{self:a},a.onStart),a.$el.on(a.events.move,{self:a},a.onMove),a.$el.on(a.events.end,{self:a},a.onEnd),d.string(a.events.leave)&&a.$el.on(a.events.leave,{self:a},a.onEnd),a.$el.data(f,a)},destroy:function(){var a=this;a.$el.off(a.events.start,a.onStart),a.$el.off(a.events.move,a.onMove),a.$el.off(a.events.end,a.onEnd),d.string(a.events.leave)&&a.$el.off(a.events.leave,a.onEnd),a.$el.removeData(f)},getAngle:function(a,b){var c=Math.atan2(a.x-b.x,a.y-b.y),d=Math.round(180*c/Math.PI);return 360-(d<0?360-Math.abs(d):d)},getDistance:function(a,b){var c=b.x-a.x,d=b.y-a.y;return c*=c,d*=d,Math.sqrt(c+d)},getDirection:function(a,b){var c=this,d=c.getAngle(a,b);return d>337.5||d<=22.5?"N":d>22.5&&d<=67.5?"NE":d>67.5&&d<=112.5?"E":d>112.5&&d<=157.5?"SE":d>157.5&&d<=202.5?"S":d>202.5&&d<=247.5?"SW":d>247.5&&d<=292.5?"W":d>292.5&&d<=337.5?"NW":"NONE"},getPoint:function(a){var b;return j&&!d.empty(b=a.originalEvent.touches||a.touches)?{x:b[0].pageX,y:b[0].pageY}:d.number(a.pageX)&&d.number(a.pageY)?{x:a.pageX,y:a.pageY}:null},getOffset:function(a){var b=this,c=b.$el.offset();return{left:a.x-c.left,top:a.y-c.top}},onStart:function(a){var b=a.data.self,c=b.getPoint(a);d.empty(c)||(b.active=!0,b.startPoint=b.endPoint=c)},onMove:function(a){var b=a.data.self,e=b.getPoint(a);if(b.active&&!d.empty(e))if(b.endPoint=e,b.opt.allowPageScroll){if(d.hash(b.opt.allowPageScroll)){var f=b.getDirection(b.startPoint,b.endPoint);b.opt.allowPageScroll.x||-1===c.inArray(f,["NE","E","SE","NW","W","SW"])||a.preventDefault(),b.opt.allowPageScroll.y||-1===c.inArray(f,["NW","N","NE","SW","S","SE"])||a.preventDefault()}}else a.preventDefault()},onEnd:function(a){var b=a.data.self;if(b.active){b.active=!1;var c={startPoint:b.startPoint,endPoint:b.endPoint,startOffset:b.getOffset(b.startPoint),endOffset:b.getOffset(b.endPoint),angle:b.getAngle(b.startPoint,b.endPoint),distance:b.getDistance(b.startPoint,b.endPoint),direction:b.getDirection(b.startPoint,b.endPoint)};if(b.opt.threshold>0&&c.distance<b.opt.threshold)return;b.opt.swipe.apply(this,[c,b.opt.data]),b.startPoint=null,b.endPoint=null}}}),a.fn.fgswipe=function(c){return this.each(function(){var e=a(this),g=e.data(f);if(g instanceof b.Swipe){if(d.string(c)&&d.fn(g[c]))return void g[c]();g.destroy()}d.hash(c)&&(g=new b.Swipe(this,c),g.init())})}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj),function(a,b,c,d,e){b.Factory=c.Class.extend({construct:function(){this.registered={}},contains:function(a){return!d.undef(this.registered[a])},make:function(a,b,c){var f,g=this,h=e.arg2arr(arguments);return a=h.shift(),f=g.registered[a],d.hash(f)&&d.fn(f.klass)?e.apply(f.klass,h):null},names:function(b){b=!!d.boolean(b)&&b;var c,e=[];if(b){var f=[];for(c in this.registered)this.registered.hasOwnProperty(c)&&f.push(this.registered[c]);f.sort(function(a,b){return b.priority-a.priority}),a.each(f,function(a,b){e.push(b.name)})}else for(c in this.registered)this.registered.hasOwnProperty(c)&&e.push(c);return e},register:function(a,b,c){if(!d.string(a)||d.empty(a)||!d.fn(b))return!1;c=d.number(c)?c:0;var e=this.registered[a];return this.registered[a]={name:a,klass:b,priority:d.undef(e)?c:e.priority},!0},load:function(){var b,c=this,d=[],e=[];for(b in c.registered)c.registered.hasOwnProperty(b)&&e.push(c.registered[b]);return e.sort(function(a,b){return b.priority-a.priority}),a.each(e,function(a,b){d.push(c.make(b.name))}),d}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn),function(a,b,c,d,e,f){b.TemplateFactory=b.Factory.extend({construct:function(){this.registered={}},register:function(a,b,c,e,f,g){var h=this,i=h._super(a,b,g);if(i){var j=h.registered;j[a].opt=d.hash(c)?c:{},j[a].cls=d.hash(e)?e:{},j[a].il8n=d.hash(f)?f:{}}return i},make:function(b,c){c=d.jq(c)?c:a(c),b=f.extend({},b,c.data("foogallery"));var e=this,g=e.type(b,c);return e.contains(g)?(b=e.options(g,b),e._super(g,b,c)):null},type:function(b,e){e=d.jq(e)?e:a(e);var f=this,g=d.hash(b)&&d.hash(b)&&d.string(b.type)&&f.contains(b.type)?b.type:null;if(null===g&&e.length>0)for(var h=f.registered,i=f.names(!0),j=0,k=i.length;j<k;j++)if(h.hasOwnProperty(i[j])&&"core"!==i[j]){var l=i[j],m=h[l].cls;if(d.string(m.container)){var n=c.selectify(m.container);if(e.is(n)){g=i[j];break}}}return g},configure:function(a,b,c,d){var e=this;if(e.contains(a)){var g=e.registered;f.extend(g[a].opt,b),f.extend(g[a].cls,c),f.extend(g[a].il8n,d)}},options:function(a,c){c=f.extend({type:a},c);var e=this,g=e.registered,h=g.core.opt,i=g.core.cls,j=g.core.il8n;return d.hash(c.cls)||(c.cls={}),d.hash(c.il8n)||(c.il8n={}),d.undef(b.filtering)||(c=b.filtering.merge(c)),d.undef(b.paging)||(c=b.paging.merge(c)),"core"!==a&&e.contains(a)?(c=f.extend({},h,g[a].opt,c),c.cls=f.extend({},i,g[a].cls,c.cls),c.il8n=f.extend({},j,g[a].il8n,c.il8n)):(c=f.extend({},h,c),c.cls=f.extend({},i,c.cls),c.il8n=f.extend({},j,c.il8n)),c}}),b.template=new b.TemplateFactory}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d,e,f){var g=0;b.Template=c.EventClass.extend({construct:function(f,h){var i=this;i._super(),i.namespace=".foogallery-"+ ++g,i.$el=d.jq(h)?h:a(h),i.el=i.$el.get(0)||null,i.$scrollParent=null,i.opt=f,i.template=f.template,i.id=i.$el.prop("id")||f.id,i.cls=f.cls,i.il8n=f.il8n,i.sel=c.selectify(i.cls),i.items=b.components.make("items",i),i.pages=d.undef(b.paging)?null:b.paging.make(f.paging.type,i),i.filter=d.undef(b.filtering)?null:b.filtering.make(f.filtering.type,i),i.state=b.components.make("state",i),i._initialize=null,i._layoutTimeout=null,i._layoutWidths=[],i.lastWidth=0,i.initializing=!1,i.initialized=!1,i.destroying=!1,i.destroyed=!1,i._undo={classes:"",style:"",create:!1,children:!1},i.robserver=new ResizeObserver(e.throttle(function(a){if(!i.destroying&&!i.destroyed&&1===a.length&&a[0].target===i.el){var b=c.getResizeObserverSize(a[0]);i.layout(b.width)}},50))},initialize:function(b){var c=this;return d.promise(c._initialize)?c._initialize:c._initialize=a.Deferred(function(a){c.preInit(b)?c.init().then(function(){c.postInit()?(c.ready(),a.resolve(c)):a.reject("post-init failed")}).fail(a.reject):a.reject("pre-init failed")}).fail(function(a){return console.log("initialize failed",c,a),c.destroy()}).promise()},preInit:function(e){var f=this;if(f.destroying)return!1;if(e=d.jq(e)?e:a(e),f.initializing=!0,0===e.length&&0===f.$el.parent().length)return!1;0===f.$el.length&&(f.$el=f.create(),f.el=f.$el.get(0),f._undo.create=!0),e.length>0&&f.$el.appendTo(e);var g;d.empty(f.opt.scrollParent)||0===(g=a(f.opt.scrollParent)).length?f.$scrollParent=a(document):f.$scrollParent=g.is("html")?a(document):g,f.$el.data(b.DATA_TEMPLATE,f),d.empty(f.opt.on)||f.on(f.opt.on),f._undo.classes=f.$el.attr("class"),f._undo.style=f.$el.attr("style"),f.$el.is(f.sel.container)||f.$el.addClass(f.cls.container);var h=c.selectify(f.opt.classes);return null==h||f.$el.is(h)||f.$el.addClass(f.opt.classes),0===f.$el.children().not(f.sel.item.elem).length&&(f.$el.append(f.createChildren()),f._undo.children=!0),f.opt.protected&&(f.el.oncontextmenu=function(a){return a.preventDefault(),!1}),!f.trigger("pre-init").isDefaultPrevented()},init:function(){var a=this;return a.trigger("init").isDefaultPrevented()?e.reject("init default prevented"):a.items.fetch()},postInit:function(){var b=this;return!b.destroying&&(!b.trigger("post-init").isDefaultPrevented()&&(b.state.init(),b.pages&&b.pages.init(),a(window).on("popstate"+b.namespace,{self:b},b.onWindowPopState),b.robserver.observe(b.el),!0))},ready:function(){var a=this;return!a.destroying&&(a.initializing=!1,a.initialized=!0,a.trigger("ready"),!0)},create:function(){var b=this;return a("<div/>",{id:b.id,class:b.cls.container}).addClass(b.opt.classes)},createChildren:function(){return a()},destroy:function(b){var c=this,f=c._super.bind(c);return c.destroyed?e.resolved:(c.destroying=!0,a.Deferred(function(a){c.initializing&&d.promise(c._initialize)?c._initialize.always(function(){c.destroying=!1,c.doDestroy(b),a.resolve()}):(c.destroying=!1,c.doDestroy(b),a.resolve())}).then(function(){f()}).promise())},doDestroy:function(c){var e=this;e.destroyed||(e.trigger("destroy"),e.robserver.disconnect(),a(window).off(e.namespace),e.state.destroy(c),e.filter&&e.filter.destroy(),e.pages&&e.pages.destroy(),e.items.destroy(),d.empty(e.opt.on)||e.$el.off(e.opt.on),e.trigger("destroyed"),e.$el.removeData(b.DATA_TEMPLATE),d.empty(e._undo.classes)?e.$el.removeAttr("class"):e.$el.attr("class",e._undo.classes),d.empty(e._undo.style)?e.$el.removeAttr("style"):e.$el.attr("style",e._undo.style),e._undo.children&&e.destroyChildren(),e._undo.create&&e.$el.remove(),e.$el=e.state=e.items=e.pages=null,e.destroyed=!0,e.initializing=!1,e.initialized=!1)},destroyChildren:function(){},getAvailable:function(){return this.pages?this.pages.available():this.items.available()},layout:function(a){var b=this;if(null!==b._initialize){if(!d.number(a)){a=b.el.getBoundingClientRect().width}0===a||b._checkWidth(a)||(b.lastWidth=a,b.trigger("layout",[a]))}},_checkWidth:function(a){var b,c=this;return(b=-1!==c._layoutWidths.indexOf(a))||(c._layoutWidths.unshift(a),c._layoutWidths.splice(2,c._layoutWidths.length-2),null!=c._layoutTimeout&&clearTimeout(c._layoutTimeout),c._layoutTimeout=setTimeout(function(){c._layoutWidths.splice(0,c._layoutWidths.length)},100)),b},getCSSClass:function(a,b){b=d.empty(b)?"":b;var c=a instanceof RegExp?a:d.string(a)&&this.opt.regex.hasOwnProperty(a)?this.opt.regex[a]:null,e=this.$el.prop("className")||"",f=null!=c?e.match(c):null;return null!=f&&f.length>=2?f[1]:b},onWindowPopState:function(a){var b=a.data.self,c=a.originalEvent.state;d.empty(c)||c.id!==b.id||b.state.set(c)}}),b.template.register("core",b.Template,{id:null,type:"core",classes:"",on:{},lazy:!0,items:[],scrollParent:null,delay:0,throttle:50,shortpixel:!1,srcset:"data-srcset-fg",src:"data-src-fg",protected:!1,template:{},regex:{theme:/(?:\s|^)(fg-(?:light|dark|custom))(?:\s|$)/,loadingIcon:/(?:\s|^)(fg-loading-(?:default|bars|dots|partial|pulse|trail))(?:\s|$)/,hoverIcon:/(?:\s|^)(fg-hover-(?:zoom|zoom2|zoom3|plus|circle-plus|eye|external|tint))(?:\s|$)/,videoIcon:/(?:\s|^)(fg-video-(?:default|1|2|3|4))(?:\s|$)/,border:/(?:\s|^)(fg-border-(?:thin|medium|thick))(?:\s|$)/,hoverColor:/(?:\s|^)(fg-hover-(?:colorize|grayscale))(?:\s|$)/,hoverScale:/(?:\s|^)(fg-hover-scale)(?:\s|$)/,stickyVideoIcon:/(?:\s|^)(fg-video-sticky)(?:\s|$)/,insetShadow:/(?:\s|^)(fg-shadow-inset-(?:small|medium|large))(?:\s|$)/,filter:/(?:\s|^)(fg-filter-(?:1977|amaro|brannan|clarendon|earlybird|lofi|poprocket|reyes|toaster|walden|xpro2|xtreme))(?:\s|$)/}},{container:"foogallery"},{},-100)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.str),function(a,b,c){a.Component=b.EventClass.extend({construct:function(a){this._super(),this.tmpl=a},destroy:function(){this.tmpl=null,this._super()}}),a.components=new a.Factory}(FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d,e,f){b.State=b.Component.extend({construct:function(a){var b=this;b._super(a),b.apiEnabled=!!window.history&&!!history.replaceState,b.opt=b.tmpl.opt.state,b.enabled=b.opt.enabled,b.current={filter:[],page:0,item:null},b.pushOrReplace=b.isPushOrReplace(b.opt.pushOrReplace)?b.opt.pushOrReplace:"replace",b.defaultMask="foogallery-gallery-{id}";var c=e.escapeRegExp(b.tmpl.id),d=e.escapeRegExp(b.getMasked()),f=e.escapeRegExp(b.opt.values),g=e.escapeRegExp(b.opt.pair);b.regex={exists:new RegExp("^#"+c+"\\"+f+".+?"),masked:new RegExp("^#"+d+"\\"+f+".+?"),values:new RegExp("(\\w+)"+g+"([^"+f+"]+)","g")}},destroy:function(a){var b=this;a||b.clear(),b.opt=b.regex={},b._super()},init:function(){this.set(this.initial())},getIdNumber:function(){return this.tmpl.id.match(/\d+/g)[0]},getMasked:function(){var a=this,b=e.contains(a.opt.mask,"{id}")?a.opt.mask:a.defaultMask;return e.format(b,{id:a.getIdNumber()})},isPushOrReplace:function(a){return-1!==c.inArray(a,["push","replace"])},exists:function(){return this.regex.values.lastIndex=0,
(this.regex.exists.test(location.hash)||this.regex.masked.test(location.hash))&&this.regex.values.test(location.hash)},parse:function(){var b=this,c=b.tmpl,d={};if(b.exists())if(b.enabled){d.id=b.tmpl.id,b.regex.values.lastIndex=0;var e=location.hash.match(b.regex.values);a.each(e,function(a,e){var f,g=e.split(b.opt.pair);if(2===g.length)switch(g[0]){case b.opt.itemKey:f=c.items.fromHash(g[1]),null!==f&&(d.item=f);break;case b.opt.pageKey:c.pages&&null!==(f=c.pages.fromHash(g[1]))&&(d.page=f);break;case b.opt.filterKey:c.filter&&null!==(f=c.filter.fromHash(g[1]))&&(d.filter=f)}})}else b.apiEnabled?history.replaceState(null,"",location.pathname+location.search):location.hash="#";return d},hashify:function(a){var b=this,c=b.tmpl;if(d.hash(a)){var e=[],f=c.items.toHash(a.item);return null!==f&&e.push(b.opt.itemKey+b.opt.pair+f),c.filter&&null!==(f=c.filter.toHash(a.filter))&&e.push(b.opt.filterKey+b.opt.pair+f),c.pages&&null!==(f=c.pages.toHash(a.page))&&e.push(b.opt.pageKey+b.opt.pair+f),e.length>0&&e.unshift("#"+b.getMasked()),e.join(b.opt.values)}return""},replace:function(a){var c=this;if(c.enabled&&c.apiEnabled){a.id=c.tmpl.id;var e=c.hashify(a),g=d.empty(e),h=f.extend({},a,{item:a.item instanceof b.Item?a.item.id:a.item});history.replaceState(g?null:h,"",g?location.pathname+location.search:e)}},push:function(a){var c=this;if(c.enabled&&c.apiEnabled){a.id=c.tmpl.id;var e=c.hashify(a),g=d.empty(e),h=f.extend({},a,{item:a.item instanceof b.Item?a.item.id:a.item});history.pushState(g?null:h,"",g?location.pathname+location.search:e)}},update:function(a,b){var c=this;c.enabled&&c.apiEnabled&&(b=c.isPushOrReplace(b)?b:c.pushOrReplace,c[b](a))},clear:function(){this.exists()&&this.replace({})},initial:function(){var a=this,b=a.parse();return d.empty(b)?a.get():f.extend({filter:[],page:1,item:null},b)},get:function(a){var c,d=this,e=d.tmpl,g={};return a instanceof b.Item&&(g.item=a),e.filter&&null!==(c=e.filter.getState())&&(g.filter=c),e.pages&&null!==(c=e.pages.getState())&&(g.page=c),f.extend({filter:[],page:1,item:null},g)},set:function(a){var c=this,e=c.tmpl;if(d.hash(a)){var g=f.extend({filter:[],page:1,item:null},a);e.items.reset();if(!e.trigger("before-state",[g]).isDefaultPrevented()){if(e.filter&&e.filter.setState(g),e.pages)e.pages.setState(g);else{var h=e.items.available();if(!e.items.isAll(h)){var i=e.items.not(h);e.items.detach(i)}e.items.create(h,!0)}g.item instanceof b.Item&&(c.opt.scrollTo&&g.item.scrollTo(),d.empty(a.item)||(a.item=null,c.replace(a))),c.current=g,e.trigger("after-state",[g])}}}}),b.template.configure("core",{state:{enabled:!1,scrollTo:!0,pushOrReplace:"replace",mask:"foogallery-gallery-{id}",values:"/",pair:":",array:"+",arraySeparator:",",itemKey:"i",filterKey:"f",pageKey:"p"}}),b.components.register("state",b.State)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.str,FooGallery.utils.obj),function(a,b,c,d,e,f){b.Items=b.Component.extend({construct:function(a){var d=this;d.ALLOW_CREATE=!0,d.ALLOW_APPEND=!0,d._super(a),d._typeRegex=/(?:^|\s)?fg-type-(.*?)(?:$|\s)/,d._fetched=null,d._all=[],d._available=[],d._unavailable=[],d._observed=new Map;var e=d.tmpl.cls.item.caption;d.tmpl.sel.item.caption.all=c.selectify([e.elem,e.inner,e.title,e.description]),d.iobserver=new IntersectionObserver(function(a){d.tmpl.destroying||d.tmpl.destroyed||a.forEach(function(a){if(a.isIntersecting){var c=d._observed.get(a.target);c instanceof b.Item&&c.load()}})})},fromHash:function(a){return this.find(this._all,function(b){return b.id===a})},toHash:function(a){return a instanceof b.Item?a.id:null},destroy:function(){var b=this,c=b.all(),d=[];b.iobserver.disconnect(),c.length>0&&(b.tmpl.trigger("destroy-items",[c]),d=a.map(c,function(a){return a.destroy()?a:null}),d.length>0&&b.tmpl.trigger("destroyed-items",[d])),b._fetched=null,b._all=[],b._available=[],b._unavailable=[],b._observed.clear(),b._super()},fetch:function(b){var c=this;if(!b&&d.promise(c._fetched))return c._fetched;var e=c.tmpl.id+"_items",f=c.tmpl.sel,g=c.tmpl.opt.items,h=a.Deferred(),i=c.make(c.tmpl.$el.find(f.item.elem));return d.empty(g)?(d.array(window[e])&&i.push.apply(i,c.make(window[e])),h.resolve(i)):d.array(g)?(i.push.apply(i,c.make(g)),h.resolve(i)):d.string(g)?a.get(g).then(function(a){i.push.apply(i,c.make(a)),h.resolve(i)},function(a,b,c){console.log("FooGallery: GET items error.",g,a,b,c),h.resolve(i)}):h.resolve(i),h.then(function(a){c.setAll(a)}),c._fetched=h.promise()},toJSON:function(a){return(a?this.all():this.available()).map(function(a){return a.toJSON()})},all:function(){return this._all.slice()},count:function(a){return a?this.all().length:this.available().length},available:function(a){return d.fn(a)?this._available.filter(a,this):this._available.slice()},unavailable:function(a){return d.fn(a)?this._unavailable.filter(a,this):this._unavailable.slice()},setAll:function(a){this._all=d.array(a)?a:[],this._all.forEach(function(a,b){a.index=b,d.empty(a.id)&&(a.id=b+1+"")}),this._available=this.all(),this._unavailable=[]},setAvailable:function(a){var b=this;b._available=d.array(a)?a:[],b._all.length!==b._available.length?b._unavailable=b._all.filter(function(a){return-1===b._available.indexOf(a)}):b._unavailable=[]},reset:function(){this.setAvailable(this.all())},find:function(a,b){if(b=d.fn(b)?b:function(){return!0},d.array(a))for(var c=0,e=a.length;c<e;c++)if(!0===b.call(this,a[c]))return a[c];return null},not:function(a){var b=this.all();return d.array(a)?b.filter(function(b){return-1===a.indexOf(b)}):b},isAll:function(a){return!!d.array(a)&&this._all.length===a.length},first:function(a){return this.find(this._available,a)},last:function(a){return this.find(this._available.slice().reverse(),a)},next:function(a,c,e){if(!(a instanceof b.Item))return null;e=!!d.boolean(e)&&e;var f=this._available.slice(),g=f.indexOf(a);if(-1!==g){var h=f.slice(0,g);return f=f.slice(g+1),e&&(f=f.concat(h)),this.find(f,c)}return null},prev:function(a,c,e){if(!(a instanceof b.Item))return null;e=!!d.boolean(e)&&e;var f=this._available.slice().reverse(),g=f.indexOf(a);if(-1!==g){var h=f.slice(0,g);return f=f.slice(g+1),e&&(f=f.concat(h)),this.find(f,c)}return null},creatable:function(c){return this.ALLOW_CREATE&&d.array(c)?a.map(c,function(a){return a instanceof b.Item&&!a.isCreated?a:null}):[]},appendable:function(c){return this.ALLOW_APPEND&&d.array(c)?a.map(c,function(a){return a instanceof b.Item&&a.isCreated&&!a.isAttached?a:null}):[]},detachable:function(c){return d.array(c)?a.map(c,function(a){return a instanceof b.Item&&a.isCreated&&a.isAttached?a:null}):[]},jquerify:function(b){return a(a.map(b,function(a){return a.$el.get()}))},make:function(c){var e=this,g=[];if(d.jq(c)||d.array(c)){var h=[],i=a.makeArray(c);if(0===i.length)return g;e.tmpl.trigger("make-items",[i]).isDefaultPrevented()||(g=a.map(i,function(a){var c=e.type(a),g=f.extend(d.hash(a)?a:{},{type:c}),i=b.components.make(c,e.tmpl,g);return d.element(a)?i.parse(a)?(h.push(i),e.ALLOW_APPEND||i.detach(),i):null:i})),g.length>0&&e.tmpl.trigger("made-items",[g]),h.length>0&&e.tmpl.trigger("parsed-items",[h])}return g},type:function(a){var c,e=this;if(d.hash(a))c=a.type;else if(d.element(a)){var f=a.className.match(e._typeRegex);null!==f&&2===f.length&&(c=f[1])}return d.string(c)&&b.components.contains(c)?c:"image"},create:function(b,c){var e=this,f=[],g=e.creatable(b);if(g.length>0){e.tmpl.trigger("create-items",[g]).isDefaultPrevented()||(f=a.map(g,function(a){return a.create()?a:null})),f.length>0&&e.tmpl.trigger("created-items",[f])}return d.boolean(c)&&c?e.append(b):f},append:function(b){var c=this,d=[],e=c.appendable(b);if(e.length>0){c.tmpl.trigger("append-items",[e]).isDefaultPrevented()||(d=a.map(e,function(a){return a.append()?a:null})),d.length>0&&c.tmpl.trigger("appended-items",[d])}return d},detach:function(b){var c=this,d=[],e=c.detachable(b);if(e.length>0){c.tmpl.trigger("detach-items",[e]).isDefaultPrevented()||(d=a.map(e,function(a){return a.detach()?a:null})),d.length>0&&c.tmpl.trigger("detached-items",[d])}return d},observe:function(a){var b=this;!(b.iobserver&&a.isCreated&&a.isAttached)||a.isLoading&&a.isLoaded||(b.iobserver.observe(a.el),b._observed.set(a.el,a))},unobserve:function(a){var b=this;b.iobserver&&(b.iobserver.unobserve(a.el),b._observed.delete(a.el))}}),b.components.register("items",b.Items)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d,e,f,g){b.Item=b.Component.extend({construct:function(a,b){var c=this;c._super(a),c.cls=a.cls.item,c.il8n=a.il8n.item,c.sel=a.sel.item,c.opt=f.extend({},a.opt.item,b),c.isAttached=!1,c.isCreated=!1,c.isDestroyed=!1,c.isLoading=!1,c.isLoaded=!1,c.isError=!1,c.isParsed=!1,c.isPicture=!1,c.$el=null,c.el=null,c.$inner=null,c.$anchor=null,c.$overlay=null,c.$wrap=null,c.$image=null,c.$caption=null,c.$loader=null,c.index=-1,c.type=c.opt.type,c.id=c.opt.id,c.productId=c.opt.productId,c.href=c.opt.href,c.placeholder=c.opt.placeholder,c.src=c.opt.src,c.srcset=c.opt.srcset,c.sources=c.opt.sources,c.width=c.opt.width,c.height=c.opt.height,c.title=c.opt.title,c.alt=c.opt.alt,c.caption=d.empty(c.opt.caption)?c.title:c.opt.caption,c.description=d.empty(c.opt.description)?c.alt:c.opt.description,c.attr=c.opt.attr,c.tags=c.opt.tags,c.maxCaptionLength=c.opt.maxCaptionLength,c.maxDescriptionLength=c.opt.maxDescriptionLength,c.showCaptionTitle=c.opt.showCaptionTitle,c.showCaptionDescription=c.opt.showCaptionDescription,c.noLightbox=c.opt.noLightbox,c.panelHide=c.opt.panelHide,c.exif=c.opt.exif,c.hasExif=d.exif(c.exif),c._load=null,c._undo={classes:"",style:"",placeholder:!1}},destroy:function(){var a=this;return a.tmpl.trigger("destroy-item",[a]).isDefaultPrevented()||(a.isDestroyed=a.doDestroyItem()),a.isDestroyed&&(a.tmpl.trigger("destroyed-item",[a]),a._super()),a.isDestroyed},doDestroyItem:function(){var a=this;return a.isParsed?(a.$anchor.add(a.$caption).off("click.foogallery"),a.append(),a.tmpl.items.unobserve(a),d.empty(a._undo.classes)?a.$el.removeAttr("class"):a.$el.attr("class",a._undo.classes),d.empty(a._undo.style)?a.$el.removeAttr("style"):a.$el.attr("style",a._undo.style),a._undo.placeholder&&a.$image.prop("src")===a.placeholder&&a.$image.removeAttr("src")):a.isCreated&&(a.detach(),a.$el.remove()),!0},parse:function(b){var c=this,d=a(b);return!c.tmpl.trigger("parse-item",[c,d]).isDefaultPrevented()&&(c.isCreated=d.is(c.sel.elem))&&(c.isParsed=c.doParseItem(d)),c.isParsed&&(c.isLoaded||c.tmpl.items.observe(c),c.tmpl.trigger("parsed-item",[c])),c.isParsed},doParseItem:function(c){var e=this,h=e.cls,i=e.sel,j=c.get(0);if(e._undo.classes=c.attr("class")||"",e._undo.style=c.attr("style")||"",e.$el=c.data(b.DATA_ITEM,e),e.el=j,e.$inner=a(j.querySelector(i.inner)),e.$anchor=a(j.querySelector(i.anchor)).on("click.foogallery",{self:e},e.onAnchorClick),e.$image=a(j.querySelector(i.image)),e.$caption=a(j.querySelector(i.caption.elem)).on("click.foogallery",{self:e},e.onCaptionClick),e.$overlay=a(j.querySelector(i.overlay)),e.$wrap=a(j.querySelector(i.wrap)),e.$loader=a(j.querySelector(i.loader)),!(e.$el.length&&e.$inner.length&&e.$anchor.length&&e.$image.length))return console.error("FooGallery Error: Invalid HTML markup. Check the item markup for additional elements or malformed HTML in the title or description.",e),e.isError=!0,e.tmpl.trigger("error-item",[e]),0!==e.$el.length&&e.$el.remove(),!1;e.isAttached=null!==j.parentNode,e.isLoading=e.$el.hasClass(h.loading),e.isLoaded=e.$el.hasClass(h.loaded),e.isError=e.$el.hasClass(h.error);var k=e.$anchor.data();e.id=k.id||e.id,e.productId=k.productId||e.productId,e.tags=k.tags||e.tags,e.href=k.href||e.$anchor.attr("href")||e.href;var l;if(e.$image.is("picture")?(e.isPicture=!0,e.sources=e.$image.find("source").map(function(a,b){return{srcset:b.getAttribute(e.tmpl.opt.srcset),type:b.getAttribute("type"),media:b.getAttribute("media"),sizes:b.getAttribute("sizes")}}).get(),l=e.$image.find("img")):l=e.$image,e.src=l.attr(e.tmpl.opt.src)||e.src,e.srcset=l.attr(e.tmpl.opt.srcset)||e.srcset,e.width=parseInt(l.attr("width"))||e.width,e.height=parseInt(l.attr("height"))||e.height,e.title=l.attr("title")||e.title,e.alt=l.attr("alt")||e.alt,e.caption=k.title||k.captionTitle||e.caption,e.description=k.description||k.captionDesc||e.description,e.noLightbox=e.$anchor.hasClass(h.noLightbox),e.panelHide=e.$anchor.hasClass(h.panelHide),d.exif(k.exif)&&(e.exif=f.extend(e.exif,k.exif),e.hasExif=!0),e.maxCaptionLength>0){var m=g.trimTo(e.caption,e.maxCaptionLength);m!==e.caption&&e.$caption.find(i.caption.title).html(m)}if(e.maxDescriptionLength){var n=g.trimTo(e.description,e.maxDescriptionLength);n!==e.description&&e.$caption.find(i.caption.description).html(n)}var o=l.get(0);d.string(o.src)&&0!==o.src.length||(d.string(e.placeholder)&&0!==e.placeholder.length||(e.placeholder=e.createPlaceholder(e.width,e.height)),e.placeholder.length>0&&(o.src=e.placeholder,e._undo.placeholder=!0));var p=e.getTypeClass();return e.$el.hasClass(p)||e.$el.addClass(p),e.hasExif&&!e.$el.hasClass(h.exif)&&e.$el.addClass(h.exif),!e.isCreated||!e.isAttached||e.isLoading||e.isLoaded||e.isError||e.$el.hasClass(h.idle)||e.$el.addClass(h.idle),e.doShortPixel(),!0},create:function(){var a=this;if(!a.isCreated&&d.string(a.href)&&d.string(a.src)&&d.number(a.width)&&d.number(a.height)){a.tmpl.trigger("create-item",[a]).isDefaultPrevented()||(a.isCreated=a.doCreateItem()),a.isCreated&&a.tmpl.trigger("created-item",[a])}return a.isCreated},_setAttributes:function(a,b){Object.keys(b).forEach(function(c){d.empty(b[c])||a.setAttribute(c,d.string(b[c])?b[c]:JSON.stringify(b[c]))})},doShortPixel:function(){function a(a,b,c){return"/"===b||"/"===c?"/":b}var c=this;if(c.tmpl.opt.shortpixel&&!b.supportsWebP){var d=/([\/,+])to_webp([\/,+])/i;c.href=c.href.replace(d,a),c.src=c.src.replace(d,a),c.srcset=c.srcset.replace(d,a)}},doCreateItem:function(){var c=this,e=c.cls,f=c.attr,h=c.hasExif?e.exif:"";c.isLoaded=!c.tmpl.opt.lazy,c.isPicture=c.sources.length>0,c.doShortPixel();var i=document.createElement("div");c._setAttributes(i,f.elem),i.className=[e.elem,c.getTypeClass(),h,c.isLoaded?e.loaded:e.idle].join(" ");var j=document.createElement("figure");c._setAttributes(j,f.inner),j.className=e.inner;var k=[e.anchor];c.noLightbox&&k.push(e.noLightbox),c.panelHide&&k.push(e.panelHide);var l=document.createElement("a");c._setAttributes(l,f.anchor),c._setAttributes(l,{class:k.join(" "),href:c.href,"data-id":c.id,"data-type":c.type,"data-title":c.caption,"data-description":c.description,"data-tags":c.tags,"data-exif":c.exif,"data-product-id":c.productId}),d.string(c.placeholder)&&0!==c.placeholder.length||(c.placeholder=c.createPlaceholder(c.width,c.height));var m=document.createElement("img");c._setAttributes(m,f.image);var n={class:e.image,src:c.placeholder,width:c.width+"",height:c.height+"",title:c.title,alt:c.alt};c.isLoaded?(n.src=c.src,n.srcset=c.srcset):(n[c.tmpl.opt.src]=c.src,n[c.tmpl.opt.srcset]=c.srcset),c._setAttributes(m,n);var o;c.isPicture&&(o=document.createElement("picture"),c._setAttributes(o,f.picture),c.sources.forEach(function(a){var b=document.createElement("source"),d={media:a.media,sizes:a.sizes,type:a.type};c.isLoaded?d.srcset=a.srcset:d[c.tmpl.opt.srcset]=a.srcset,c._setAttributes(b,d),o.appendChild(b)}),o.appendChild(m));var p=document.createElement("span");p.className=e.overlay;var q=document.createElement("span");q.className=e.wrap;var r=document.createElement("div");r.className=e.loader;var s=document.createElement("figcaption");c._setAttributes(s,f.caption.elem),s.className=e.caption.elem;var t=document.createElement("div");c._setAttributes(t,f.caption.inner),t.className=e.caption.inner;var u=null;c.showCaptionTitle&&d.string(c.caption)&&c.caption.length>0&&(u=document.createElement("div"),c._setAttributes(u,f.caption.title),u.className=e.caption.title,u.innerHTML=c.maxCaptionLength>0?g.trimTo(c.caption,c.maxCaptionLength):c.caption);var v=null;return c.showCaptionDescription&&d.string(c.description)&&c.description.length>0&&(v=document.createElement("div"),c._setAttributes(v,f.caption.description),v.className=e.caption.description,v.innerHTML=c.maxDescriptionLength>0?g.trimTo(c.description,c.maxDescriptionLength):c.description),null!==u&&t.appendChild(u),null!==v&&t.appendChild(v),s.appendChild(t),c.isPicture?q.appendChild(o):q.appendChild(m),l.appendChild(p),l.appendChild(q),j.appendChild(l),j.appendChild(s),i.appendChild(j),i.appendChild(r),c.$el=a(i).data(b.DATA_ITEM,c),c.el=i,c.$inner=a(j),c.$anchor=a(l).on("click.foogallery",{self:c},c.onAnchorClick),c.$overlay=a(p),c.$wrap=a(q),c.isPicture?c.$image=a(o):c.$image=a(m),c.$caption=a(s).on("click.foogallery",{self:c},c.onCaptionClick),c.$loader=a(r),!0},append:function(){var a=this;if(a.isCreated&&!a.isAttached){a.tmpl.trigger("append-item",[a]).isDefaultPrevented()||(a.tmpl.$el.append(a.$el.removeClass(a.cls.hidden)),a.isAttached=!0),a.isAttached&&(a.isLoaded||a.tmpl.items.observe(a),a.tmpl.trigger("appended-item",[a]))}return a.isAttached},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.tmpl.items.unobserve(a);a.tmpl.trigger("detach-item",[a]).isDefaultPrevented()||(a.$el.detach().removeClass(a.cls.hidden),a.isAttached=!1),a.isAttached||a.tmpl.trigger("detached-item",[a])}return!a.isAttached},load:function(){var b=this;return d.promise(b._load)?b._load:b._load=a.Deferred(function(a){return b.isLoaded?a.resolve(b):b.isCreated&&b.isAttached?b.tmpl.trigger("load-item",[b]).isDefaultPrevented()?a.reject("default prevented"):(b.isLoading=!0,b.tmpl.items.unobserve(b),b.$el.removeClass(b.cls.idle).removeClass(b.cls.hidden).removeClass(b.cls.loaded).removeClass(b.cls.error).addClass(b.cls.loading),void b.loadIMG().then(function(){b.isLoading=!1,b.isLoaded=!0,b.$el.removeClass(b.cls.loading).addClass(b.cls.loaded),b.tmpl.trigger("loaded-item",[b]),a.resolve(b)},function(c){b.isLoading=!1,b.isError=!0,b.$el.removeClass(b.cls.loading).addClass(b.cls.error),b.tmpl.trigger("error-item",[b]),a.reject(c)})):a.reject("not created or attached")}).promise()},loadIMG:function(){var b=this;return new a.Deferred(function(a){var c=b.isPicture?b.$image.find("img").get(0):b.$image.get(0);if(!c)return a.reject("Unable to find img element.");var e=c.src,f=c.srcset;c.onload=function(){c.onload=c.onerror=null,a.resolve(c)},c.onerror=function(){c.onload=c.onerror=null,d.empty(e)?c.removeAttribute("src"):c.src=e,d.empty(f)?c.removeAttribute("srcset"):c.srcset=f,a.reject(c)},b.isPicture&&b.$image.find("source").each(function(a,c){var e=c.getAttribute(b.tmpl.opt.srcset);d.empty(e)||(c.srcset=e)}),c.src=b.src,d.empty(b.srcset)||(c.srcset=b.srcset),c.complete&&c.onload()}).promise()},createPlaceholder:function(a,b){return d.number(a)&&d.number(b)?"data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%22"+a+"%22%20height=%22"+b+"%22%20viewBox=%220%200%20"+a+"%20"+b+"%22%3E%3C/svg%3E":""},getTypeClass:function(){return this.cls.types[this.type]||""},scrollTo:function(a){var b=this;if(b.isAttached){var c=b.$el.get(0);c.scrollIntoViewIfNeeded?c.scrollIntoViewIfNeeded():c.scrollIntoView("top"===a)}return b},updateState:function(){this.tmpl.state.update(this.tmpl.state.get(this))},toJSON:function(){return{type:this.type,id:this.id,productId:this.productId,href:this.href,src:this.src,srcset:this.srcset,width:this.width,height:this.height,alt:this.alt,title:this.title,caption:this.caption,description:this.description,tags:this.tags.slice(),maxCaptionLength:this.maxCaptionLength,maxDescriptionLength:this.maxDescriptionLength,showCaptionTitle:this.showCaptionTitle,showCaptionDescription:this.showCaptionDescription,noLightbox:this.noLightbox,panelHide:this.panelHide,attr:f.extend({},this.attr)}},onAnchorClick:function(a){var b=a.data.self;b.tmpl.trigger("anchor-click-item",[b]).isDefaultPrevented()?a.preventDefault():b.updateState()},onCaptionClick:function(b){var c=b.data.self;!c.tmpl.trigger("caption-click-item",[c]).isDefaultPrevented()&&c.$anchor.length>0&&!a(b.target).is("a,:input")&&c.$anchor.get(0).click()}}),b.template.configure("core",{item:{type:"item",id:"",href:"",placeholder:"",src:"",srcset:"",sources:[],width:0,height:0,title:"",alt:"",caption:"",description:"",tags:[],maxCaptionLength:0,maxDescriptionLength:0,showCaptionTitle:!0,showCaptionDescription:!0,noLightbox:!1,panelHide:!1,exif:{aperture:null,camera:null,created_timestamp:null,shutter_speed:null,focal_length:null,iso:null,orientation:null},attr:{elem:{},inner:{},anchor:{},image:{},picture:{},caption:{elem:{},inner:{},title:{},description:{}}}}},{item:{elem:"fg-item",inner:"fg-item-inner",exif:"fg-item-exif",anchor:"fg-thumb",overlay:"fg-image-overlay",wrap:"fg-image-wrap",image:"fg-image",loader:"fg-loader",idle:"fg-idle",loading:"fg-loading",loaded:"fg-loaded",error:"fg-error",hidden:"fg-hidden",noLightbox:"fg-no-lightbox",panelHide:"fg-panel-hide",types:{item:"fg-type-unknown"},caption:{elem:"fg-caption",inner:"fg-caption-inner",title:"fg-caption-title",description:"fg-caption-desc"}}},{item:{exif:{aperture:"Aperture",camera:"Camera",created_timestamp:"Date",shutter_speed:"Exposure",focal_length:"Focal Length",iso:"ISO",orientation:"Orientation"}}}),b.components.register("item",b.Item)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj,FooGallery.utils.str),function(a,b,c,d){b.Image=b.Item.extend({}),b.template.configure("core",null,{item:{types:{image:"fg-type-image"}}}),b.components.register("image",b.Image)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Video=b.Item.extend({construct:function(a,b){var c=this;c._super(a,b),c.cover=c.opt.cover},doParseItem:function(a){var b=this;return!!b._super(a)&&(b.cover=b.$anchor.data("cover")||b.cover,!0)},doCreateItem:function(){var a=this;return!!a._super()&&(a.$anchor.attr("data-cover",a.cover),!0)},toJSON:function(){var a=this._super();return a.cover=this.cover,a}}),b.template.configure("core",{item:{cover:""}},{item:{types:{video:"fg-type-video"}}}),b.components.register("video",b.Video)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Iframe=b.Item.extend({}),b.template.configure("core",null,{item:{types:{iframe:"fg-type-iframe"}}}),b.components.register("iframe",b.Iframe)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Html=b.Item.extend({}),b.template.configure("core",null,{item:{types:{html:"fg-type-html"}}}),b.components.register("html",b.Html)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Embed=b.Video.extend({}),b.template.configure("core",null,{item:{types:{embed:"fg-type-embed fg-type-video"}}}),b.components.register("embed",b.Embed)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){a.FilteringFactory=a.Factory.extend({construct:function(){this.registered={}},register:function(a,c,d,e,f,g,h){var i=this,j=i._super(a,c,h);if(j){var k=i.registered;k[a].ctrl=b.fn(d)?d:null,k[a].opt=b.hash(e)?e:{},k[a].cls=b.hash(f)?f:{},k[a].il8n=b.hash(g)?g:{}}return j},type:function(a){var c,d=this;return b.hash(a)&&b.hash(c=a.filtering)&&b.string(c.type)&&d.contains(c.type)?c.type:null},merge:function(a){a=d.extend({},a);var c=this,e=c.type(a),f=c.registered,g=f.default.opt,h=f.default.cls,i=f.default.il8n,j=b.hash(a.filtering)?a.filtering:{},k=b.hash(a.cls)&&b.hash(a.cls.filtering)?d.extend({},a.cls.filtering):{},l=b.hash(a.il8n)&&b.hash(a.il8n.filtering)?d.extend({},a.il8n.filtering):{};return b.hash(a.cls)||(a.cls={}),b.hash(a.il8n)||(a.il8n={}),"default"!==e&&c.contains(e)?(a.filtering=d.extend({},g,f[e].opt,j,{type:e}),a.cls=d.extend(a.cls,{filtering:h},{filtering:f[e].cls},{filtering:k}),a.il8n=d.extend(a.il8n,{filtering:i},{filtering:f[e].il8n},{filtering:l})):(a.filtering=d.extend({},g,j,{type:e}),a.cls=d.extend(a.cls,{filtering:h},{filtering:k}),a.il8n=d.extend(a.il8n,{filtering:i},{filtering:l})),a},configure:function(a,b,c,e){var f=this;if(f.contains(a)){var g=f.registered;d.extend(g[a].opt,b),d.extend(g[a].cls,c),d.extend(g[a].il8n,e)}},hasCtrl:function(a){var c=this,d=c.registered[a];return b.hash(d)&&b.fn(d.ctrl)},makeCtrl:function(a,c,d,e){var f=this,g=f.registered[a];return b.hash(g)&&b.fn(g.ctrl)?new g.ctrl(c,d,e):null}}),a.filtering=new a.FilteringFactory}(FooGallery,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d){b.Filtering=b.Component.extend({construct:function(a){var b=this;b._super(a),b.opt=b.tmpl.opt.filtering,b.cls=b.tmpl.cls.filtering,b.il8n=b.tmpl.il8n.filtering,b.sel=b.tmpl.sel.filtering,b.pushOrReplace=b.opt.pushOrReplace,b.type=b.opt.type,b.theme=b.opt.theme,b.position=b.opt.position,b.mode=b.opt.mode,b.sortBy=b.opt.sortBy,b.sortInvert=b.opt.sortInvert,b.min=b.opt.min,b.limit=b.opt.limit,b.showCount=b.opt.showCount,b.adjustSize=b.opt.adjustSize,b.smallest=b.opt.smallest,b.largest=b.opt.largest,b.adjustOpacity=b.opt.adjustOpacity,b.lightest=b.opt.lightest,b.darkest=b.opt.darkest,b.current=[],b.ctrls=[],b.tags=[],b.isMultiLevel=!1},fromHash:function(a){var b=this,c=b.tmpl.state.opt;return a.split(c.arraySeparator).map(function(a){return d.empty(a)?[]:a.split(c.array).map(function(a){return decodeURIComponent(a)})})},toHash:function(b){var c=this,e=c.tmpl.state.opt,f=null;return d.array(b)&&(f=a.map(b,function(b){return(d.array(b)?a.map(b,function(a){return d.undef(a)?"":encodeURIComponent(a)}):[]).join(e.array)}).join(e.arraySeparator)),d.empty(f)?null:f},getState:function(){return d.array(this.current)&&!this.current.every(function(a){return 0===a.length})?this.current.slice():null},setState:function(a){this.rebuild(),this.set(a.filter,!1)},destroy:function(){var b=this;b.tags.splice(0,b.tags.length),a.each(b.ctrls.splice(0,b.ctrls.length),function(a,b){b.destroy()}),b._super()},count:function(a,b){a=d.array(a)?a:[],b=d.array(b)?b:[];for(var e,f={__ALL__:0},g=0===b.length,h=0,i=a.length;h<i;h++)if(!d.empty(e=a[h].tags)){f.__ALL__++;for(var j,k=0,l=e.length;k<l;k++)d.empty(j=e[k])||!g&&(g||-1===c.inArray(j,b))||(d.number(f[j])?f[j]++:f[j]=1)}for(var m=0,n=b.length;m<n;m++)f.hasOwnProperty(b[m])||(f[b[m]]=0);return f},createTagObjects:function(a,b,d,e){var f=this,g=[],h=f.count(a,b),i=1/0,j=0,k=-1;for(var l in h)if(h.hasOwnProperty(l)){var m=h[l],n="__ALL__"===l;(f.min<=0||m>=f.min)&&(b.length>0?k=c.inArray(l,b):k++,g.push({level:d,index:k,value:n?"":l,text:n?e:l,count:m,percent:1,size:f.largest,opacity:f.darkest}),m<i&&(i=m),m>j&&(j=m))}if(f.limit>0&&g.length>f.limit&&(g.sort(function(a,b){return b.count-a.count}),g=g.slice(0,f.limit)),!f.isMultiLevel&&(!0===f.adjustSize||!0===f.adjustOpacity))for(var o,p=f.largest-f.smallest,q=f.darkest-f.lightest,r=0,s=g.length;r<s;r++)o=g[r],o.percent=(o.count-i)/(j-i),o.size=f.adjustSize?Math.round(p*o.percent+f.smallest):f.largest,o.opacity=f.adjustOpacity?q*o.percent+f.lightest:f.darkest;switch(f.sortBy){case"none":f.sort(g,"index",!1);break;default:f.sort(g,f.sortBy,f.sortInvert)}return g},showControl:function(){return!this.tags.every(function(a){return 0===a.length})},build:function(){var c=this,e=c.tmpl.items.all();if(c.isMultiLevel=c.opt.tags.length>0&&d.object(c.opt.tags[0]),e.length>0&&(c.isMultiLevel?a.each(c.opt.tags,function(a,b){c.tags.push(c.createTagObjects(e,b.tags,a,b.all||c.il8n.all))}):c.tags.push(c.createTagObjects(e,c.opt.tags,0,c.il8n.all))),c.showControl()&&b.filtering.hasCtrl(c.type)){var f,g,h=c.position;"both"!==h&&"top"!==h||(f=b.filtering.makeCtrl(c.type,c.tmpl,c,"top"),f.create()&&(f.append(),c.ctrls.push(f))),"both"!==h&&"bottom"!==h||(g=b.filtering.makeCtrl(c.type,c.tmpl,c,"bottom"),g.create()&&(g.append(),c.ctrls.push(g)))}},rebuild:function(){var b=this;b.tags.splice(0,b.tags.length),a.each(b.ctrls.splice(0,b.ctrls.length),function(a,b){b.destroy()}),b.build()},controls:function(b){var c=this;a.each(c.ctrls,function(a,c){c.update(b)})},hasAll:function(a,b){return b.every(function(b){return 0===b.length||d.array(a.tags)&&b.every(function(b){return-1!==a.tags.indexOf(b)})})},hasSome:function(a,b){return b.every(function(b){return 0===b.length||d.array(a.tags)&&b.some(function(b){return-1!==a.tags.indexOf(b)})})},set:function(b,c){d.string(b)&&(b=[[b]]),d.array(b)||(b=[]);var e,f=this;if(!f.arraysEqual(f.current,b)){var g=f.current.slice(),h=function(){if(c=!d.boolean(c)||c,c&&!f.tmpl.state.exists()&&(e=f.tmpl.state.get(),f.tmpl.state.update(e,f.pushOrReplace)),d.empty(b))f.tmpl.items.reset();else{var h=f.tmpl.items.all();h="intersect"===f.mode?a.map(h,function(a){return f.hasAll(a,b)?a:null}):a.map(h,function(a){return f.hasSome(a,b)?a:null}),f.tmpl.items.setAvailable(h)}f.current=b.slice(),f.controls(b),f.tmpl.pages?(f.tmpl.pages.rebuild(),f.tmpl.pages.set(1,null,null,!0)):(f.tmpl.items.detach(f.tmpl.items.all()),f.tmpl.items.create(f.tmpl.getAvailable(),!0)),c&&(e=f.tmpl.state.get(),f.tmpl.state.update(e,f.pushOrReplace)),f.tmpl.trigger("after-filter-change",[f.current,g])};return!f.tmpl.trigger("before-filter-change",[f.current,b,h]).isDefaultPrevented()&&(h(),!0)}return!1},arraysEqual:function(a,b){if(a.length!==b.length)return!1;a=a.slice(),b=b.slice(),a.sort(),b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0},sort:function(a,b,c){a.sort(function(a,e){if(a.hasOwnProperty(b)&&e.hasOwnProperty(b)){if(!d.string(a[b])||!d.string(e[b]))return c?e[b]-a[b]:a[b]-e[b];var f=a[b].toUpperCase(),g=e[b].toUpperCase();if(c){if(g<f)return-1;if(g>f)return 1}else{if(f<g)return-1;if(f>g)return 1}}return 0})},apply:function(a){var b=this;b.set(a,!b.tmpl.pages)}}),b.FilteringControl=b.Component.extend({construct:function(a,b,c){var d=this;d._super(a),d.filter=b,d.position=c,d.$container=null},create:function(){var b=this;return b.$container=a("#"+b.tmpl.id+"_filtering-"+b.position),b.$container.length>0?(b._containerExisted=!0,b.$container.removeClass(function(a,c){return b._placeholderClasses=c.match(/(^|\s)fg-ph-\S+/g)||[],b._placeholderClasses.join(" ")}).addClass([b.filter.cls.container,b.filter.theme].join(" "))):b.$container=a("<nav/>",{class:[b.filter.cls.container,b.filter.theme].join(" ")}),!0},destroy:function(){var a=this;a._containerExisted?a.$container.empty().removeClass().addClass(a._placeholderClasses.join(" ")):a.$container.remove(),a.$container=null},append:function(){var a=this;a._containerExisted||("top"===a.position?a.$container.insertBefore(a.tmpl.$el):a.$container.insertAfter(a.tmpl.$el))},update:function(a){}}),b.filtering.register("default",b.Filtering,null,{type:"none",theme:"fg-light",pushOrReplace:"push",position:"none",mode:"single",sortBy:"value",sortInvert:!1,tags:[],min:0,limit:0,showCount:!1,adjustSize:!1,adjustOpacity:!1,smallest:12,largest:16,lightest:.5,darkest:1},{container:"fg-filtering-container"},null,-100)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Tags=b.Filtering.extend({}),b.TagsControl=b.FilteringControl.extend({construct:function(a,b,c){this._super(a,b,c),this.$container=null,this.lists=[]},create:function(){var a=this;if(a._super()){for(var b=a.filter.cls,c=0,d=a.filter.tags.length;c<d;c++)a.lists.push(a.createList(a.filter.tags[c]).appendTo(a.$container));return a.filter.isMultiLevel||!0!==a.filter.showCount||a.$container.addClass(b.showCount),!0}return!1},createList:function(b){for(var c=this,d=c.filter.cls,e=a("<ul/>",{class:d.list}),f=0,g=b.length;f<g;f++)e.append(c.createItem(b[f]).toggleClass(d.selected,0===f));return e},destroy:function(){var a=this,b=a.filter.sel;a.lists.forEach(function(c,d){c.find(b.link).off("click.foogallery",a.onLinkClick)}),a.lists=[],a._super()},update:function(b){var e=this,f=e.filter.cls,g=e.filter.sel;e.lists.forEach(function(e,h){e.find(g.item).removeClass(f.selected).each(function(){var e=a(this),g=e.data("tag");d.string(g)||(g+="");var i=d.empty(g);e.toggleClass(f.selected,i&&d.empty(b[h])||!i&&-1!==c.inArray(g,b[h]))})})},createItem:function(b){var c=this,e=c.filter.cls,f=a("<li/>",{class:e.item}).attr("data-tag",b.value),g=a("<a/>",{href:"#tag-"+b.value,
class:e.link}).on("click.foogallery",{self:c,tag:b},c.onLinkClick).css("font-size",b.size).css("opacity",b.opacity).append(a("<span/>",{text:d.string(b.text)?b.text:b.value,class:e.text})).appendTo(f);return c.filter.isMultiLevel||!0!==c.filter.showCount||g.append(a("<span/>",{text:b.count,class:e.count})),f},onLinkClick:function(a){a.preventDefault();var b,e=a.data.self,f=a.data.tag,g=e.filter.current.map(function(a){return d.array(a)?a.slice():a});if(d.empty(f.value))g[f.level]=[];else switch(e.filter.mode){case"union":case"intersect":d.array(g[f.level])||(g[f.level]=[]),b=c.inArray(f.value,g[f.level]),-1===b?g[f.level].push(f.value):g[f.level].splice(b,1);break;case"single":default:g[f.level]=[f.value]}g.every(d.empty)&&(g=[]),e.filter.apply(g)}}),b.filtering.register("tags",b.Tags,b.TagsControl,{type:"tags",position:"top",pushOrReplace:"push"},{showCount:"fg-show-count",list:"fg-tag-list",item:"fg-tag-item",link:"fg-tag-link",text:"fg-tag-text",count:"fg-tag-count",selected:"fg-selected"},{all:"All",none:"No items found."},-100)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){a.PagingFactory=a.Factory.extend({construct:function(){this.registered={}},register:function(a,c,d,e,f,g,h){var i=this,j=i._super(a,c,h);if(j){var k=i.registered;k[a].ctrl=b.fn(d)?d:null,k[a].opt=b.hash(e)?e:{},k[a].cls=b.hash(f)?f:{},k[a].il8n=b.hash(g)?g:{}}return j},type:function(a){var c,d=this;return b.hash(a)&&b.hash(c=a.paging)&&b.string(c.type)&&d.contains(c.type)?c.type:null},merge:function(a){a=d.extend({},a);var c=this,e=c.type(a),f=c.registered,g=f.default.opt,h=f.default.cls,i=f.default.il8n,j=b.hash(a.paging)?a.paging:{},k=b.hash(a.cls)&&b.hash(a.cls.paging)?d.extend({},a.cls.paging):{},l=b.hash(a.il8n)&&b.hash(a.il8n.paging)?d.extend({},a.il8n.paging):{};return b.hash(a.cls)||(a.cls={}),b.hash(a.il8n)||(a.il8n={}),"default"!==e&&c.contains(e)?(a.paging=d.extend({},g,f[e].opt,j,{type:e}),a.cls=d.extend(a.cls,{paging:h},{paging:f[e].cls},{paging:k}),a.il8n=d.extend(a.il8n,{paging:i},{paging:f[e].il8n},{paging:l})):(a.paging=d.extend({},g,j,{type:e}),a.cls=d.extend(a.cls,{paging:h},{paging:k}),a.il8n=d.extend(a.il8n,{paging:i},{paging:l})),a},configure:function(a,b,c,e){var f=this;if(f.contains(a)){var g=f.registered;d.extend(g[a].opt,b),d.extend(g[a].cls,c),d.extend(g[a].il8n,e)}},hasCtrl:function(a){var c=this,d=c.registered[a];return b.hash(d)&&b.fn(d.ctrl)},makeCtrl:function(a,c,d,e){var f=this,g=f.registered[a];return b.hash(g)&&b.fn(g.ctrl)?new g.ctrl(c,d,e):null}}),a.paging=new a.PagingFactory}(FooGallery,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d){b.Paging=b.Component.extend({construct:function(a){var b=this;b._super(a),b.opt=b.tmpl.opt.paging,b.cls=b.tmpl.cls.paging,b.il8n=b.tmpl.il8n.paging,b.sel=b.tmpl.sel.paging,b.pushOrReplace=b.opt.pushOrReplace,b.type=b.opt.type,b.theme=b.opt.theme,b.size=b.opt.size,b.position=b.opt.position,b.scrollToTop=b.opt.scrollToTop,b.current=0,b.total=0,b.ctrls=[],b._pages=[]},init:function(){},fromHash:function(a){var b=parseInt(a);return isNaN(b)?null:b},toHash:function(a){return d.number(a)&&a>0?a.toString():null},getState:function(){return this.isValid(this.current)?this.current:null},setState:function(a){this.rebuild();var b=!1;a.item&&!this.contains(a.page,a.item)&&(a.page=this.find(a.item),a.page=0!==a.page?a.page:1,b=!0),this.set(a.page,b,!1,!1)},destroy:function(){var b=this;b._pages.splice(0,b._pages.length),a.each(b.ctrls.splice(0,b.ctrls.length),function(a,b){b.destroy()}),b._super()},build:function(){var a=this,c=a.tmpl.items.available();a.total=a.size>0&&c.length>0?Math.ceil(c.length/a.size):1;for(var d=0;d<a.total;d++)a._pages.push(c.splice(0,a.size));if(a.total>1&&b.paging.hasCtrl(a.type)){var e,f,g=a.position;"both"!==g&&"top"!==g||(e=b.paging.makeCtrl(a.type,a.tmpl,a,"top"),e.create()&&(e.append(),a.ctrls.push(e))),"both"!==g&&"bottom"!==g||(f=b.paging.makeCtrl(a.type,a.tmpl,a,"bottom"),f.create()&&(f.append(),a.ctrls.push(f)))}},rebuild:function(){var b=this;b.current=0,b.total=0,b._pages.splice(0,b._pages.length),a.each(b.ctrls.splice(0,b.ctrls.length),function(a,b){b.destroy()}),b.build()},all:function(){return this._pages.slice()},available:function(){return this.get(this.current)},controls:function(b){var c=this;c.isValid(b)&&a.each(c.ctrls,function(a,c){c.update(b)})},isValid:function(a){return d.number(a)&&a>0&&a<=this.total},number:function(a){return this.isValid(a)?a:0===this.current?1:this.current},create:function(a,b){var c=this;a=c.number(a);var d,e=a-1,f=c._pages[e];d=b?c.tmpl.items.all():c._pages.reduce(function(a,b,c){return c===e?a:a.concat(b)},c.tmpl.items.unavailable()),c.current=a,c.tmpl.items.detach(d),c.tmpl.items.create(f,!0)},get:function(a){var b=this;return b.isValid(a)?(a=b.number(a),b._pages[a-1]):[]},set:function(a,b,c,e){var f=this;if(f.isValid(a)){f.controls(a);var g,h=f.number(a);if(h!==f.current){var i=f.current,j=function(){if(c=!d.boolean(c)||c,e=!!d.boolean(e)&&e,c&&1===f.current&&!f.tmpl.state.exists()&&(g=f.tmpl.state.get(),f.tmpl.state.update(g,f.pushOrReplace)),f.create(h,e),c&&(g=f.tmpl.state.get(),f.tmpl.state.update(g,f.pushOrReplace)),f.tmpl.trigger("page-change",[f.current,i,e]),f.scrollToTop&&d.boolean(b)&&b){var a=f.get(f.current);a.length>0&&a[0].scrollTo("top")}f.tmpl.trigger("after-page-change",[f.current,i,e])};return!f.tmpl.trigger("before-page-change",[f.current,h,j,e]).isDefaultPrevented()&&(j(),!0)}}return!1},find:function(a){for(var b=this,d=0,e=b._pages.length;d<e;d++)if(-1!==c.inArray(a,b._pages[d]))return d+1;return 0},contains:function(a,b){var d=this.get(a);return-1!==c.inArray(b,d)},first:function(){this.goto(1)},last:function(){this.goto(this._pages.length)},prev:function(){this.goto(this.current-1)},next:function(){this.goto(this.current+1)},goto:function(a){this.set(a,!0)}}),b.PagingControl=b.Component.extend({construct:function(a,b,c){var d=this;d._super(a),d.pages=b,d.position=c,d.$container=null,d._containerExisted=!1,d._placeholderClasses=[]},create:function(){var b=this;return b.$container=a("#"+b.tmpl.id+"_paging-"+b.position),b.$container.length>0?(b._containerExisted=!0,b.$container.removeClass(function(a,c){return b._placeholderClasses=c.match(/(^|\s)fg-ph-\S+/g)||[],b._placeholderClasses.join(" ")}).addClass([b.pages.cls.container,b.pages.theme].join(" "))):b.$container=a("<nav/>",{class:[b.pages.cls.container,b.pages.theme].join(" ")}),!0},destroy:function(){var a=this;a._containerExisted?a.$container.empty().removeClass().addClass(a._placeholderClasses.join(" ")):a.$container.remove(),a.$container=null},append:function(){var a=this;a._containerExisted||("top"===a.position?a.$container.insertBefore(a.tmpl.$el):a.$container.insertAfter(a.tmpl.$el))},update:function(a){}}),b.paging.register("default",b.Paging,null,{type:"none",theme:"fg-light",size:30,pushOrReplace:"push",position:"none",scrollToTop:!0},{container:"fg-paging-container"},null,-100)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d,e){b.Infinite=b.Paging.extend({construct:function(a){var b=this;b._super(a),b.distance=b.opt.distance,b._created=[]},init:function(){var a=this;a.checkBounds(),a.tmpl.$scrollParent.on("scroll"+a.tmpl.namespace,{self:a},e.throttle(function(){a.tmpl.destroying||a.tmpl.destroyed||a.checkBounds()},50))},destroy:function(){var a=this;a.tmpl.$scrollParent.off(a.tmpl.namespace)},checkBounds:function(){var a,b=this,c=b.get(b.current);!b.tmpl.initializing&&!d.empty(c)&&b._created.length<b.total&&null!==(a=b.tmpl.el.getBoundingClientRect())&&a.bottom-window.innerHeight<b.distance&&(b.set(b.current+1,!1,!0,!1),b.checkBounds())},build:function(){var a=this;a._super(),a._created=[]},available:function(){for(var a,b,c=this,e=[],f=0,g=c._created.length;f<g;f++)a=f+1,b=c.get(a),d.empty(b)||e.push.apply(e,b);return e},create:function(a,b){var d=this;a=d.number(a);var e,f=[];e=b?d.tmpl.items.all():d._pages.reduce(function(b,c,d){return d<a?b:b.concat(c)},d.tmpl.items.unavailable());for(var g=0;g<a;g++)-1===c.inArray(g,d._created)&&(f.push.apply(f,d._pages[g]),d._created.push(g));d.current=a,d.tmpl.items.detach(e),d.tmpl.items.create(f,!0)}}),b.paging.register("infinite",b.Infinite,null,{type:"infinite",pushOrReplace:"replace",distance:200})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn),function(a,b,c,d){b.LoadMore=b.Paging.extend({construct:function(a){var b=this;b._super(a),b._created=[]},build:function(){var a=this;a._super(),a._created=[]},create:function(a,b){var d=this;a=d.number(a);var e,f=[];e=b?d.tmpl.items.all():d._pages.reduce(function(b,c,d){return d<a?b:b.concat(c)},d.tmpl.items.unavailable());for(var g=0;g<a;g++)-1===c.inArray(g,d._created)&&(f.push.apply(f,d._pages[g]),d._created.push(g));d.current=a,d.tmpl.items.detach(e),d.tmpl.items.create(f,!0)},available:function(){for(var a,b,c=this,e=[],f=0,g=c._created.length;f<g;f++)a=f+1,b=c.get(a),d.empty(b)||e.push.apply(e,b);return e},loadMore:function(){var b=this,c=b.get(b.current);!d.empty(c)&&b._created.length<b.total&&b.set(b.current+1,!1,!0,!1),b._created.length>=b.total&&(d.empty(b.ctrls)||a.each(b.ctrls.splice(0,b.ctrls.length),function(a,b){b.destroy()}))}}),b.LoadMoreControl=b.PagingControl.extend({construct:function(a,b,c){this._super(a,b,c),this.$button=null},create:function(){var b=this;return!!b._super()&&(b.$button=a("<button/>",{class:b.pages.cls.button,type:"button"}).html(b.pages.il8n.button).on("click.foogallery",{self:b},b.onButtonClick).appendTo(b.$container),!0)},destroy:function(){var a=this;a.$button.off("click.foogallery",a.onButtonClick),a.$button=null,a._super()},onButtonClick:function(a){a.preventDefault(),a.data.self.pages.loadMore()}}),b.paging.register("loadMore",b.LoadMore,b.LoadMoreControl,{type:"loadMore",position:"bottom",pushOrReplace:"replace"},{button:"fg-load-more"},{button:"Load More"})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Dots=b.Paging.extend({}),b.DotsControl=b.PagingControl.extend({construct:function(a,b,c){this._super(a,b,c),this.$list=null,this.$items=null},create:function(){var b=this;if(b._super()){for(var c,d=b.pages.cls,e=b.pages.il8n,f=[],g=a("<ul/>",{class:d.list}),h=0,i=b.pages.total;h<i;h++)f.push(c=b.createItem(h+1,e.page)),g.append(c);return b.$list=g,b.$items=a(a.map(f,function(a){return a.get()})),b.$container.append(g),!0}return!1},destroy:function(){var b=this,c=b.pages.sel;b.$list.find(c.link).off("click.foogallery",b.onLinkClick),b.$list=a(),b.$items=a(),b._super()},update:function(a){this.setSelected(a-1)},setSelected:function(b){var c=this,e=c.pages.cls,f=c.pages.il8n,g=c.pages.sel;c.$items.filter(g.selected).removeClass(e.selected).each(function(b,c){var e=a(c),f=e.data("label"),h=e.find(g.reader);d.string(f)&&0!==h.length&&h.html(f)}),c.$items.eq(b).addClass(e.selected).each(function(b,c){var e=a(c),h=e.find(g.reader),i=h.html();d.string(i)&&0!==h.length&&(e.data("label",i),h.html(f.current))})},createItem:function(b,c,e,f,g){e=d.string(e)?e:b,c=d.string(c)?c:"";var h=this,i=h.pages.opt,j=h.pages.cls,k=a("<a/>",{class:j.link,href:"#page-"+b}).html(e).on("click.foogallery",{self:h,page:b},h.onLinkClick);d.empty(c)||k.attr("title",c.replace(/\{PAGE}/g,b).replace(/\{LIMIT}/g,i.limit+"")),g=d.string(g)?g:c,d.empty(g)||k.prepend(a("<span/>",{class:j.reader,text:g.replace(/\{PAGE}/g,"").replace(/\{LIMIT}/g,i.limit+"")}));var l=a("<li/>",{class:j.item}).append(k);return f=d.string(f)?f:"",d.empty(f)||l.addClass(f),l},onLinkClick:function(b){b.preventDefault();var c=b.data.self,d=b.data.page,e=c.pages.sel;a(this).closest(e.item).is(e.disabled)||c.pages.set(d,!0)}}),b.paging.register("dots",b.Dots,b.DotsControl,{type:"dots",position:"both",pushOrReplace:"push"},{list:"fg-dots",item:"fg-dot-item",link:"fg-dot-link",disabled:"fg-disabled",selected:"fg-selected",visible:"fg-visible",reader:"fg-sr-only"},{current:"Current page",page:"Page {PAGE}"})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Pagination=b.Dots.extend({construct:function(a){this._super(a),this.limit=this.opt.limit,this.showFirstLast=this.opt.showFirstLast,this.showPrevNext=this.opt.showPrevNext,this.showPrevNextMore=0!==this.opt.limit&&this.opt.showPrevNextMore,this.pageKeywords=["first","prev","prevMore","nextMore","next","last"],this.sel.firstPrev=[this.sel.first,this.sel.prev].join(","),this.sel.nextLast=[this.sel.next,this.sel.last].join(","),this.range={index:-1,start:-1,end:-1,changed:!1,selected:!1}},build:function(){this._super(),this.range={index:-1,start:-1,end:-1,changed:!1,selected:!1}},controls:function(b){var c=this;c.isValid(b)&&(c.range=c.getControlRange(b),a.each(c.ctrls,function(a,b){b.update(c.range)}))},isValid:function(a){return this._super(a)||this.isKeyword(a)},isKeyword:function(a){return d.string(a)&&-1!==c.inArray(a,this.pageKeywords)},number:function(a){var b=this;return"first"===a&&(a=1),"prev"===a&&(a=b.current-1),"next"===a&&(a=b.current+1),"last"===a&&(a=b.total),"prevMore"!==a&&"nextMore"!==a||(a=b.current),b._super(a)},getControlRange:function(a){var b=this;switch(a){case"prevMore":return b._range(b.range.start-1,!1,!1);case"nextMore":return b._range(b.range.end+1,!0,!1);default:return a=b.number(a),b._range(a-1,a<=b.current)}},_range:function(a,b,c){var e=this,f={index:a,start:e.range.start,end:e.range.end,changed:!1,selected:!d.boolean(c)||c};if(e.total<=e.limit||0===e.limit)f.start=0,f.end=e.total-1;else if(a<f.start||a>f.end){var g=a+(e.limit-1),h=a-(e.limit-1);if(b)for(f.start=a,f.end=g;f.end>e.total;)f.start-=1,f.end-=1;else for(f.start=h,f.end=a;f.start<0;)f.start+=1,f.end+=1}return f.changed=f.start!==e.range.start||f.end!==e.range.end,f.changed&&(e.range=f),f}}),b.PaginationControl=b.DotsControl.extend({construct:function(b,c,d){this._super(b,c,d),this.$buttons=a()},create:function(){var b=this;if(b._super()){var c,d=b.pages.total<=b.pages.limit||0===b.pages.limit,e=[];return!d&&b.pages.showPrevNextMore&&(e.push(c=b.createButton("prevMore")),b.$list.prepend(c)),b.pages.showPrevNext&&(e.push(c=b.createButton("prev")),b.$list.prepend(c)),b.pages.showFirstLast&&(e.push(c=b.createButton("first")),b.$list.prepend(c)),!d&&b.pages.showPrevNextMore&&(e.push(c=b.createButton("nextMore")),b.$list.append(c)),b.pages.showPrevNext&&(e.push(c=b.createButton("next")),b.$list.append(c)),b.pages.showFirstLast&&(e.push(c=b.createButton("last")),b.$list.append(c)),b.$buttons=a(a.map(e,function(a){return a.get()})),!0}return!1},destroy:function(){this.$buttons=null,this._super()},update:function(a){var b=this,c=b.pages.sel;a.changed&&b.setVisible(a.start,a.end),a.selected&&(b.setSelected(a.index),b.toggleDisabled(b.$buttons.filter(c.firstPrev),a.index<=0),b.toggleDisabled(b.$buttons.filter(c.nextLast),a.index>=b.pages.total-1)),b.toggleDisabled(b.$buttons.filter(c.prevMore),a.start<=0),b.toggleDisabled(b.$buttons.filter(c.nextMore),a.end>=b.pages.total-1)},setVisible:function(a,b){var c=this,d=c.pages.cls;c.$items.removeClass(d.visible).slice(a,b+1).addClass(d.visible)},toggleDisabled:function(a,b){var c=this,d=c.pages.cls,e=c.pages.sel;b?a.addClass(d.disabled).find(e.link).attr("tabindex",-1):a.removeClass(d.disabled).find(e.link).removeAttr("tabindex")},createButton:function(a){var b=this,c=b.pages.cls,d=b.pages.il8n;return b.createItem(a,d.labels[a],d.buttons[a],c.button+" "+c[a])}}),b.paging.register("pagination",b.Pagination,b.PaginationControl,{type:"pagination",position:"both",pushOrReplace:"push",limit:5,showPrevNext:!0,showFirstLast:!0,showPrevNextMore:!0},{list:"fg-pages",item:"fg-page-item",button:"fg-page-button",link:"fg-page-link",first:"fg-page-first",prev:"fg-page-prev",prevMore:"fg-page-prev-more",nextMore:"fg-page-next-more",next:"fg-page-next",last:"fg-page-last",disabled:"fg-disabled",selected:"fg-selected",visible:"fg-visible",reader:"fg-sr-only"},{buttons:{first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;",prevMore:"&hellip;",nextMore:"&hellip;"},labels:{current:"Current page",page:"Page {PAGE}",first:"First page",prev:"Previous page",next:"Next page",last:"Last page",prevMore:"Show previous {LIMIT} pages",nextMore:"Show next {LIMIT} pages"}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d,e,f,g){var h=0;b.Panel=b.Component.extend({construct:function(a,g,i,j){var k=this;k.instanceId=++h,k._super(a),k.opt=e.extend({},k.tmpl.opt.panel,g),k.cls=e.extend({},k.tmpl.cls.panel,i),k.il8n=e.extend({},k.tmpl.il8n.panel,j);var l=k.cls.states;k.cls.states.all=Object.keys(l).map(function(a){return l[a]}).join(" "),k.cls.states.allLoading=[l.idle,l.loading,l.loaded,l.error].join(" "),k.cls.states.allProgress=[l.idle,l.started,l.stopped,l.paused].join(" "),k.sel=c.selectify(k.cls),k.videoSources=d.undef(b.Panel.Video)?[]:b.Panel.Video.sources.load(),k.buttons=new b.Panel.Buttons(k),k.content=new b.Panel.Content(k),k.info=new b.Panel.Info(k),k.thumbs=new b.Panel.Thumbs(k),k.areas=[k.content,k.info,k.thumbs],k.$el=null,k.el=null,k.isCreated=!1,k.isDestroyed=!1,k.isDestroying=!1,k.isAttached=!1,k.isLoading=!1,k.isLoaded=!1,k.isError=!1,k.isInline=!1,k.isMaximized=!1,k.isFullscreen=!1,k.hasTransition=!d.empty(k.cls.transition[k.opt.transition]),k.currentItem=null,k.prevItem=null,k.nextItem=null,k.lastBreakpoint=null,k.breakpointClassNames=k.opt.breakpoints.map(function(a){return"fg-"+a.name+" fg-"+a.name+"-width fg-"+a.name+"-height"}).concat(["fg-landscape","fg-portrait"]).join(" "),k.robserver=new ResizeObserver(f.throttle(function(a){k.destroying||k.destroyed||a.forEach(function(a){if(a.target===k.el){var b=c.getResizeObserverSize(a);k.onResize(b.width,b.height)}})},50)),k.__media={},k.__loading=null,k.tmpl.destroying||k.tmpl.destroyed||k.tmpl.on({"after-filter-change":k.onItemsChanged},k)},isVisible:function(a){return a instanceof b.Item&&!a.noLightbox&&!a.panelHide},onItemsChanged:function(a){var b=this;b.thumbs.isCreated&&b.tmpl.initialized&&(b.thumbs.doCreateThumbs(b.tmpl.items.available(b.isVisible)),b.isAttached&&b.load(b.tmpl.items.first(b.isVisible)))},create:function(){var a=this;if(!a.isCreated){a.trigger("create").isDefaultPrevented()||(a.isCreated=a.doCreate()),a.isCreated&&a.trigger("created")}return a.isCreated},doCreate:function(){var a=this;return a.$el=a.createElem(),a.el=a.$el.get(0),a.tmpl.opt.protected&&(a.el.oncontextmenu=function(a){return a.preventDefault(),!1}),a.opt.keyboard&&a.$el.attr("tabindex",-1).on("keydown.foogallery",{self:a},a.onKeyDown),a.areas.forEach(function(b){b.appendTo(a.$el)}),a.buttons.appendTo(a.content.$el),!0},createElem:function(){var b=this,c=b.cls.transition[b.opt.transition]||"";b.hasTransition=!d.empty(c);var e=[b.cls.elem,c,d.string(b.opt.theme)?b.opt.theme:b.tmpl.getCSSClass("theme","fg-dark"),d.string(b.opt.loadingIcon)?b.opt.loadingIcon:b.tmpl.getCSSClass("loadingIcon"),d.string(b.opt.hoverIcon)?b.opt.hoverIcon:b.tmpl.getCSSClass("hoverIcon"),d.string(b.opt.videoIcon)?b.opt.videoIcon:b.tmpl.getCSSClass("videoIcon"),d.boolean(b.opt.stickyVideoIcon)&&b.opt.stickyVideoIcon?b.cls.stickyVideoIcon:b.tmpl.getCSSClass("stickyVideoIcon"),d.string(b.opt.insetShadow)?b.opt.insetShadow:b.tmpl.getCSSClass("insetShadow"),d.string(b.opt.filter)?b.opt.filter:b.tmpl.getCSSClass("filter"),d.string(b.opt.hoverColor)?b.opt.hoverColor:b.tmpl.getCSSClass("hoverColor"),d.boolean(b.opt.hoverScale)&&b.opt.hoverScale?b.cls.hoverScale:b.tmpl.getCSSClass("hoverScale"),d.string(b.opt.button)?b.opt.button:"",d.string(b.opt.highlight)?b.opt.highlight:"",b.opt.stackSideAreas?b.cls.stackSideAreas:"",b.opt.preserveButtonSpace?b.cls.preserveButtonSpace:"",b.opt.fitMedia?b.cls.fitMedia:"",b.opt.noMobile?b.cls.noMobile:"",b.opt.hoverButtons?b.cls.hoverButtons:"",b.opt.classNames];return a("<div/>").addClass(e.join(" "))},destroy:function(){var b=this,c=b._super.bind(b);return b.isDestroyed?f.resolved:(b.isDestroying=!0,a.Deferred(function(a){if(b.isLoading&&d.promise(b.__loading))b.__loading.always(function(){var c=b.trigger("destroy");b.isDestroying=!1,c.isDefaultPrevented()||(b.isDestroyed=b.doDestroy()),b.isDestroyed&&b.trigger("destroyed"),a.resolve()});else{var c=b.trigger("destroy");b.isDestroying=!1,c.isDefaultPrevented()||(b.isDestroyed=b.doDestroy()),b.isDestroyed&&b.trigger("destroyed"),a.resolve()}}).then(function(){c()}).promise())},doDestroy:function(){var a=this;return a.buttons.destroy(),a.areas.reverse(),a.areas.forEach(function(a){a.destroy()}),a.detach(),a.isCreated&&a.$el.remove(),!0},appendTo:function(a){var b=this;if((b.isCreated||b.create())&&!b.isAttached){b.trigger("append",[a]).isDefaultPrevented()||(b.isAttached=b.doAppendTo(a)),b.isAttached&&b.trigger("appended",[a])}return b.isAttached},doAppendTo:function(b){var c=this,d=a(b),e=c.buttons.get("maximize");return c.isInline=!d.is("body"),c.$el.appendTo(d),e.set(!c.isInline,c.isInline&&e.isEnabled()),c.robserver.observe(c.el),c.areas.forEach(function(a){a.listen()}),null!==c.el.parentNode},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.trigger("detach").isDefaultPrevented()||(a.isAttached=!a.doDetach()),a.isAttached||a.trigger("detached")}return!a.isAttached},doDetach:function(){var a=this;return a.robserver.unobserve(a.el),a.areas.forEach(function(a){a.stopListening()}),a.$el.detach(),!0},resize:function(){var a=this;a.$el.removeClass(a.breakpointClassNames).addClass(a.lastBreakpoint),a.areas.forEach(function(a){a.resize()}),a.buttons.resize()},onResize:function(a,b){var c=this,d=c.getBreakpoint(a,b);c.lastBreakpoint!==d&&(c.lastBreakpoint=d,c.resize())},getBreakpoint:function(a,b){var c=this,d=[];return c.opt.breakpoints.forEach(function(c){var e=c.width<=a,f=c.height<=b;e&&f&&d.push("fg-"+c.name),e&&d.push("fg-"+c.name+"-width"),f&&d.push("fg-"+c.name+"-height")}),d.push(a>b?"fg-landscape":"fg-portrait"),d.length>0?d.join(" "):null},getMedia:function(a){return a instanceof b.Item?this.__media.hasOwnProperty(a.id)?this.__media[a.id]:this.__media[a.id]=b.Panel.media.make(a.type,this,a):null},getItem:function(a){var c=this,d=a;return d instanceof b.Item||(d=c.currentItem),d instanceof b.Item||(d=c.tmpl.items.first(c.isVisible)),a instanceof b.Item&&!c.isVisible(a)&&((d=c.tmpl.items.next(a,c.isVisible,c.opt.loop))instanceof b.Item||(d=c.tmpl.items.prev(a,c.isVisible,c.opt.loop))),d},load:function(c){var d=this;return(c=d.getItem(c))instanceof b.Item?c===d.currentItem?f.reject("item is currently loaded"):(d.isLoading=!0,d.isLoaded=!1,d.isError=!1,d.__loading=a.Deferred(function(a){if(!d.isCreated||!d.isAttached)return void a.rejectWith("not created or attached");var e=d.getMedia(c);return e instanceof b.Panel.Media?d.trigger("load",[e,c]).isDefaultPrevented()?void a.rejectWith("default prevented"):(d.currentItem=c,d.prevItem=d.tmpl.items.prev(c,d.isVisible,d.opt.loop),d.nextItem=d.tmpl.items.next(c,d.isVisible,d.opt.loop),void d.doLoad(e).then(a.resolve).fail(a.reject)):void a.rejectWith("no media to load")}).always(function(){d.isLoading=!1}).then(function(){d.isLoaded=!0,d.trigger("loaded",[c]),c.updateState()}).fail(function(){d.isError=!0,d.trigger("error",[c])}).promise()):f.reject("no item to load")},doLoad:function(b){var c=this,d=[];return c.buttons.beforeLoad(b),c.areas.forEach(function(a){d.push(a.load(b))}),a.when.apply(a,d).then(function(){c.buttons.afterLoad(b)}).promise()},open:function(a,b){var c=this;return a=c.getItem(a),c.trigger("open",[a,b]).isDefaultPrevented()?f.reject("default prevented"):c.doOpen(a,b).then(function(){c.trigger("opened",[a,b])})},doOpen:function(c,e){var f=this;return a.Deferred(function(a){if(!(c instanceof b.Item))return void a.rejectWith("item not instanceof FooGallery.Item");e=d.empty(e)?"body":e,f.isAttached||f.appendTo(e),f.isAttached?f.load(c).then(a.resolve).fail(a.reject):a.rejectWith("not attached")}).promise()},next:function(){var a=this,c=a.currentItem,d=a.nextItem;return d instanceof b.Item?a.trigger("next",[c,d]).isDefaultPrevented()?f.reject("default prevented"):a.doNext(d).then(function(){a.trigger("after-next",[c,d])}):f.reject("no next item")},doNext:function(a){return this.load(a)},prev:function(){var a=this,c=a.currentItem,d=a.prevItem;return d instanceof b.Item?a.trigger("prev",[c,d]).isDefaultPrevented()?f.reject("default prevented"):a.doPrev(d).then(function(){a.trigger("after-prev",[c,d])}):f.reject("no prev item")},doPrev:function(a){return this.load(a)},close:function(a){var b=this;return b.trigger("close",[b.currentItem]).isDefaultPrevented()?f.reject("default prevented"):b.doClose(a).then(function(){b.trigger("closed")})},doClose:function(b,c){c=!d.boolean(c)||c;var e=this;return a.Deferred(function(c){e.content.close(b).then(function(){var d=[];e.areas.forEach(function(a){a!==e.content&&d.push(a.close(b))}),a.when.apply(a,d).then(c.resolve).fail(c.reject)})}).always(function(){e.currentItem=null,e.buttons.close(),c&&e.detach(),e.tmpl.state.clear()}).promise()},trapFocus:function(){this.isCreated&&this.$el.on("keydown",{self:this},this.onTrapFocusKeydown)},releaseFocus:function(){this.isCreated&&this.$el.off("keydown",this.onTrapFocusKeydown)},onTrapFocusKeydown:function(b){if(9===b.keyCode){var c=b.data.self,d=a(b.target),e=d.parents("[role=dialog]");if(e.length){var f=e.find(c.opt.focusable.include).not(c.opt.focusable.exclude),g=f.first(),h=f.last(),i=b.shiftKey?g:h,j=b.shiftKey?h:g;i.length&&d.is(i)&&(b.preventDefault(),j.trigger("focus"))}}},onKeyDown:function(a){var b=a.data.self;switch(a.which){case 39:case 40:b.next();break;case 37:case 38:b.prev();break;case 27:var c;b.isFullscreen?(c=b.buttons.get("fullscreen"),c.exit()):b.isMaximized&&b.isInline?(c=b.buttons.get("maximize"),c.exit()):b.opt.buttons.close&&b.close()}}}),b.template.configure("core",{panel:{classNames:"",theme:null,button:null,highlight:null,loadingIcon:null,hoverIcon:null,videoIcon:null,stickyVideoIcon:null,hoverColor:null,hoverScale:null,insetShadow:null,filter:null,noMobile:!1,hoverButtons:!1,icons:"default",transition:"none",loop:!0,autoProgress:0,autoProgressStart:!0,fitMedia:!1,keyboard:!0,noScrollbars:!0,swipe:!0,stackSideAreas:!0,preserveButtonSpace:!0,info:"bottom",infoVisible:!1,infoOverlay:!0,infoAutoHide:!0,infoAlign:"default",exif:"none",cart:"none",cartVisible:!1,thumbs:"none",thumbsVisible:!0,thumbsCaptions:!0,thumbsCaptionsAlign:"default",thumbsSmall:!1,thumbsBestFit:!0,focusable:{include:"a[href], area[href], input, select, textarea, button, iframe, object, embed, [tabindex], [contenteditable]",exclude:"[tabindex=-1], [disabled], :hidden"},buttons:{prev:!0,next:!0,close:!0,maximize:!0,fullscreen:!0,autoProgress:!0,info:!0,thumbs:!1,cart:!1},breakpoints:[{name:"medium",width:480,height:480},{name:"large",width:768,height:640},{name:"x-large",width:1024,height:768}]}},{panel:{elem:"fg-panel",maximized:"fg-panel-maximized",fullscreen:"fg-panel-fullscreen",fitMedia:"fg-panel-fit-media",noScrollbars:"fg-panel-no-scroll",stackSideAreas:"fg-panel-area-stack",preserveButtonSpace:"fg-panel-preserve-button-space",hoverButtons:"fg-panel-hover-buttons",stickyVideoIcon:"fg-video-sticky",hoverScale:"fg-hover-scale",noMobile:"fg-panel-no-mobile",loader:"fg-loader",states:{idle:"fg-idle",loading:"fg-loading",loaded:"fg-loaded",error:"fg-error",visible:"fg-visible",reverse:"fg-reverse",selected:"fg-selected",disabled:"fg-disabled",hidden:"fg-hidden",started:"fg-started",stopped:"fg-stopped",paused:"fg-paused",noTransitions:"fg-no-transitions"},buttons:{container:"fg-panel-buttons",prev:"fg-panel-button fg-panel-button-prev",next:"fg-panel-button fg-panel-button-next",autoProgress:"fg-panel-button fg-panel-button-progress",close:"fg-panel-button fg-panel-button-close",fullscreen:"fg-panel-button fg-panel-button-fullscreen",maximize:"fg-panel-button fg-panel-button-maximize",info:"fg-panel-button fg-panel-button-info",thumbs:"fg-panel-button fg-panel-button-thumbs",cart:"fg-panel-button fg-panel-button-cart"},transition:{fade:"fg-panel-fade",horizontal:"fg-panel-horizontal",vertical:"fg-panel-vertical"},area:{elem:"fg-panel-area",inner:"fg-panel-area-inner"},content:{},sideArea:{toggle:"fg-panel-area-toggle",button:"fg-panel-area-button",visible:"fg-panel-area-visible",position:{top:"fg-panel-area-top",right:"fg-panel-area-right",bottom:"fg-panel-area-bottom",left:"fg-panel-area-left"}},info:{overlay:"fg-panel-info-overlay",align:{left:"fg-panel-media-caption-left",center:"fg-panel-media-caption-center",right:"fg-panel-media-caption-right",justified:"fg-panel-media-caption-justified"}},cart:{},thumbs:{prev:"fg-panel-thumbs-button fg-panel-thumbs-prev",next:"fg-panel-thumbs-button fg-panel-thumbs-next",viewport:"fg-panel-thumbs-viewport",stage:"fg-panel-thumbs-stage",noCaptions:"fg-panel-thumbs-no-captions",small:"fg-panel-thumbs-small",spacer:"fg-panel-thumb-spacer",thumb:{elem:"fg-panel-thumb",media:"fg-panel-thumb-media",overlay:"fg-panel-thumb-overlay",wrap:"fg-panel-thumb-wrap",image:"fg-panel-thumb-image",caption:"fg-panel-thumb-caption",title:"fg-panel-thumb-title",description:"fg-panel-thumb-description"},align:{left:"fg-panel-thumb-caption-left",center:"fg-panel-thumb-caption-center",right:"fg-panel-thumb-caption-right",justified:"fg-panel-thumb-caption-justified"}}}},{panel:{buttons:{prev:"Previous Media",next:"Next Media",close:"Close Modal",maximize:"Toggle Maximize",fullscreen:"Toggle Fullscreen",autoProgress:"Auto Progress",info:"Toggle Information",thumbs:"Toggle Thumbnails",cart:"Toggle Cart"}}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.fn,FooGallery.utils.transition),function(a,b,c,d,e){b.Panel.Buttons=d.Class.extend({construct:function(a){this.panel=a,this.opt=a.opt.buttons,this.cls=a.cls.buttons,this.sel=a.sel.buttons,this.il8n=a.il8n.buttons,this.$el=null,this.isCreated=!1,this.isAttached=!1,this.__registered=[],this.registerCore()},registerCore:function(){this.register(new b.Panel.Button(this.panel,"prev",{icon:"arrow-left",label:this.il8n.prev,click:this.panel.prev.bind(this.panel),beforeLoad:function(a){this.disable(null==this.panel.prevItem)}}),10),this.register(new b.Panel.Button(this.panel,"next",{icon:"arrow-right",label:this.il8n.next,click:this.panel.next.bind(this.panel),beforeLoad:function(a){this.disable(null==this.panel.nextItem)}}),20),this.register(new b.Panel.AutoProgress(this.panel),30),this.register(new b.Panel.Maximize(this.panel),180),this.register(new b.Panel.Fullscreen(this.panel),190),this.register(new b.Panel.Button(this.panel,"close",{icon:"close",label:this.il8n.close,click:this.panel.close.bind(this.panel)}),200)},register:function(a,c){return a instanceof b.Panel.Button?this.__registered.push({name:a.name,button:a,priority:e.number(c)?c:99})-1:-1},get:function(a){for(var b=null,c=0,d=this.__registered.length;c<d;c++)if(this.__registered[c].name===a){b=this.__registered[c].button;break}return b},each:function(a,b){var c=this;b&&c.__registered.sort(function(a,b){return a.priority-b.priority}),c.__registered.forEach(function(b){a.call(c,b.button)})},toggle:function(a,b){var c=this.get(a);null!=c&&c.toggle(b)},disable:function(a,b){var c=this.get(a);null!=c&&c.disable(b)},destroy:function(){var a=this;return a.panel.trigger("buttons-destroy",[a]).isDefaultPrevented()||(a.isCreated=!a.doDestroy()),a.isCreated||a.panel.trigger("buttons-destroyed",[a]),!a.isCreated},doDestroy:function(){var a=this;return a.each(function(a){a.destroy()}),a.isCreated&&(a.detach(),a.$el.remove()),!0},create:function(){var a=this;if(!a.isCreated){a.panel.trigger("buttons-create",[a]).isDefaultPrevented()||(a.isCreated=a.doCreate()),a.isCreated&&a.panel.trigger("buttons-created",[a])}return a.isCreated},doCreate:function(){var b=this;return b.$el=a("<div/>").addClass(b.cls.container),b.each(function(a){a.appendTo(b.$el)},!0),!0},appendTo:function(a){var b=this;if(b.isCreated||b.create(),b.isCreated&&!b.isAttached){b.panel.trigger("buttons-append",[b,a]).isDefaultPrevented()||(b.isAttached=b.doAppendTo(a)),b.isAttached&&b.panel.trigger("buttons-appended",[b,a])}return b.isAttached},doAppendTo:function(a){
return this.$el.appendTo(a),this.$el.parent().length>0},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.panel.trigger("buttons-detach",[a]).isDefaultPrevented()||(a.isAttached=!a.doDetach()),a.isAttached||a.panel.trigger("buttons-detached",[a])}return!a.isAttached},doDetach:function(){return this.$el.detach(),!0},beforeLoad:function(a){this.each(function(b){b.beforeLoad(a)})},afterLoad:function(a){this.each(function(b){b.afterLoad(a)})},close:function(){this.each(function(a){a.close()})},resize:function(){this.each(function(a){a.resize()})}})}(FooGallery.$,FooGallery,FooGallery.icons,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d,e,f){b.Panel.Button=d.Class.extend({construct:function(b,c,d){this.panel=b,this.name=c,this.opt=f.extend({icon:null,label:null,visible:!!b.opt.buttons[c],disabled:!1,click:a.noop,beforeLoad:a.noop,afterLoad:a.noop,close:a.noop,resize:a.noop},d),this.cls={elem:b.cls.buttons[c],states:b.cls.states},this.$el=null,this.isVisible=this.opt.visible,this.isDisabled=this.opt.disabled,this.isCreated=!1,this.isAttached=!1},isEnabled:function(){return this.panel.opt.buttons.hasOwnProperty(this.name)&&this.panel.opt.buttons[this.name]},create:function(){var b=this;if(!b.isCreated){b.$el=a("<button/>",{type:"button","aria-label":b.opt.label,"aria-disabled":b.isDisabled,"aria-hidden":!b.isVisible}).addClass(b.cls.elem).on("click.foogallery",{self:b},b.onButtonClick),e.string(b.opt.icon)?b.$el.append(c.get(b.opt.icon,b.panel.opt.icons)):e.array(b.opt.icon)?b.opt.icon.forEach(function(a){b.$el.append(c.get(a,b.panel.opt.icons))}):e.fn(b.opt.icon)&&b.$el.append(b.opt.icon.call(this)),b.isCreated=!0;var d=b.isEnabled();b.toggle(d),b.disable(!d)}return b.isCreated},destroy:function(){return this.isCreated&&(this.$el.off("click.foogallery").remove(),this.isCreated=!1),!this.isCreated},appendTo:function(a){return!this.isCreated&&!this.create()||this.isAttached||this.$el.appendTo(a),this.isAttached},detach:function(){return this.isCreated&&this.isAttached&&this.$el.detach(),!this.isAttached},toggle:function(a){this.isCreated&&(this.isVisible=e.boolean(a)?a:!this.isVisible,this.$el.toggleClass(this.cls.states.hidden,!this.isVisible).attr("aria-hidden",!this.isVisible))},disable:function(a){this.isCreated&&(this.isDisabled=e.boolean(a)?a:!this.isDisabled,this.$el.toggleClass(this.cls.states.disabled,this.isDisabled).attr({"aria-disabled":this.isDisabled,disabled:this.isDisabled}))},beforeLoad:function(a){this.opt.beforeLoad.call(this,a)},afterLoad:function(a){this.opt.afterLoad.call(this,a)},close:function(){this.opt.close.call(this)},click:function(){this.opt.click.call(this)},resize:function(){this.opt.resize.call(this)},onButtonClick:function(a){a.preventDefault(),a.data.self.click()}})}(FooGallery.$,FooGallery,FooGallery.icons,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj),function(a,b,c){b.Panel.SideAreaButton=b.Panel.Button.extend({construct:function(a){this._super(a.panel,a.name,{icon:a.opt.icon,label:a.opt.label,autoHideArea:a.opt.autoHide,click:a.toggle.bind(a)}),this.area=a,this.__isVisible=null,this.__autoHide=null},beforeLoad:function(a){var b=this.area.isEnabled(),d=b&&this.area.canLoad(a);d||null!=this.__isVisible?d&&c.boolean(this.__isVisible)&&(this.area.toggle(this.__isVisible),this.__isVisible=null):(this.__isVisible=this.area.isVisible,this.area.toggle(!1)),b?this.disable(!d):this.toggle(d),this.checkAutoHide(b,d),this.opt.beforeLoad.call(this,a)},checkAutoHide:function(a,b){a&&b&&!0===this.opt.autoHideArea&&(null==this.__autoHide&&c.empty(this.panel.lastBreakpoint)?(this.__autoHide=this.area.isVisible,this.area.toggle(!1),this.area.button.toggle(!0)):c.boolean(this.__autoHide)&&!c.empty(this.panel.lastBreakpoint)&&(this.area.button.toggle(this.area.button.isEnabled()&&this.area.opt.toggle),this.area.toggle(this.__autoHide),this.__autoHide=null))},resize:function(){var a=this.area.isEnabled(),b=a&&this.area.canLoad(this.area.currentMedia);this.checkAutoHide(a,b)}})}(FooGallery.$,FooGallery,FooGallery.utils.is),function(a,b,c){b.Panel.AutoProgress=b.Panel.Button.extend({construct:function(a){var b=this;b.__stopped=!a.opt.autoProgressStart,b.__timer=new c.Timer,b._super(a,"autoProgress",{icon:"auto-progress",label:a.il8n.buttons.autoProgress}),b.$icon=null,b.$circle=null,b.circumference=0},isEnabled:function(){return this._super()&&this.panel.opt.autoProgress>0},create:function(){if(this._super()){this.$icon=this.$el.find("svg"),this.$circle=this.$icon.find("circle");var a=parseFloat(this.$circle.attr("r"));this.circumference=2*a*Math.PI,this.$circle.css({"stroke-dasharray":this.circumference+" "+this.circumference,"stroke-dashoffset":this.circumference+""}),this.__timer.on({"start resume":this.onStartOrResume,pause:this.onPause,stop:this.onStop,tick:this.onTick,"complete reset":this.onCompleteOrReset,complete:this.onComplete},this)}return this.isCreated},close:function(){this.__timer.pause(),this._super()},destroy:function(){return this.__timer.destroy(),this._super()},beforeLoad:function(a){this.isEnabled()&&this.__timer.reset(),this._super(a)},afterLoad:function(a){this.isEnabled()&&(this.__timer.countdown(this.panel.opt.autoProgress),this.__stopped&&this.__timer.pause()),this._super(a)},click:function(){this.__timer.isRunning?(this.__stopped=!0,this.__timer.pause()):this.__timer.canResume?(this.__stopped=!1,this.__timer.resume()):(this.__stopped=!1,this.__timer.restart()),this._super()},onStartOrResume:function(){this.$icon.removeClass(this.cls.states.allProgress).addClass(this.cls.states.started)},onPause:function(){this.$icon.removeClass(this.cls.states.allProgress).addClass(this.cls.states.paused)},onStop:function(){this.$icon.removeClass(this.cls.states.allProgress).addClass(this.cls.states.stopped)},onTick:function(a,b,c){var d=b/c*100;this.$circle.css("stroke-dashoffset",this.circumference-d/100*this.circumference)},onCompleteOrReset:function(){this.$icon.removeClass(this.cls.states.allProgress)},onComplete:function(){this.panel.next()}})}(FooGallery.$,FooGallery,FooGallery.utils),function(a,b,c){b.fullscreen=new c.FullscreenAPI,b.Panel.Fullscreen=b.Panel.Button.extend({construct:function(a){this._super(a,"fullscreen",{icon:["expand","shrink"],label:a.il8n.buttons.fullscreen})},create:function(){return!!this._super()&&(this.$el.attr("aria-pressed",!1),!0)},click:function(){var a=this,c=a.panel.el;b.fullscreen.toggle(c).then(function(){b.fullscreen.element()===c?(b.fullscreen.on("change error",a.onFullscreenChange,a),a.enter()):(b.fullscreen.off("change error",a.onFullscreenChange,a),a.exit())},function(a){console.debug("Error toggling fullscreen on element.",a,c)}),a._super()},onFullscreenChange:function(){b.fullscreen.element()!==this.panel.el&&this.exit()},enter:function(){this.panel.isFullscreen||(this.panel.isFullscreen=!0,this.panel.$el.addClass(this.panel.cls.fullscreen),this.panel.isMaximized||(this.panel.$el.attr({role:"dialog","aria-modal":!0}).trigger("focus"),this.panel.trapFocus()),this.isCreated&&this.$el.attr("aria-pressed",!0),this.panel.buttons.toggle("maximize",!1))},exit:function(){this.panel.isFullscreen&&(this.panel.$el.removeClass(this.panel.cls.fullscreen),this.panel.isMaximized||(this.panel.$el.attr({role:null,"aria-modal":null}).trigger("focus"),this.panel.releaseFocus()),this.isCreated&&this.$el.attr("aria-pressed",!1),this.panel.buttons.toggle("maximize",this.panel.isInline&&this.panel.buttons.opt.maximize),this.panel.isFullscreen=!1)}})}(FooGallery.$,FooGallery,FooGallery.utils),function(a,b,c){b.Panel.Maximize=b.Panel.Button.extend({construct:function(b){this._super(b,"maximize",{icon:"maximize",label:b.il8n.buttons.maximize}),this.scrollPosition=[],this.$placeholder=a("<span/>")},create:function(){return!!this._super()&&(this.$el.attr("aria-pressed",!1),!0)},click:function(){this.set(!this.panel.isMaximized),this._super()},close:function(){this.exit(),this._super()},set:function(a,b){a?this.enter():this.exit(),b=c.boolean(b)?b:this.isVisible,this.toggle(b)},enter:function(){this.panel.isMaximized||(this.panel.isMaximized=!0,this.$placeholder.insertAfter(this.panel.$el),this.panel.$el.appendTo("body").addClass(this.panel.cls.maximized).attr({role:"dialog","aria-modal":!0}).trigger("focus"),this.isCreated&&this.$el.attr("aria-pressed",!0),this.panel.trapFocus(),this.panel.opt.noScrollbars&&(this.scrollPosition=[window.scrollX,window.scrollY],a("html").addClass(this.panel.cls.noScrollbars)))},exit:function(){this.panel.isMaximized&&(this.panel.isMaximized=!1,this.panel.$el.removeClass(this.panel.cls.maximized).attr({role:null,"aria-modal":null}).insertBefore(this.$placeholder),this.panel.isInline&&this.panel.$el.trigger("focus"),this.$placeholder.detach(),this.isCreated&&this.$el.attr("aria-pressed",!1),this.panel.releaseFocus(),this.panel.opt.noScrollbars&&(a("html").removeClass(this.panel.cls.noScrollbars).prop("clientWidth"),c.array(this.scrollPosition)&&2===this.scrollPosition.length&&window.scrollTo(this.scrollPosition[0],this.scrollPosition[1]),this.scrollPosition=[]))}})}(FooGallery.$,FooGallery,FooGallery.utils.is),function(a,b,c,d,e,f,g){b.Panel.Area=c.Class.extend({construct:function(a,b,d,e){this.panel=a,this.name=b,this.opt=f.extend({waitForUnload:!0},d),this.cls=f.extend({elem:this.__cls(a.cls.area.elem,b,!0),inner:this.__cls(a.cls.area.inner,b,!0)},e),this.sel=c.selectify(this.cls),this.currentMedia=null,this.$el=null,this.$inner=null,this.isCreated=!1,this.isAttached=!1},__cls:function(a,b,c){var d=a.replace(/-area($|-)/,"-"+b+"$1");return c?[a,d].join(" "):d},create:function(){var a=this;if(!a.isCreated){a.panel.trigger("area-create",[a]).isDefaultPrevented()||(a.isCreated=a.doCreate()),a.isCreated&&a.panel.trigger("area-created",[a])}return a.isCreated},doCreate:function(){return this.$el=a("<div/>").addClass(this.cls.elem),this.$inner=a("<div/>").addClass(this.cls.inner).appendTo(this.$el),!0},destroy:function(){var a=this;if(a.isCreated){a.panel.trigger("area-destroy",[a]).isDefaultPrevented()||(a.isCreated=!a.doDestroy()),a.isCreated||a.panel.trigger("area-destroyed",[a])}return!a.isCreated},doDestroy:function(){return this.currentMedia instanceof b.Panel.Media&&this.currentMedia.detach(),this.$el.remove(),!0},appendTo:function(a){var b=this;if(b.isCreated||b.create(),b.isCreated&&!b.isAttached){b.panel.trigger("area-append",[b,a]).isDefaultPrevented()||(b.isAttached=b.doAppendTo(a)),b.isAttached&&b.panel.trigger("area-appended",[b,a])}return b.isAttached},doAppendTo:function(a){return this.$el.appendTo(a),this.$el.parent().length>0},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.panel.trigger("area-detach",[a]).isDefaultPrevented()||(a.isAttached=!a.doDetach()),a.isAttached||a.panel.trigger("area-detached",[a])}return!a.isAttached},doDetach:function(){return this.$el.detach(),!0},load:function(c){var d=this;return c instanceof b.Panel.Media?a.Deferred(function(a){var e=d.shouldReverseTransition(d.currentMedia,c);if(d.panel.trigger("area-load",[d,c,e]).isDefaultPrevented())return void a.rejectWith("default prevented");var f=d.currentMedia instanceof b.Panel.Media,g=d.currentMedia;d.opt.waitForUnload&&f?(d.panel.trigger("area-unload",[d,g]),d.doUnload(g,e).then(function(){d.panel.trigger("area-unloaded",[d,g]),d.currentMedia=c,d.panel.trigger("area-load",[d,c]),d.doLoad(c,e).then(a.resolve).fail(a.reject)}).fail(a.reject)):(f&&(d.panel.trigger("area-unload",[d,g]),d.doUnload(g,e).then(function(){d.panel.trigger("area-unloaded",[d,g])})),d.currentMedia=c,d.panel.trigger("area-load",[d,c]),d.doLoad(c,e).then(a.resolve).fail(a.reject))}).then(function(){d.panel.trigger("area-loaded",[d,c])}).fail(function(){d.panel.trigger("area-error",[d,c])}).promise():e.reject("unable to load media")},doLoad:function(a,b){return e.resolved},doUnload:function(a,b){return e.resolved},close:function(a){var c=this;if(c.currentMedia instanceof b.Panel.Media){var d=c.currentMedia;if(!a)return c.panel.trigger("area-unload",[c,d]),c.doUnload(d,!1).then(function(){c.panel.trigger("area-unloaded",[c,d]),c.currentMedia=null});c.panel.trigger("area-unload",[c,d]),c.doUnload(d,!1).then(function(){c.panel.trigger("area-unloaded",[c,d])}),c.currentMedia=null}return e.resolved},shouldReverseTransition:function(a,c){if(!(a instanceof b.Panel.Media&&c instanceof b.Panel.Media))return!0;var d=a.item.index<c.item.index,e=this.panel.tmpl.items.last(this.panel.isVisible);return e instanceof b.Item&&(0===c.item.index&&a.item.index===e.index||c.item.index===e.index&&0===a.item.index)&&(d=!d),d},listen:function(){},stopListening:function(){},resize:function(){}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj,FooGallery.utils.str),function(a,b,c,d){b.Panel.Content=b.Panel.Area.extend({construct:function(a){this._super(a,"content",{waitForUnload:!1},a.cls.content),this.robserver=null},doCreate:function(){var a=this;return!!a._super()&&(a.panel.opt.swipe&&a.$inner.fgswipe({data:{self:a},swipe:a.onSwipe,allowPageScroll:!0}),a.robserver=new ResizeObserver(c.throttle(function(){a.panel instanceof b.Panel&&!a.panel.destroying&&!a.panel.destroyed&&a.resize()},50)),a.robserver.observe(a.$inner.get(0)),!0)},doDestroy:function(){return this.robserver instanceof ResizeObserver&&this.robserver.disconnect(),this.$inner.fgswipe("destroy"),this._super()},doLoad:function(b,c){var e=this,f=e.panel.cls.states;return a.Deferred(function(g){b.isCreated||b.create(),b.$el.toggleClass(f.reverse,c),b.appendTo(e.$inner);var h=[];e.panel.hasTransition?h.push(d.start(b.$el,function(a){a.addClass(f.visible)},null,350)):b.$el.addClass(f.visible),h.push(b.load()),a.when.apply(a,h).then(g.resolve).fail(g.reject)}).promise()},doUnload:function(b,c){var e=this,f=e.panel.cls.states;return a.Deferred(function(g){var h=[];b.isCreated&&(b.$el.toggleClass(f.reverse,!c),e.panel.hasTransition?h.push(d.start(b.$el,function(a){a.removeClass(f.visible)},null,350)):b.$el.removeClass(f.visible)),h.push(b.unload()),a.when.apply(a,h).then(g.resolve).fail(g.reject)}).always(function(){b.isCreated&&b.$el.removeClass(f.reverse),b.detach()}).promise()},onSwipe:function(a,b){var c=b.self;"E"===a.direction&&c.panel.prev(),"W"===a.direction&&c.panel.next()},resize:function(){this.currentMedia instanceof b.Panel.Media&&this.currentMedia.resize()}})}(FooGallery.$,FooGallery,FooGallery.utils.fn,FooGallery.utils.transition),function(a,b,c,d,e,f,g){b.Panel.SideArea=b.Panel.Area.extend({construct:function(a,b,c,d){var e=this,f=a.cls.sideArea;e._super(a,b,g.extend({icon:null,label:null,position:null,visible:!0,autoHide:!1,toggle:!!a.opt.buttons[b]},c),g.extend({toggle:this.__cls(f.toggle,b,!0),visible:this.__cls(f.visible,b),position:{top:this.__cls(f.position.top,b),right:this.__cls(f.position.right,b),bottom:this.__cls(f.position.bottom,b),left:this.__cls(f.position.left,b)}},d)),e.isVisible=e.opt.visible,e.allPositionClasses=Object.keys(e.cls.position).map(function(a){return e.cls.position[a]}).join(" "),e.button=e.registerButton()},registerButton:function(){var a=new b.Panel.SideAreaButton(this);return this.panel.buttons.register(a),a},doCreate:function(){return!!this._super()&&(this.opt.toggle&&a("<button/>",{type:"button"}).addClass(this.cls.toggle).append(c.get("circle-close",this.panel.opt.icons)).on("click.foogallery",{self:this},this.onToggleClick).appendTo(this.$inner),this.isEnabled()&&(this.panel.$el.toggleClass(this.cls.visible,this.isVisible),this.setPosition(this.opt.position)),!0)},isEnabled:function(){return this.cls.position.hasOwnProperty(this.opt.position)},canLoad:function(a){return a instanceof b.Panel.Media},getPosition:function(){return this.isEnabled()?this.cls.position[this.opt.position]:null},setPosition:function(a){this.opt.position=this.cls.position.hasOwnProperty(a)?a:null,e.jq(this.panel.$el)&&this.panel.$el.removeClass(this.allPositionClasses).addClass(this.getPosition())},toggle:function(a){this.isVisible=e.boolean(a)?a:!this.isVisible,e.jq(this.panel.$el)&&this.panel.$el.toggleClass(this.cls.visible,this.isVisible)},onToggleClick:function(a){a.preventDefault(),a.data.self.toggle()}})}(FooGallery.$,FooGallery,FooGallery.icons,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d){b.Panel.Info=b.Panel.SideArea.extend({construct:function(a){this._super(a,"info",{icon:"info",label:a.il8n.buttons.info,position:a.opt.info,overlay:a.opt.infoOverlay,visible:a.opt.infoVisible,autoHide:a.opt.infoAutoHide,align:a.opt.infoAlign,waitForUnload:!1},a.cls.info),this.allPositionClasses+=" "+this.cls.overlay},doCreate:function(){var a=this;return!(!a.isEnabled()||!a._super())&&(c.string(a.opt.align)&&a.cls.align.hasOwnProperty(a.opt.align)&&a.panel.$el.addClass(a.cls.align[a.opt.align]),!0)},getPosition:function(){var a=this._super();return null!=a&&this.opt.overlay?a+" "+this.cls.overlay:a},setPosition:function(a,b){c.boolean(b)&&(this.opt.overlay=b),this._super(a)},canLoad:function(a){return this._super(a)&&a.caption.canLoad()},doLoad:function(a,b){return this.canLoad(a)&&(a.caption.appendTo(this.$inner),a.caption.load()),d.resolved},doUnload:function(a,b){return a.caption.unload(),a.caption.detach(),d.resolved}})}(FooGallery.$,FooGallery,FooGallery.utils.is,FooGallery.utils.fn),function(a,b,c,d,e,f,g){b.Panel.Thumbs=b.Panel.SideArea.extend({construct:function(a){this._super(a,"thumbs",{icon:"thumbs",label:a.il8n.buttons.thumbs,position:a.opt.thumbs,captions:a.opt.thumbsCaptions,align:a.opt.thumbsCaptionsAlign,small:a.opt.thumbsSmall,bestFit:a.opt.thumbsBestFit,toggle:!1,waitForUnload:!1},a.cls.thumbs),this.iobserver=null,this.robserver=null,this.$prev=null,this.$next=null,this.$viewport=null,this.$stage=null,this.$dummy=null,this.__items=[],this.__animationFrameId=null,this.info=this.getInfo(),this.selectedIndex=0,this.scrollIndex=0,this.lastIndex=0},isHorizontal:function(){return-1!==["top","bottom"].indexOf(this.opt.position)},doCreate:function(){var g=this;return!(!g.isEnabled()||!g._super())&&(g.opt.captions||g.panel.$el.addClass(g.cls.noCaptions),g.opt.small&&g.panel.$el.addClass(g.cls.small),e.string(g.opt.align)&&g.cls.align.hasOwnProperty(g.opt.align)&&g.panel.$el.addClass(g.cls.align[g.opt.align]),g.$prev=a("<button/>",{type:"button"}).addClass(g.cls.prev).append(c.get("arrow-left",g.panel.opt.icons)).on("click.foogallery",{self:g},g.onPrevClick).prependTo(g.$inner),g.$viewport=a("<div/>").addClass(g.cls.viewport).appendTo(g.$inner),g.$next=a("<button/>",{type:"button"}).addClass(g.cls.next).append(c.get("arrow-right",g.panel.opt.icons)).on("click.foogallery",{self:g},g.onNextClick).appendTo(g.$inner),g.$stage=a("<div/>").addClass(g.cls.stage).appendTo(g.$viewport),g.$dummy=a("<div/>").addClass(g.cls.thumb.elem).appendTo(g.$viewport),g.iobserver=new IntersectionObserver(function(a){a.forEach(function(a){a.isIntersecting&&(g.iobserver.unobserve(a.target),g.loadThumbElement(a.target))})},{root:g.$inner.get(0),rootMargin:"82px 300px"}),g.robserver=new ResizeObserver(f.throttle(function(a){if(a.length>0&&g.panel instanceof b.Panel&&!g.panel.destroying&&!g.panel.destroyed){var c=d.getResizeObserverSize(a[0]),e=g.info.viewport,f=Math.floor(Math.abs(c.width-e.width)),h=Math.floor(Math.abs(c.height-e.height));g.isVisible&&(f>1||h>1)&&g.resize()}},50)),g.doCreateThumbs(g.panel.tmpl.items.available(g.panel.isVisible)),!0)},doCreateThumbs:function(b){if(!e.empty(b)){var c=this;c.iobserver instanceof IntersectionObserver&&c.iobserver.takeRecords().forEach(function(a){c.iobserver.unobserve(a.target)}),c.__items=b,c.selectedIndex=0,c.scrollIndex=0,c.lastIndex=c.__items.length-1,c.$stage.empty(),b.forEach(function(a){var b=c.doCreateThumb(a).appendTo(c.$stage);c.iobserver.observe(b.get(0))}),c.$stage.append(a("<div/>").addClass(c.cls.spacer))}},doCreateThumb:function(b){var c=this,d=c.cls.thumb;return a("<figure/>").addClass(d.elem).addClass(b.getTypeClass()).addClass(c.panel.cls.states.idle).append(a("<div/>").addClass(d.media).append(a("<div/>").addClass(d.overlay),a("<div/>").addClass(d.wrap).append(a("<img/>",{title:b.title,alt:b.alt}).attr({draggable:!1}).addClass(d.image)),a("<div/>").addClass(c.panel.cls.loader)),a("<div/>").addClass(d.caption).append(a("<div/>").addClass(d.title).html(b.caption),a("<div/>").addClass(d.description).html(b.description))).data("item",b).on("click",{self:c,item:b},c.onThumbClick)},doDestroy:function(){return this.stopListening(),this.iobserver instanceof IntersectionObserver&&this.iobserver.disconnect(),this.robserver instanceof ResizeObserver&&this.robserver.disconnect(),this._super()},doLoad:function(a,b){if(this.isCreated){var c=this.__items.indexOf(a.item);-1!==c&&(this.makeVisible(c),this.$stage.find(this.sel.thumb.elem).removeClass(this.panel.cls.states.selected).eq(c).addClass(this.panel.cls.states.selected),this.selectedIndex=c)}return f.resolved},makeVisible:function(a,b){a<=this.scrollIndex?this.goto(a,b):a>=this.scrollIndex+this.info.count&&this.goto(a,b)},listen:function(){var a=this;a.stopListening(),a.isCreated&&(a.resize(),a.robserver.observe(a.$viewport.get(0)),a.$inner.fgswipe({data:{self:a},swipe:a.onSwipe,allowPageScroll:!0}).on("DOMMouseScroll.foogallery-panel-thumbs mousewheel.foogallery-panel-thumbs",{self:a},a.onMouseWheel))},stopListening:function(){this.isCreated&&(this.$inner.fgswipe("destroy").off(".foogallery-panel-thumbs"),this.$stage.find(this.sel.thumb).css({width:"",minWidth:"",height:"",minHeight:""}),this.robserver.unobserve(this.$viewport.get(0)))},loadThumbElement:function(b){var c=this,d=a(b),e=d.data("item"),f=d.find(c.sel.thumb.image).get(0),g=c.panel.cls.states;d.removeClass(g.allLoading).addClass(g.loading),f.onload=function(){f.onload=f.onerror=null,d.removeClass(g.allLoading).addClass(g.loaded)},f.onerror=function(){f.onload=f.onerror=null,d.removeClass(g.allLoading).addClass(g.error)},f.src=e.src,f.srcset=e.srcset,f.complete&&f.onload()},goto:function(b,c){var d=this;if(!d.isCreated)return f.reject("thumbs not created");b=b<0?0:b>d.lastIndex?d.lastIndex:b;var e=d.panel.cls.states,h=b>=d.scrollIndex+d.info.count,i=h?b-(d.info.count-1):b,j=d.lastIndex-(d.info.count-1);return i<0&&(i=0),j<0&&(j=0),i>j&&(i=j),a.Deferred(function(a){var b=d.$stage.find(d.sel.thumb.elem).eq(i);if(b.length>0){var f,h,j=i>d.scrollIndex,k=d.__items.length>=d.info.count;d.info.isHorizontal?(f=-b.prop("offsetLeft"),j&&(f+=d.info.remaining.width),k&&d.info.stage.width-Math.abs(f)<d.info.viewport.width&&(f=d.info.viewport.width-d.info.stage.width),h="translateX("+(f-1)+"px)"):(f=-b.prop("offsetTop"),j&&(f+=d.info.remaining.height),k&&d.info.stage.height-Math.abs(f)<d.info.viewport.height&&(f=d.info.viewport.height-d.info.stage.height),h="translateY("+(f-1)+"px)"),d.panel.hasTransition&&!c?g.start(d.$stage,function(a){a.css("transform",h)},null,350).then(function(){a.resolve()}).fail(a.reject):(d.$stage.addClass(e.noTransitions).css("transform",h),d.$stage.prop("offsetHeight"),d.$stage.removeClass(e.noTransitions),a.resolve())}else a.resolve()}).always(function(){d.scrollIndex=i,d.$prev.toggleClass(e.disabled,i<=0),d.$next.toggleClass(e.disabled,i>=j)}).promise()},getInfo:function(){var a=this.isHorizontal(),b={width:0,height:0},c={width:0,height:0},d={width:0,height:0},e={horizontal:0,vertical:0},f={width:0,height:0},g={width:0,height:0},h=0,i=0,j=this.__items.length;return this.isCreated&&(b={width:this.$viewport.innerWidth()+1,height:this.$viewport.innerHeight()+1},d={width:this.$dummy.outerWidth(),height:this.$dummy.outerHeight()},e={horizontal:Math.floor(b.width/d.width),vertical:Math.floor(b.height/d.height)},f={width:b.width/Math.min(j,e.horizontal),height:b.height/Math.min(j,e.vertical)},h=this.opt.bestFit?f.width:d.width,i=this.opt.bestFit?f.height:d.height,c={width:a?this.__items.length*h:h,height:a?i:this.__items.length*i},g={width:Math.floor(b.width-e.horizontal*h),height:Math.floor(b.height-e.vertical*i)}),{isHorizontal:a,viewport:b,stage:c,original:d,adjusted:f,remaining:g,counts:e,count:a?e.horizontal:e.vertical,width:h,height:i}},resize:function(){this.isCreated&&(this.info=this.getInfo(),this.opt.bestFit&&(this.info.isHorizontal?this.$stage.find(this.sel.thumb.elem).css({width:this.info.width,minWidth:this.info.width,height:"",minHeight:""}):this.$stage.find(this.sel.thumb.elem).css({height:this.info.height,minHeight:this.info.height,width:"",minWidth:""})),this.goto(this.scrollIndex,!0))},onThumbClick:function(a){a.preventDefault(),a.data.self.panel.load(a.data.item)},onPrevClick:function(a){a.preventDefault();var b=a.data.self;b.goto(b.scrollIndex-(b.info.count-1||1))},onNextClick:function(a){a.preventDefault();var b=a.data.self;b.goto(b.scrollIndex+(b.info.count-1||1))},onSwipe:function(a,b){var c=b.self,d=1;c.info.isHorizontal?(d=Math.ceil(a.distance/c.info.width),"E"===a.direction&&c.goto(c.scrollIndex-d),"W"===a.direction&&c.goto(c.scrollIndex+d)):(d=Math.ceil(a.distance/c.info.height),"S"===a.direction&&c.goto(c.scrollIndex-d),"N"===a.direction&&c.goto(c.scrollIndex+d))},onMouseWheel:function(a){var b=a.data.self,c=Math.max(-1,Math.min(1,a.originalEvent.wheelDelta||-a.originalEvent.detail));c>0?(b.goto(b.scrollIndex-1),a.preventDefault()):c<0&&(b.goto(b.scrollIndex+1),a.preventDefault())}})}(FooGallery.$,FooGallery,FooGallery.icons,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.transition),function(a,b,c,d,e,f,g,h){b.Panel.Media=c.Class.extend({construct:function(a,c){var d=this;d.panel=a,d.item=c,d.opt=f.extend({},a.opt.media),d.cls=f.extend({},a.cls.media),d.sel=f.extend({},a.sel.media),d.caption=new b.Panel.Media.Caption(a,d),d.product=new b.Panel.Media.Product(a,d),d.$el=null,d.$content=null,d.isCreated=!1,d.isAttached=!1,d.isLoading=!1,d.isLoaded=!1,d.isError=!1},getSize:function(a,b,c,e){var f=this,g={};return d.string(a)&&d.string(b)?(g[a]=d.size(c)?c:null,g[b]=d.size(e)?e:null,f.item.isCreated?(g[a]=f.item.$anchor.data(a)||g[a],g[b]=f.item.$anchor.data(b)||g[b],g):g):g},getSizes:function(){var a=this,b=a.getSize("width","height",a.opt.width,a.opt.height),c=a.getSize("maxWidth","maxHeight",a.opt.maxWidth,a.opt.maxHeight),d=a.getSize("minWidth","minHeight",a.opt.minWidth,a.opt.minHeight);return f.extend(b,c,d)},destroy:function(){var a=this;return a.panel.trigger("media-destroy",[a]).isDefaultPrevented()||(a.isCreated=!a.doDestroy()),a.isCreated||a.panel.trigger("media-destroyed",[a]),!a.isCreated},doDestroy:function(){var a=this;return a.isCreated&&(a.caption.destroy(),a.detach(),a.$el.remove()),!0},create:function(){var a=this;if(!a.isCreated&&d.string(a.item.href)){a.panel.trigger("media-create",[a]).isDefaultPrevented()||(a.isCreated=a.doCreate()),a.isCreated&&a.panel.trigger("media-created",[a])}return a.isCreated},doCreate:function(){var b=this;return b.$el=a("<div/>").addClass([b.cls.elem,b.cls.type].join(" ")).append(a("<div/>").addClass(b.panel.cls.loader)),b.$content=b.doCreateContent().addClass(b.cls.content).css(b.getSizes()).appendTo(b.$el),!0},doCreateContent:function(){return a()},appendTo:function(a){var b=this;if(b.isCreated||b.create(),b.isCreated&&!b.isAttached){b.panel.trigger("media-append",[b,a]).isDefaultPrevented()||(b.isAttached=b.doAppendTo(a)),b.isAttached&&b.panel.trigger("media-appended",[b,a])}return b.isAttached},doAppendTo:function(a){return this.$el.appendTo(a),this.$el.parent().length>0},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.panel.trigger("media-detach",[a]).isDefaultPrevented()||(a.isAttached=!a.doDetach()),a.isAttached||a.panel.trigger("media-detached",[a])}return!a.isAttached},doDetach:function(){return this.$el.detach(),!0},load:function(){var b=this,c=b.panel.cls.states;return a.Deferred(function(a){if(b.panel.trigger("media-load",[b]).isDefaultPrevented())return void a.rejectWith("default prevented");b.$el.removeClass(c.allLoading).addClass(c.loading),b.doLoad().then(a.resolve).fail(a.reject)}).always(function(){b.$el.removeClass(c.loading)}).then(function(){b.$el.addClass(c.loaded),b.panel.trigger("media-loaded",[b])}).fail(function(){b.$el.addClass(c.loaded),b.panel.trigger("media-error",[b])}).promise()},doLoad:function(){return e.resolved},unload:function(){var b=this;return a.Deferred(function(a){return b.isCreated&&b.isAttached?b.panel.trigger("media-unload",[b]).isDefaultPrevented()?void a.rejectWith("default prevented"):void b.doUnload().then(a.resolve).fail(a.reject):void a.rejectWith("not created or attached")}).then(function(){b.panel.trigger("media-unloaded",[b])}).promise()},doUnload:function(){return e.resolved},resize:function(){}}),b.template.configure("core",{panel:{media:{width:null,height:null,minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,attrs:{}}}},{panel:{media:{elem:"fg-media",type:"fg-media-unknown",content:"fg-media-content",caption:{elem:"fg-media-caption",title:"fg-media-caption-title",description:"fg-media-caption-description",exif:{elem:"fg-media-caption-exif",auto:"fg-media-caption-exif-auto",full:"fg-media-caption-exif-full",partial:"fg-media-caption-exif-partial",minimal:"fg-media-caption-exif-minimal",prop:"fg-media-caption-exif-prop",icon:"fg-media-caption-exif-icon",content:"fg-media-caption-exif-content",label:"fg-media-caption-exif-label",value:"fg-media-caption-exif-value",tooltip:"fg-media-caption-exif-tooltip",tooltipPointer:"fg-media-caption-exif-tooltip-pointer",showTooltip:"fg-media-caption-exif-show-tooltip"}},product:{elem:"fg-media-product",inner:"fg-media-product-inner",header:"fg-media-product-header",body:"fg-media-product-body",footer:"fg-media-product-footer"}}}}),b.Panel.media=new b.Factory}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj,FooGallery.utils.str,FooGallery.utils.transition),function(a,b,c,d,e,f,g,h,i){var j=!!window.matchMedia&&window.matchMedia("(hover: hover)").matches;b.Panel.Media.Caption=d.Class.extend({construct:function(a,b){var c=this;c.panel=a,c.media=b,c.opt=a.opt,c.cls=b.cls.caption,c.sel=b.sel.caption,c.$el=null,c.title=null,c.description=null,c.isCreated=!1,c.isAttached=!1,c.hasTitle=!1,c.hasDescription=!1,c.hasExif=!1,c.init(b.item)},canLoad:function(){return this.hasTitle||this.hasDescription||this.hasExif},init:function(a){if(a instanceof b.Item){var c,f,g=this,h=!1;if(a.isCreated){var i=a.$anchor.data()||{};c=e.string(i.lightboxTitle),f=e.string(i.lightboxDescription),(c||f)&&(h=!0,g.title=c?i.lightboxTitle:"",g.description=f?i.lightboxDescription:"")}else{var j=a.attr.anchor;c=e.string(j["data-lightbox-title"]),f=e.string(j["data-lightbox-description"]),(c||f)&&(h=!0,g.title=c?j["data-lightbox-title"]:"",g.description=f?j["data-lightbox-description"]:"")}h||(g.title=a.caption,g.description=a.description),g.hasTitle=!e.empty(g.title),g.hasDescription=!e.empty(g.description),g.hasExif=a.hasExif&&-1!==d.inArray(g.opt.exif,["auto","full","partial","minimal"])}},create:function(){if(!this.isCreated){this.panel.trigger("caption-create",[this]).isDefaultPrevented()||(this.isCreated=this.doCreate(),this.isCreated&&this.panel.trigger("caption-created",[this]))}return this.isCreated},doCreate:function(){var d=this;if(d.$el=a("<div/>").addClass(d.cls.elem),d.hasTitle&&d.$el.append(a("<div/>").addClass(d.cls.title).html(d.title)),d.hasDescription&&d.$el.append(a("<div/>").addClass(d.cls.description).html(d.description)),d.hasExif){var f=d.media.item.exif,g=a("<div/>",{class:d.cls.exif.elem}).addClass(d.cls.exif[d.opt.exif]);b.supportedExifProperties.forEach(function(b){if(!e.empty(f[b])){var i="exif-"+h.kebab(b),k=d.media.item.il8n.exif[b],l=f[b],m=a("<div/>",{class:d.cls.exif.prop}).append(a("<div/>",{class:d.cls.exif.icon}).append(c.get(i,d.opt.icons)),a("<div/>",{class:d.cls.exif.content}).append(a("<div/>",{class:d.cls.exif.label}).text(k),a("<div/>",{class:d.cls.exif.value}).text(l)),a("<span/>",{class:d.cls.exif.tooltip}).text(k+": "+l).append(a("<span/>",{class:d.cls.exif.tooltipPointer})));j||m.on("click",{self:d},d.onExifClick),g.append(m)}}),d.$el.append(g)}return!0},onExifClick:function(b){b.preventDefault()
;var c=b.data.self,d=a(this),e=d.find(c.sel.exif.tooltip),f=a(c.sel.exif.showTooltip);if(a(c.sel.exif.prop).removeClass(c.cls.exif.showTooltip).find(c.sel.exif.tooltip).css("left","").find(c.sel.exif.tooltipPointer).css("left",""),!f.is(d)){e.css("display","inline-block");var g=e.offset().left,h=g+e.outerWidth(),i=Math.ceil(h-window.innerWidth);i>0&&e.css("left","calc(50% - "+i+"px)").find(c.sel.exif.tooltipPointer).css("left","calc(50% + "+i+"px)"),g<0&&(g=Math.abs(g),e.css("left","calc(50% + "+g+"px)").find(c.sel.exif.tooltipPointer).css("left","calc(50% - "+g+"px)")),e.css("display",""),d.addClass(c.cls.exif.showTooltip)}},destroy:function(){if(this.isCreated){this.panel.trigger("caption-destroy",[this]).isDefaultPrevented()||(this.isCreated=!this.doDestroy(),this.isCreated||this.panel.trigger("caption-destroyed",[this]))}return!this.isCreated},doDestroy:function(){return this.$el.remove(),!0},appendTo:function(a){var b=this;if(b.isCreated||b.create(),b.isCreated&&!b.isAttached){b.panel.trigger("caption-append",[b,a]).isDefaultPrevented()||(b.isAttached=b.doAppendTo(a)),b.isAttached&&b.panel.trigger("caption-appended",[b,a])}return b.isAttached},doAppendTo:function(a){return this.$el.appendTo(a),this.$el.parent().length>0},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.panel.trigger("caption-detach",[a]).isDefaultPrevented()||(a.isAttached=!a.doDetach()),a.isAttached||a.panel.trigger("caption-detached",[a])}return!a.isAttached},doDetach:function(){return this.$el.detach(),!0},load:function(){var b=this,c=b.panel.cls.states;return a.Deferred(function(a){if(b.panel.trigger("caption-load",[b]).isDefaultPrevented())return void a.rejectWith("default prevented");b.$el.removeClass(c.allLoading).addClass(c.loading),b.doLoad().then(a.resolve).fail(a.reject)}).always(function(){b.$el.removeClass(c.loading)}).then(function(){b.$el.addClass(c.loaded),b.panel.trigger("caption-loaded",[b])}).fail(function(){b.$el.addClass(c.loaded),b.panel.trigger("caption-error",[b])}).promise()},doLoad:function(){return f.resolved},unload:function(){var b=this;return a.Deferred(function(a){return b.isCreated&&b.isAttached?b.panel.trigger("caption-unload",[b]).isDefaultPrevented()?void a.rejectWith("default prevented"):void b.doUnload().then(a.resolve).fail(a.reject):void a.rejectWith("not created or attached")}).then(function(){b.panel.trigger("caption-unloaded",[b])}).promise()},doUnload:function(){return f.resolved}})}(FooGallery.$,FooGallery,FooGallery.icons,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj,FooGallery.utils.str,FooGallery.utils.transition),function(a,b,c,d,e,f,g){b.Panel.Media.Product=c.Class.extend({construct:function(a,b){var c=this;c.panel=a,c.media=b,c.opt=a.opt,c.cls=b.cls.product,c.sel=b.sel.product,c.$el=null,c.$inner=null,c.$header=null,c.$body=null,c.$footer=null,c.isCreated=!1,c.isAttached=!1,c.__loaded=null,c.__requestId=null},canLoad:function(){return!d.empty(this.media.item.productId)},create:function(){if(!this.isCreated){this.panel.trigger("product-create",[this]).isDefaultPrevented()||(this.isCreated=this.doCreate(),this.isCreated&&this.panel.trigger("product-created",[this]))}return this.isCreated},doCreate:function(){return this.$el=a("<div/>").addClass(this.cls.elem).append(a("<div/>").addClass(this.panel.cls.loader)),this.$inner=a("<div/>").addClass(this.cls.inner).appendTo(this.$el),this.$header=a("<div/>").addClass(this.cls.header).text("Add To Cart").appendTo(this.$inner),this.$body=a("<div/>").addClass(this.cls.body).appendTo(this.$inner),this.$footer=a("<div/>").addClass(this.cls.footer).append(a("<div/>").addClass("fg-panel-button fg-product-button").text("Add to Cart"),a("<div/>").addClass("fg-panel-button fg-product-button").text("View Cart")).appendTo(this.$inner),!0},destroy:function(){if(this.isCreated){this.panel.trigger("product-destroy",[this]).isDefaultPrevented()||(this.isCreated=!this.doDestroy(),this.isCreated||this.panel.trigger("product-destroyed",[this]))}return!this.isCreated},doDestroy:function(){return this.$el.remove(),!0},appendTo:function(a){var b=this;if(b.isCreated||b.create(),b.isCreated&&!b.isAttached){b.panel.trigger("product-append",[b,a]).isDefaultPrevented()||(b.isAttached=b.doAppendTo(a)),b.isAttached&&b.panel.trigger("product-appended",[b,a])}return b.isAttached},doAppendTo:function(a){return this.$el.appendTo(a),this.$el.parent().length>0},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.panel.trigger("product-detach",[a]).isDefaultPrevented()||(a.isAttached=!a.doDetach()),a.isAttached||a.panel.trigger("product-detached",[a])}return!a.isAttached},doDetach:function(){return this.$el.detach(),!0},load:function(){var b=this,c=b.panel.cls.states;return a.Deferred(function(a){if(b.panel.trigger("product-load",[b]).isDefaultPrevented())return void a.rejectWith("default prevented");b.$el.removeClass(c.allLoading).addClass(c.loading),b.doLoad().then(a.resolve).fail(a.reject)}).always(function(){b.$el.removeClass(c.loading)}).then(function(){b.$el.addClass(c.loaded),b.panel.trigger("product-loaded",[b])}).fail(function(){b.$el.addClass(c.loaded),b.panel.trigger("product-error",[b])}).promise()},doLoad:function(){var b=this;return null!=b.__loaded?b.__loaded:b.__loaded=a.Deferred(function(a){b.__requestId=setTimeout(function(){b.$body.append("loaded!"),a.resolve()},3e3)}).promise()},unload:function(){var b=this;return a.Deferred(function(a){return b.isCreated&&b.isAttached?b.panel.trigger("product-unload",[b]).isDefaultPrevented()?void a.rejectWith("default prevented"):void b.doUnload().then(a.resolve).fail(a.reject):void a.rejectWith("not created or attached")}).then(function(){b.panel.trigger("product-unloaded",[b])}).promise()},doUnload:function(){return e.resolved}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj,FooGallery.utils.transition),function(a,b,c,d){b.Panel.Image=b.Panel.Media.extend({construct:function(a,b){this._super(a,b),d.extend(this.opt,a.opt.image),d.extend(this.cls,a.cls.image),d.extend(this.sel,a.sel.image),this.allFullClasses=[this.cls.fullWidth,this.cls.fullHeight].join(" ")},doCreateContent:function(){return a("<img/>").attr(this.opt.attrs)},resize:function(){var a=this;if(a.isCreated&&a.panel.opt.fitMedia){var b=a.$content.get(0);if(b.naturalWidth&&b.naturalHeight){var d,e=b.naturalWidth>=b.naturalHeight,f=e,g=a.$el.innerWidth(),h=a.$el.innerHeight();e?(d=g/b.naturalWidth,b.naturalHeight*d<h&&(f=!1)):(d=h/b.naturalHeight,b.naturalWidth*d<g&&(f=!0)),c.requestFrame(function(){a.$content.removeClass(a.allFullClasses).addClass(f?a.cls.fullWidth:a.cls.fullHeight)})}}},doLoad:function(){var b=this;return a.Deferred(function(a){var c=b.$content.get(0);c.onload=function(){c.onload=c.onerror=null,a.resolve(b)},c.onerror=function(){c.onload=c.onerror=null,a.rejectWith("error loading image")},c.src=b.item.href,c.complete&&c.onload()}).then(function(){b.resize()}).promise()}}),b.Panel.media.register("image",b.Panel.Image),b.template.configure("core",{panel:{image:{attrs:{draggable:!1}}}},{panel:{image:{type:"fg-media-image",fullWidth:"fg-media-full-width",fullHeight:"fg-media-full-height"}}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.obj),function(a,b,c,d){b.Panel.Iframe=b.Panel.Media.extend({construct:function(a,b){this._super(a,b),d.extend(this.opt,a.opt.iframe),d.extend(this.cls,a.cls.iframe),d.extend(this.sel,a.sel.iframe)},doCreateContent:function(){return a("<iframe/>").attr(this.opt.attrs)},doLoad:function(){var b=this;return a.Deferred(function(a){b.$content.off("load error").on({load:function(){b.$content.off("load error"),a.resolve(b)},error:function(){b.$content.off("load error"),a.reject(b)}}),b.$content.attr("src",b.item.href)}).promise()}}),b.Panel.media.register("iframe",b.Panel.Iframe),b.template.configure("core",{panel:{iframe:{attrs:{src:"",frameborder:"no",allow:"autoplay; fullscreen",allowfullscreen:!0}}}},{panel:{iframe:{type:"fg-media-iframe"}}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.obj),function(a,b,c,d,e){b.Panel.Html=b.Panel.Media.extend({construct:function(a,b){this._super(a,b),d.extend(this.opt,a.opt.html),d.extend(this.cls,a.cls.html),d.extend(this.sel,a.sel.html),this.$target=null},doCreate:function(){return!!this._super()&&(!(!e.startsWith(this.item.href,"#")||0===(this.$target=a(this.item.href)).length)||(this.$target=null,!1))},doCreateContent:function(){return a("<div/>").attr(this.opt.attrs)},doAppendTo:function(a){return!!this._super(a)&&(this.$content.append(this.$target.contents()),!0)},doDetach:function(){return this.$target.append(this.$content.contents()),this._super()}}),b.Panel.media.register("html",b.Panel.Html),b.template.configure("core",{panel:{html:{}}},{panel:{html:{type:"fg-media-html"}}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.obj,FooGallery.utils.str),function(a,b,c,d,e){b.Panel.Embed=b.Panel.Html.extend({construct:function(a,b){this._super(a,b),d.extend(this.opt,a.opt.embed),d.extend(this.cls,a.cls.embed),d.extend(this.sel,a.sel.embed)}}),b.Panel.media.register("embed",b.Panel.Embed),b.template.configure("core",{panel:{embed:{}}},{panel:{embed:{type:"fg-media-embed"}}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.obj,FooGallery.utils.str),function(a,b,c,d,e,f){b.Panel.Video=b.Panel.Media.extend({construct:function(a,b){this._super(a,b),e.extend(this.opt,a.opt.video),e.extend(this.cls,a.cls.video),e.extend(this.sel,a.sel.video),this.urls=[],this.isSelfHosted=!1},parseHref:function(){for(var a,b,c=this,e=c.item.href.split(","),g=[],h=0,i=e.length;h<i;h++)if(!d.empty(e[h])){a=f.parts(e[h]),b=null;for(var j=0,k=c.panel.videoSources.length;j<k;j++)if(c.panel.videoSources[j].canPlay(a)){b=c.panel.videoSources[j],g.push({parts:a,source:b,embed:b.getEmbedUrl(a,c.opt.autoPlay)});break}}return g},doCreateContent:function(){return this.urls=this.parseHref(),this.isSelfHosted=a.map(this.urls,function(a){return!!a.source.selfHosted||null}).length>0,this.isSelfHosted?a("<video/>",this.opt.attrs.video):a("<iframe/>",this.opt.attrs.iframe).addClass("fitvidsignore")},doLoad:function(){var b=this;return a.Deferred(function(a){if(0===b.urls.length)return void a.rejectWith("no urls available");(b.isSelfHosted?b.loadSelfHosted():b.loadIframe()).then(a.resolve).fail(a.reject)}).promise()},loadSelfHosted:function(){var b=this;return a.Deferred(function(c){b.$content.off("loadeddata error"),b.$content.find("source").remove(),d.empty(b.item.cover)||b.$content.attr("poster",b.item.cover),b.$content.on({loadeddata:function(){if(b.$content.off("loadeddata error"),this.volume=b.opt.volume,b.opt.autoPlay){var a=this.play();void 0!==a&&a.catch(function(){console.log("Unable to autoplay video due to policy changes: https://developers.google.com/web/updates/2017/09/autoplay-policy-changes")})}c.resolve(b)},error:function(){b.$content.off("loadeddata error"),c.reject(b)}});var e=a.map(b.urls,function(b){return a("<source/>",{src:b.embed,mimeType:b.source.mimeType})});b.$content.append(e),b.$content.prop("readyState")>0&&b.$content.get(0).load()}).promise()},loadIframe:function(){var b=this;return a.Deferred(function(a){d.empty(b.item.cover)||b.$content.css("background-image","url('"+b.item.cover+"')"),b.$content.off("load error").on({load:function(){b.$content.off("load error"),a.resolve(b)},error:function(){b.$content.off("load error"),a.reject(b)}}),b.$content.attr("src",b.urls[0].embed)}).promise()}}),b.Panel.media.register("video",b.Panel.Video),b.template.configure("core",{panel:{video:{autoPlay:!1,volume:.2,attrs:{iframe:{src:"",frameborder:"no",allow:"autoplay; fullscreen",allowfullscreen:!0},video:{controls:!0,preload:!1,controlsList:"nodownload"}}}}},{panel:{video:{type:"fg-media-video"}}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.url),function(a,b,c,d,e,f){var g=document.createElement("video");b.Panel.Video.Source=c.Class.extend({construct:function(a,b,e,f,h){this.mimeType=a,this.regex=b,this.selfHosted=!!d.boolean(e)&&e,this.embedParams=d.array(f)?f:[],this.autoPlayParam=d.hash(h)?h:{},this.canPlayType=!this.selfHosted||!d.fn(g.canPlayType)||-1!==c.inArray(g.canPlayType(this.mimeType),["probably","maybe"])},canPlay:function(a){return this.canPlayType&&this.regex.test(a.href)},mergeParams:function(a,b){for(var c,f=this,g=0,h=f.embedParams.length;g<h;g++)c=f.embedParams[g],a.search=e.param(a.search,c.key,c.value);return d.empty(f.autoPlayParam)||(a.search=e.param(a.search,f.autoPlayParam.key,b?f.autoPlayParam.value:"")),a.search},getId:function(a){var b=a.href.match(/.*\/(.*?)($|\?|#)/);return b&&b.length>=2?b[1]:null},getEmbedUrl:function(a,b){return a.search=this.mergeParams(a,b),f.join("/",location.protocol,"//",a.hostname,a.pathname)+a.search+a.hash}}),b.Panel.Video.sources=new b.Factory}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.url,FooGallery.utils.str),function(a){a.Panel.Video.Dailymotion=a.Panel.Video.Source.extend({construct:function(){this._super("video/daily",/(www.)?dailymotion\.com|dai\.ly/i,!1,[{key:"wmode",value:"opaque"},{key:"info",value:"0"},{key:"logo",value:"0"},{key:"related",value:"0"}],{key:"autoplay",value:"1"})},getId:function(a){return/\/video\//i.test(a.href)?a.href.split(/\/video\//i)[1].split(/[?&]/)[0].split(/[_]/)[0]:a.href.split(/dai\.ly/i)[1].split(/[?&]/)[0]},getEmbedUrl:function(a,b){var c=this.getId(a);return a.search=this.mergeParams(a,b),"https://www.dailymotion.com/embed/video/"+c+a.search+a.hash}}),a.Panel.Video.sources.register("video/daily",a.Panel.Video.Dailymotion)}(FooGallery),function(a){a.Panel.Video.Mp4=a.Panel.Video.Source.extend({construct:function(){this._super("video/mp4",/\.mp4/i,!0)}}),a.Panel.Video.sources.register("video/mp4",a.Panel.Video.Mp4),a.Panel.Video.Webm=a.Panel.Video.Source.extend({construct:function(){this._super("video/webm",/\.webm/i,!0)}}),a.Panel.Video.sources.register("video/webm",a.Panel.Video.Webm),a.Panel.Video.Wmv=a.Panel.Video.Source.extend({construct:function(){this._super("video/wmv",/\.wmv/i,!0)}}),a.Panel.Video.sources.register("video/wmv",a.Panel.Video.Wmv),a.Panel.Video.Ogv=a.Panel.Video.Source.extend({construct:function(){this._super("video/ogg",/\.ogv|\.ogg/i,!0)}}),a.Panel.Video.sources.register("video/ogg",a.Panel.Video.Ogv)}(FooGallery),function(a){a.Panel.Video.Vimeo=a.Panel.Video.Source.extend({construct:function(){this._super("video/vimeo",/(player.)?vimeo\.com/i,!1,[{key:"badge",value:"0"},{key:"portrait",value:"0"}],{key:"autoplay",value:"1"})},getEmbedUrl:function(a,b){var c=this.getId(a);return a.search=this.mergeParams(a,b),"https://player.vimeo.com/video/"+c+a.search+a.hash}}),a.Panel.Video.sources.register("video/vimeo",a.Panel.Video.Vimeo)}(FooGallery),function(a,b,c){a.Panel.Video.Wistia=a.Panel.Video.Source.extend({construct:function(){this._super("video/wistia",/(.+)?(wistia\.(com|net)|wi\.st)\/.*/i,!1,[],{iframe:{key:"autoPlay",value:"1"},playlists:{key:"media_0_0[autoPlay]",value:"1"}})},getType:function(a){return/playlists\//i.test(a)?"playlists":"iframe"},mergeParams:function(a,d){for(var e,f=this,g=0,h=f.embedParams.length;g<h;g++)e=f.embedParams[g],a.search=c.param(a.search,e.key,e.value);if(!b.empty(f.autoPlayParam)){var i=f.autoPlayParam[f.getType(a.href)];a.search=c.param(a.search,i.key,d?i.value:"")}return a.search},getId:function(a){return/embed\//i.test(a.href)?a.href.split(/embed\/.*?\//i)[1].split(/[?&]/)[0]:a.href.split(/medias\//)[1].split(/[?&]/)[0]},getEmbedUrl:function(a,b){var c=this.getId(a);return a.search=this.mergeParams(a,b),"https://fast.wistia.net/embed/"+this.getType(a.href)+"/"+c+a.search+a.hash}}),a.Panel.Video.sources.register("video/wistia",a.Panel.Video.Wistia)}(FooGallery,FooGallery.utils.is,FooGallery.utils.url),function(a){a.Panel.Video.YouTube=a.Panel.Video.Source.extend({construct:function(){this._super("video/youtube",/(www.)?youtube|youtu\.be/i,!1,[{key:"modestbranding",value:"1"},{key:"rel",value:"0"},{key:"wmode",value:"transparent"},{key:"showinfo",value:"0"}],{key:"autoplay",value:"1"})},getId:function(a){return/embed\//i.test(a.href)?a.href.split(/embed\//i)[1].split(/[?&]/)[0]:a.href.split(/v\/|v=|youtu\.be\//i)[1].split(/[?&]/)[0]},getEmbedUrl:function(a,b){var c=this.getId(a);return a.search=this.mergeParams(a,b),"https://www.youtube-nocookie.com/embed/"+c+a.search+a.hash}}),a.Panel.Video.sources.register("video/youtube",a.Panel.Video.YouTube)}(FooGallery),function(a){a.Panel.Video.TED=a.Panel.Video.Source.extend({construct:function(){this._super("video/ted",/(www.)?ted\.com/i,!1,[],{key:"autoplay",value:"1"})},getEmbedUrl:function(a,b){var c=this.getId(a);return a.search=this.mergeParams(a,b),"https://embed.ted.com/talks/"+c+a.search+a.hash}}),a.Panel.Video.sources.register("video/ted",a.Panel.Video.TED)}(FooGallery),function(a,b){a.Panel.Video.Facebook=a.Panel.Video.Source.extend({construct:function(){this._super("video/facebook",/(www.)?facebook\.com\/.*?\/videos\//i,!1,[{key:"show_text",value:"0"},{key:"show_caption",value:"0"}],{key:"autoplay",value:"1"})},getEmbedUrl:function(a,c){return"https://www.facebook.com/plugins/video.php"+b.param(this.mergeParams(a,c),"href",encodeURI(a.origin+a.pathname))+a.hash}}),a.Panel.Video.sources.register("video/facebook",a.Panel.Video.Facebook)}(FooGallery,FooGallery.utils.url),function(a,b,c,d){b.Lightbox=b.Panel.extend({construct:function(a,c){var d=this;d._super(a,c),d.opt.enabled&&d.tmpl instanceof b.Template&&!d.tmpl.destroying&&!d.tmpl.destroyed&&d.tmpl.on({"after-state":d.onAfterState,"anchor-click-item":d.onAnchorClickItem,destroyed:d.onDestroyedTemplate},d)},onAnchorClickItem:function(a,b){b.noLightbox||(a.preventDefault(),this.open(b))},onDestroyedTemplate:function(){this.destroy()},onAfterState:function(a,c){c.item instanceof b.Item&&!c.item.noLightbox&&this.open(c.item)}}),b.template.configure("core",{lightbox:{enabled:!1}},{}),b.Template.override("construct",function(a,e){this._super(a,e);var f=this.$el.data("foogalleryLightbox"),g=this.opt.lightbox.enabled||c.hash(f)||this.$el.length>0&&this.el.hasAttribute("data-foogallery-lightbox");this.opt.lightbox=d.extend({},this.opt.panel,this.opt.lightbox,{enabled:g},f),this.lightbox=g?new b.Lightbox(this,this.opt.lightbox):null})}(FooGallery.$,FooGallery,FooGallery.utils.is,FooGallery.utils.obj),function(a,b,c){b.DefaultTemplate=b.Template.extend({}),b.template.register("default",b.DefaultTemplate,null,{container:"foogallery fg-default"})}(FooGallery.$,FooGallery,FooGallery.utils),function(a,b,c,d){b.MasonryTemplate=b.Template.extend({construct:function(a,b){var c=this;c._super(a,b),c.masonry=null,c.on({"pre-init":c.onPreInit,destroyed:c.onDestroyed,"appended-items":c.onAppendedItems,"detach-item":c.onDetachItem,"layout after-filter-change":c.onLayoutRequired,"page-change":c.onPageChange},c)},onPreInit:function(){var a=this,b=a.sel,c=a.$el.hasClass("fg-fixed");a.template.isFitWidth=c,a.template.percentPosition=!c,a.template.transitionDuration=0,a.template.itemSelector=b.item.elem,c||(a.template.gutter=b.gutterWidth,a.template.columnWidth=b.columnWidth),a.masonry=new Masonry(a.el,a.template)},onDestroyed:function(){var a=this;a.masonry instanceof Masonry&&a.masonry.destroy()},onLayoutRequired:function(){this.masonry.layout()},onPageChange:function(a,b,c,d){d||this.masonry.layout()},onAppendedItems:function(a,b){var c=this,d=b.map(function(a){return a.el}),e=c.masonry.addItems(d);c.masonry.layoutItems(e,!0)},onDetachItem:function(a,b){a.isDefaultPrevented()||(a.preventDefault(),this.masonry.remove(b.el),b.$el.removeClass(this.cls.hidden),b.isAttached=!1)}}),b.template.register("masonry",b.MasonryTemplate,{template:{}},{container:"foogallery fg-masonry",columnWidth:"fg-column-width",gutterWidth:"fg-gutter-width"})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Justified=c.Class.extend({construct:function(c,d){var e=this;e.tmpl=c,e.$el=c.$el,e.options=a.extend(!0,{},b.Justified.defaults,d),e._items=[],e.maxRowHeight=0,e.borderSize=0,e.align=-1!==["left","center","right"].indexOf(e.options.align)?e.options.align:"center"},init:function(){var a=this;a.maxRowHeight=a.getMaxRowHeight(a.options.maxRowHeight,a.options.rowHeight),a.borderSize=a.getBorderSize()},destroy:function(){this.$el.removeAttr("style")},getBorderSize:function(){switch(this.tmpl.getCSSClass("border","")){case"fg-border-thin":return 4;case"fg-border-medium":return 10;case"fg-border-thick":return 16;default:return 0}},getMaxRowHeight:function(a,b){if(d.string(a)){var c=parseInt(a);return isNaN(c)?b:c<=0?1/0:-1!==a.indexOf("%")?b*(c/100):c}return d.number(a)?a<=0?1/0:a:b},layout:function(a){var b=this;if(d.number(a)||(a=b.$el.width()),a>0){var c=b.createRows(a);0!==c.height&&c.rows.length>0&&(b.$el.height(c.height),c.rows.forEach(function(a,d){b.render(a,d===c.rows.length-1)}))}},render:function(a,b){var c=this,d=!b&&"justify"!==c.options.lastRow;a.items.forEach(function(b){b.elem&&(a.visible?(b.elem.style.setProperty("position","absolute"),b.elem.style.setProperty("width",b.width+"px"),b.elem.style.setProperty("height",b.height+"px"),b.elem.style.setProperty("top",b.top+"px"),b.elem.style.setProperty("left",b.left+"px"),b.elem.style.setProperty("margin","0"),b.elem.style.removeProperty("display"),c.maxRowHeight>0&&d?b.elem.style.setProperty("max-height",c.maxRowHeight+2*c.borderSize+"px"):b.elem.style.removeProperty("max-height"),b.elem.classList.contains("fg-positioned")||b.elem.classList.add("fg-positioned")):b.elem.style.setProperty("display","none"))})},justify:function(a,b,c,d){var e=this,f=e.options.margins,g=f*(a.items.length-1),h=c-g,i=a.width-g,j=h/i;if(a.width=i*j,a.height=a.height*j,a.height>d+2*e.borderSize){var k=(d+2*e.borderSize)/a.height;a.width=a.width*k,a.height=a.height*k}a.top=b,a.left=0,"left"!==e.align&&a.width<h&&("right"===e.align?a.left=h-a.width:a.left=(h-a.width)/2),a.width+=g;var l=a.left;return a.items.forEach(function(c,d){d>0&&(l+=f),c.left=l,c.top=b;var e=a.height/c.height;c.width=c.width*e,c.height=c.height*e,l+=c.width}),a.height},createRows:function(a){function b(){return{index:++h,visible:!0,width:0,height:d.options.rowHeight+2*d.borderSize,top:0,left:0,items:[]}}function c(a,b){var c=a.width,e=a.height;if(e!==b){var f=b/e;e*=f,c*=f}var g=d.maxRowHeight/b,h=c*g,i=e*g;return{__item:a,elem:a.el,width:c,height:e,maxWidth:h,maxHeight:i,top:0,left:0}}var d=this,e=d.options.margins,f=d.tmpl.getAvailable(),g=[],h=-1,i=b(),j=0,k=0;if(f.forEach(function(f){var h=c(f,i.height);if(i.width+h.width>a&&i.items.length>0){g.length>0&&(j+=e);var l=d.justify(i,j,a,d.maxRowHeight);l>k&&(k=l),j+=l,g.push(i),i=b()}i.items.length>0&&(i.width+=e),i.width+=h.width,i.items.push(h)}),i.items.length>0){var l,m=j+e;switch(d.options.lastRow){case"smart":if(l=d.justify(i,m,a,d.maxRowHeight),0!==k&&l>k){var n=k/l,o=i.width*n/a;(n<.9||o<.9)&&(l=d.justify(i,m,a,k-2*d.borderSize))}break;case"justify":l=d.justify(i,m,a,99999);break;case"hide":l=d.justify(i,m,a,d.maxRowHeight),i.width<a&&(i.visible=!1)}i.visible&&(j+=l+e),g.push(i)}return{height:j,rows:g}}}),b.Justified.defaults={rowHeight:150,maxRowHeight:"200%",margins:0,align:"center",lastRow:"smart"}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b){b.JustifiedTemplate=b.Template.extend({construct:function(a,b){var c=this;c._super(a,b),c.justified=null,c.on({"pre-init":c.onPreInit,init:c.onInit,destroyed:c.onDestroyed,"layout after-filter-change":c.onLayoutRequired,"page-change":c.onPageChange},c)},onPreInit:function(){var a=this;a.justified=new b.Justified(a,a.template)},onInit:function(){this.justified.init()},onDestroyed:function(){var a=this;a.justified instanceof b.Justified&&a.justified.destroy()},onLayoutRequired:function(){this.justified.layout(this.lastWidth)},onPageChange:function(a,b,c,d){d||this.justified.layout(this.lastWidth)}}),b.template.register("justified",b.JustifiedTemplate,null,{container:"foogallery fg-justified"})}(FooGallery.$,FooGallery),function(a,b){b.JustifiedCSSTemplate=b.Template.extend({}),b.template.register("justified-css",b.JustifiedCSSTemplate,null,{container:"foogallery fg-justified-css"})}(FooGallery.$,FooGallery),function(a,b,c,d,e){b.PortfolioTemplate=b.Template.extend({}),b.template.register("simple_portfolio",b.PortfolioTemplate,{},{container:"foogallery fg-simple_portfolio"})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn),function(a,b,c,d){b.ImageViewerTemplate=b.Template.extend({construct:function(b,c){var e=this;e._super(d.extend({},b,{paging:{pushOrReplace:"replace",theme:"fg-light",type:"default",size:1,position:"none",scrollToTop:!1}}),c),e.$inner=a(),e.$current=a(),e.$total=a(),e.$prev=a(),e.$next=a(),e.on({"pre-init":e.onPreInit,init:e.onInit,destroy:e.onDestroy,"append-item":e.onAppendItem,"after-page-change":e.onAfterPageChange,"after-filter-change":e.onAfterFilterChange},e)},createChildren:function(){var b=this;return a("<div/>",{class:b.cls.inner}).append(a("<div/>",{class:b.cls.innerContainer}),a("<div/>",{class:b.cls.controls}).append(a("<div/>",{class:b.cls.prev}).append(a("<span/>",{text:b.il8n.prev})),a("<label/>",{class:b.cls.count,text:b.il8n.count}).prepend(a("<span/>",{class:b.cls.countCurrent,text:"0"})).append(a("<span/>",{class:b.cls.countTotal,text:"0"})),a("<div/>",{class:b.cls.next}).append(a("<span/>",{text:b.il8n.next}))))},destroyChildren:function(){var a=this;a.$el.find(a.sel.inner).remove()},onPreInit:function(a){var b=this;b.$inner=b.$el.find(b.sel.innerContainer),b.$current=b.$el.find(b.sel.countCurrent),b.$total=b.$el.find(b.sel.countTotal),b.$prev=b.$el.find(b.sel.prev),b.$next=b.$el.find(b.sel.next)},onInit:function(a){var b=this;b.template.attachFooBox&&b.$el.on("foobox.previous",{self:b},b.onFooBoxPrev).on("foobox.next",{self:b},b.onFooBoxNext),b.$prev.on("click",{self:b},b.onPrevClick),b.$next.on("click",{self:b},b.onNextClick)},onDestroy:function(a){var b=this;b.template.attachFooBox&&b.$el.off({"foobox.previous":b.onFooBoxPrev,"foobox.next":b.onFooBoxNext}),b.$prev.off("click",b.onPrevClick),b.$next.off("click",b.onNextClick)},onAppendItem:function(a,b){a.preventDefault(),this.$inner.append(b.$el),b.isAttached=!0},onAfterPageChange:function(a,b,c,d){d||this.update()},onAfterFilterChange:function(a){this.update()},update:function(){this.pages&&(this.$current.text(this.pages.current),this.$total.text(this.pages.total))},prev:function(){this.pages&&(this.template.loop&&1===this.pages.current?this.pages.last():this.pages.prev(),this.update())},next:function(){this.pages&&(this.template.loop&&this.pages.current===this.pages.total?this.pages.first():this.pages.next(),this.update())},onFooBoxPrev:function(a){a.data.self.prev()},onFooBoxNext:function(a){a.data.self.next()},onPrevClick:function(a){a.preventDefault(),a.stopPropagation(),a.data.self.prev()},onNextClick:function(a){a.preventDefault(),a.stopPropagation(),a.data.self.next()}}),b.template.register("image-viewer",b.ImageViewerTemplate,{template:{attachFooBox:!1,loop:!1}},{container:"foogallery fg-image-viewer",inner:"fiv-inner",innerContainer:"fiv-inner-container",controls:"fiv-ctrls",prev:"fiv-prev",next:"fiv-next",count:"fiv-count",countCurrent:"fiv-count-current",countTotal:"fiv-count-total"},{prev:"Prev",next:"Next",count:"of"})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.obj),function(a,b,c){b.ThumbnailTemplate=b.Template.extend({construct:function(a,b){this._super(c.extend({},a,{filtering:{type:"none"},paging:{pushOrReplace:"replace",theme:"fg-light",type:"default",size:1,position:"none",scrollToTop:!1}}),b)}}),b.template.register("thumbnail",b.ThumbnailTemplate,null,{container:"foogallery fg-thumbnail"})}(FooGallery.$,FooGallery,FooGallery.utils.obj),function(a,b,c,d,e,f){b.FooGridTemplate=b.Template.extend({construct:function(a,c){var d=this;d._super(a,c),d.$section=null,d.isFirst=!1,d.disableTransitions=!1,d.panel=new b.Panel(d,d.template),d.on({"pre-init":d.onPreInit,"parsed-item":d.onParsedItem,"created-item":d.onCreatedItem,"destroy-item":d.onDestroyItem,"after-state":d.onAfterState,"before-page-change":d.onBeforePageChange,"before-filter-change":d.onBeforeFilterChange},d),d.panel.on({next:d.onPanelNext,prev:d.onPanelPrev,close:d.onPanelClose,"area-load":d.onPanelAreaLoad,"area-unload":d.onPanelAreaUnload},d)},destroy:function(a){var b=this,c=b._super.bind(b);return b.panel.destroy().then(function(){return b.$section.remove(),c(a)})},onPreInit:function(){var b=this,c=!1;if(b.$section=a("<section/>",{class:"foogrid-content"}),"none"===b.panel.opt.transition&&(b.$el.hasClass("foogrid-transition-horizontal")&&(b.panel.opt.transition="horizontal",c=!0),b.$el.hasClass("foogrid-transition-vertical")&&(b.panel.opt.transition="vertical",c=!0),b.$el.hasClass("foogrid-transition-fade")&&(b.panel.opt.transition="fade",c=!0)),(b.template.transitionOpen||b.template.transitionRow)&&(c=c||b.$el.hasClass("foogrid-transition-horizontal foogrid-transition-vertical foogrid-transition-fade"),b.template.transitionOpen=b.template.transitionOpen&&c,b.template.transitionRow=b.template.transitionRow&&c),"none"===b.panel.opt.info&&(b.$el.hasClass("foogrid-caption-below")&&(b.panel.opt.info="bottom"),b.$el.hasClass("foogrid-caption-right")&&(b.panel.opt.info="right")),b.panel.info.isEnabled()&&"default"===b.panel.info.opt.align){var d=null;b.$el.hasClass("fg-c-l")&&(d="left"),b.$el.hasClass("fg-c-c")&&(d="center"),b.$el.hasClass("fg-c-r")&&(d="right"),b.$el.hasClass("fg-c-j")&&(d="justified"),null!==d&&(b.panel.info.opt.align=d)}null===b.panel.opt.theme&&(b.panel.opt.theme=b.getCSSClass("theme")),"fg-light"===b.panel.opt.theme&&null===b.panel.opt.button&&(b.panel.opt.button="fg-button-blue"),"fg-dark"===b.panel.opt.theme&&null===b.panel.opt.button&&(b.panel.opt.button="fg-button-dark")},onParsedItem:function(a,b){b.isError||b.$anchor.off("click.foogallery").on("click.gg",{self:this,item:b},this.onAnchorClick)},onCreatedItem:function(a,b){b.isError||b.$anchor.off("click.foogallery").on("click.gg",{self:this,item:b},this.onAnchorClick)},onDestroyItem:function(a,b){b.isError||b.$anchor.off("click.gg",this.onAnchorClick)},onAfterState:function(a,c){c.item instanceof b.Item&&this.open(c.item)},onBeforePageChange:function(a,b,c,d,e){if(!e){var f=this;f.panel.isMaximized||f.close(!0,f.panel.isAttached)}},onBeforeFilterChange:function(){var a=this;a.panel.isMaximized||a.close(!0,a.panel.isAttached)},onPanelNext:function(a,b,c){a.preventDefault(),this.open(c)},onPanelPrev:function(a,b,c){a.preventDefault(),this.open(c)},onPanelClose:function(a){a.preventDefault(),this.close(!1,!0)},onPanelAreaLoad:function(a,b,c){"content"===b.name&&c.item.$el.addClass(this.cls.visible)},onPanelAreaUnload:function(a,b,c){"content"===b.name&&c.item.$el.removeClass(this.cls.visible)},onAnchorClick:function(a){a.preventDefault(),a.data.self.toggle(a.data.item)},transitionsEnabled:function(){return!this.disableTransitions&&this.panel.hasTransition},isNewRow:function(a){var b=this;return b.getOffsetTop(b.panel.currentItem)!==b.getOffsetTop(a)},getOffsetTop:function(a){return a instanceof b.Item&&a.isCreated?a.$el.offset().top:0},scrollTo:function(b,d,e){var f=this;b=(c.number(b)?b:0)-+f.template.scrollOffset,d=!c.boolean(d)||d,e=c.number(e)?e:300;var g=a("#wpadminbar"),h=a("html, body");return 1===g.length&&(b-=g.height()),a.Deferred(function(a){f.template.scroll&&d?f.template.scrollSmooth&&!f.panel.isMaximized?h.animate({scrollTop:b},e,function(){a.resolve()}):(h.scrollTop(b),a.resolve()):a.resolve()})},open:function(c){var d=this;if(-1!==c.index){var e=d.isNewRow(c);return d.panel.currentItem instanceof b.Item&&e&&!d.panel.isMaximized?d.doClose(e).then(function(){return d.pages&&!d.pages.contains(d.pages.current,c)&&d.pages.goto(d.pages.find(c)),d.doOpen(c,e)}):(d.pages&&!d.pages.contains(d.pages.current,c)&&d.pages.goto(d.pages.find(c)),d.doOpen(c,e))}return a.when()},doOpen:function(b,c){var d=this;return a.Deferred(function(a){
d.scrollTo(d.getOffsetTop(b),c||d.isFirst).then(function(){d.panel.appendTo(d.$section),c&&b.$el.after(d.$section),d.transitionOpen(c)?(d.isFirst=!1,f.start(d.$section,function(a){a.addClass(d.cls.visible)},null,350).then(function(){a.resolve()},function(b){a.reject(b)})):(d.$section.addClass(d.cls.visible),a.resolve())})}).then(function(){return d.scrollTo(d.getOffsetTop(b),!0)}).then(function(){return d.panel.load(b)}).then(function(){d.$section.trigger("focus")}).always(function(){d.isBusy=!1}).promise()},transitionOpen:function(a){return this.transitionsEnabled()&&!this.panel.isMaximized&&(this.template.transitionOpen&&this.isFirst||this.template.transitionRow&&a)},close:function(a,b){a=!!c.boolean(a)&&a;var d=this,e=d.disableTransitions;return d.disableTransitions=a,d.doClose(b).then(function(){d.disableTransitions=e})},doClose:function(c){var d=this;return a.Deferred(function(a){d.panel.currentItem instanceof b.Item?(d.panel.currentItem.$el.removeClass(d.cls.visible),d.transitionClose(c)?f.start(d.$section,function(a){a.removeClass(d.cls.visible)},null,350).then(function(){d.panel.doClose(!0,!0).then(function(){a.resolve()},function(b){a.reject(b)})},function(b){a.reject(b)}):(d.$section.removeClass(d.cls.visible),d.panel.doClose(!0,!0).then(function(){a.resolve()},function(b){a.reject(b)}))):a.resolve()}).always(function(){d.$section.detach(),d.isFirst=!0}).promise()},transitionClose:function(a){return this.transitionsEnabled()&&!this.panel.isMaximized&&(this.template.transitionRow&&a||this.template.transitionOpen&&!a)},toggle:function(a){var c=this;return a instanceof b.Item?c.panel.currentItem===a?c.close():c.open(a):d.reject()}}),b.template.register("foogrid",b.FooGridTemplate,{template:{classNames:"foogrid-panel",scroll:!0,scrollOffset:0,scrollSmooth:!1,loop:!0,external:"_blank",externalText:null,keyboard:!0,transitionRow:!0,transitionOpen:!0,noMobile:!0,info:"bottom",infoVisible:!0,infoOverlay:!1,buttons:{fullscreen:!1}}},{container:"foogallery foogrid",visible:"foogrid-visible"})}(FooGallery.$,FooGallery,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj,FooGallery.utils.transition),function(a,b,c,d){b.SliderTemplate=b.Template.extend({construct:function(a,c){var e=this;e._super(d.extend({},a,{paging:{type:"none"}}),c),e.items.ALLOW_CREATE=!1,e.items.ALLOW_APPEND=!1,e.panel=new b.Panel(e,e.template)},preInit:function(){var a=this;if(a._super()){if(a.$el.toggleClass(a.cls.fitContainer,a.template.fitContainer),a.template.horizontal=a.$el.hasClass("fgs-horizontal")||a.template.horizontal,null===a.panel.opt.thumbs&&(a.panel.thumbs.opt.position=a.template.horizontal?"bottom":"right"),a.$el.hasClass("fgs-no-captions")&&(a.template.noCaptions=!0,a.panel.thumbs.opt.captions=!a.template.noCaptions),a.$el.hasClass("fgs-content-nav")&&(a.template.contentNav=!0,a.panel.opt.buttons.prev=a.panel.opt.buttons.next=a.template.contentNav),null===a.panel.opt.button&&(a.panel.opt.button=this.getPanelButtonClass()),a.panel.info.isEnabled()&&"default"===a.panel.info.opt.align){var b=null;a.$el.hasClass("fg-c-l")&&(b="left"),a.$el.hasClass("fg-c-c")&&(b="center"),a.$el.hasClass("fg-c-r")&&(b="right"),a.$el.hasClass("fg-c-j")&&(b="justified"),null!==b&&(a.panel.info.opt.align=b)}return!0}return!1},ready:function(){var a=this;return!!a._super()&&(a.panel.appendTo(a.$el),a.panel.load(a.state.current.item),!0)},destroy:function(a){var b=this,c=b._super.bind(b);return b.panel.destroy().then(function(){return c(a)})},getPanelButtonClass:function(){var a=this.$el.prop("className"),b=/(?:^|\s)fgs-(purple|red|green|blue|orange)(?:$|\s)/.exec(a);return null!=b&&b.length>=2?"fg-button-"+b[1]:null}}),b.template.register("slider",b.SliderTemplate,{template:{horizontal:!1,noCaptions:!1,contentNav:!1,fitContainer:!1,fitMedia:!0,transition:"horizontal",hoverButtons:!0,preserveButtonSpace:!1,noMobile:!0,thumbs:null,thumbsSmall:!0,info:"top",infoVisible:!0,buttons:{close:!1,info:!1,maximize:!1,fullscreen:!1}}},{container:"foogallery fg-slider",fitContainer:"fg-fit-container"})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.obj),function(a,b,c,d,e,f){b.StackAlbum=c.Class.extend({construct:function(c,f){var g=this;g.$el=d.jq(c)?c:a(c),g.el=g.$el.get(0),g.opt=e.extend({},b.StackAlbum.defaults,f,g.$el.data("foogallery")),g.$back=g.$el.find(".fg-header-back"),g.$active=g.$el.find(".fg-header-active"),g.$piles=g.$el.find(".fg-piles"),g.piles=g.$piles.find(".fg-pile").map(function(a,c){return new b.StackAlbum.Pile(g,c,{index:a})}).get(),g.ignoreResize=!1,g.robserver=new ResizeObserver(function(){!g.ignoreResize&&g.$el.is(":visible")&&g.layout(!0)})},init:function(){var a=this;a.piles.forEach(function(a){a.init()}),a.$back.on("click.foogallery",{self:a},a.onBackClick),a.robserver.observe(a.el)},destroy:function(){var a=this;a.robserver.disconnect(),a.$back.off(".foogallery"),a.piles.forEach(function(a){a.destroy()})},getLayoutInfo:function(){var a=this,b=a.opt.gutter+2*a.opt.border;return{maxWidth:a.$el.width(),space:b,halfSpace:b/2,itemWidth:a.opt.itemWidth,itemHeight:a.opt.itemHeight,itemOuterWidth:a.opt.itemWidth+2*a.opt.border,itemOuterHeight:a.opt.itemHeight+2*a.opt.border,blockWidth:a.opt.itemWidth+b,blockHeight:a.opt.itemHeight+b,border:a.opt.border,doubleBorder:2*a.opt.border,gutter:a.opt.gutter,halfGutter:a.opt.gutter/2}},layout:function(a){var b,c=this;a&&(c.$el.addClass("fg-disable-transitions"),c.$el.prop("offsetWidth")),c.hasActive?(b=c.activePile.layout(),c.activePile.setPosition(0,0,b.width,b.height),c.$piles.css({width:b.width+"px",height:b.height+"px"})):(b=c.layoutPiles(),c.$piles.css({width:b.width+"px",height:b.height+"px"})),a&&c.$el.removeClass("fg-disable-transitions")},layoutPiles:function(a){var b=this,c=b.getLayoutInfo(),e=0,f=1,g=0;return a=d.fn(a)?a:function(){},b.piles.forEach(function(b){var d=e;(e+=c.blockWidth)>c.maxWidth&&(d=0,e=c.blockWidth,f++);var h=c.blockHeight*(f-1);a(b,h,d,c.blockWidth,c.blockHeight),b.setPosition(h,d,c.blockWidth,c.blockHeight),e>g&&(g=e)}),{width:g,height:c.blockHeight*f}},setActive:function(a){var c,d=this,e=d.activePile,g=e instanceof b.StackAlbum.Pile;a=a instanceof b.StackAlbum.Pile?a:null,d.activePile=a,d.hasActive=null!==a,g&&e.collapse(),d.ignoreResize=!0,d.hasActive?(d.piles.forEach(function(b){b!==a&&b.hide(d.activePile)}),c=d.activePile.expand(),d.$active.text(a.title),d.$el.addClass("fg-has-active")):(c=d.layoutPiles(function(a){a.show()}),d.$el.removeClass("fg-has-active")),f.start(d.$piles,function(a){a.css({width:c.width+"px",height:c.height+"px"})},null,350).then(function(){d.ignoreResize=!1})},onBackClick:function(a){a.preventDefault(),a.stopPropagation(),a.data.self.setActive(null)}}),b.StackAlbum.defaults={gutter:50,itemWidth:150,itemHeight:150,border:10,angleStep:1,randomAngle:!1}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.transition),function(a,b,c,d,e){b.StackAlbum.Pile=c.Class.extend({construct:function(c,f,g){var h=this;h.album=c,h.$el=d.jq(f)?f:a(f),h.opt=e.extend({},b.StackAlbum.Pile.defaults,g,h.$el.data()),h.title=h.opt.title,h.items=h.$el.find(".fg-pile-item").map(function(a,c){return new b.StackAlbum.Item(h,c,{index:a})}).get(),h.$cover=a("<div/>",{class:"fg-pile-cover"}).append(a("<div/>",{class:"fg-pile-cover-content"}).append(a("<span/>",{class:"fg-pile-cover-title",text:h.opt.title}),a("<span/>",{class:"fg-pile-cover-count",text:h.items.length}))),h.top=0,h.left=0,h.isExpanded=!1},init:function(){var a=this,b=a.album.opt,c=a.getAngles(b.angleStep),d=b.randomAngle?a.randomAngle(c):b.angleStep;a.$cover.on("click.foogallery",{self:a},a.onCoverClick),a.items.forEach(function(e,f){e.init(),f>3||(0===f?(e.$el.addClass("fg-has-cover").append(a.$cover),e.load()):(f%2==0?e.setAngle(-d):e.setAngle(d),b.randomAngle?d=a.randomAngle(c):d+=b.angleStep))})},destroy:function(){var a=this;a.$cover.remove(),a.items.forEach(function(a,b){0===b&&a.$el.removeClass("fg-has-cover"),a.destroy()})},getAngles:function(a){for(var b=[],c=1;c<=3;c++)b.push(c*a);return b},randomAngle:function(a){var b=a.length,c=Math.floor(Math.random()*(b-0)+0),d=a.splice(c,1);return 1===d.length?d[0]:0},setPosition:function(a,b,c,e){var f=this;f.top=a,f.left=b,d.number(c)&&d.number(e)?f.$el.css({top:a+"px",left:b+"px",width:c+"px",height:e+"px"}):f.$el.css({top:a+"px",left:b+"px"})},layout:function(){var a=this,b=a.album.getLayoutInfo(),c=0,d=1,e=!1,f=0;return a.items.forEach(function(a){(c+=b.halfGutter)>b.maxWidth&&(c=b.halfGutter,d++,e=!0);var g=c;c+=b.itemOuterWidth+b.halfGutter,!e&&c>b.maxWidth&&(g=b.halfGutter,c=b.blockWidth,d++);var h=b.blockHeight*(d-1)+b.halfGutter;e=!1,a.setPosition(h,g,b.itemOuterWidth,b.itemOuterHeight),a.isLoaded||a.load(),c>f&&(f=c)}),{width:f,height:b.blockHeight*d}},expand:function(){var a,b=this;return b.$el.removeClass("fg-collapsed").addClass("fg-expanded"),a=b.layout(),b.setPosition(0,0,a.width,a.height),b.isExpanded=!0,a},collapse:function(){var a=this,b=a.album.getLayoutInfo();a.$el.removeClass("fg-expanded").addClass("fg-collapsed"),a.items.forEach(function(a){a.setPosition(b.halfGutter,b.halfGutter,b.itemOuterWidth,b.itemOuterHeight)});var c={width:b.blockWidth,height:b.blockHeight};return a.setPosition(0,0,c.width,c.height),a.isExpanded=!1,c},show:function(){this.$el.removeClass("fg-hidden fg-expanded fg-collapsed")},hide:function(a){var c=this;a instanceof b.StackAlbum.Pile&&c.setPosition(a.top,a.left),c.$el.addClass("fg-hidden")},onCoverClick:function(a){a.preventDefault(),a.stopPropagation();var b=a.data.self;b.album.setActive(b)}}),b.StackAlbum.Pile.defaults={index:-1,title:null}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj),function(a,b,c,d,e){b.StackAlbum.Item=c.Class.extend({construct:function(c,f,g){var h=this;h.$el=d.jq(f)?f:a(f),h.opt=e.extend({},b.StackAlbum.Item.defaults,g,h.$el.data()),h.$thumb=h.$el.find(".fg-pile-item-thumb"),h.$image=h.$el.find(".fg-pile-item-image"),h.isLoaded=!1,h.isLoading=!1,h._loading=null},init:function(){},destroy:function(){},setAngle:function(a){this.$el.css({transform:"rotate("+a+"deg)"})},setPosition:function(a,b,c,d){this.$el.css({top:a+"px",left:b+"px",width:c+"px",height:d+"px"})},load:function(){var b=this;return d.promise(b._loading)?b._loading:b._loading=a.Deferred(function(a){b.$el.addClass("fg-loading"),b.isLoading=!0,b.$image.on({"load.foogallery":function(){b.$image.off(".foogallery"),b.$el.removeClass("fg-loading"),b.isLoading=!1,b.isLoaded=!0,a.resolve()},"error.foogallery":function(){b.$image.off(".foogallery"),b.$el.removeClass("fg-loading"),b.isLoading=!1,b.isLoaded=!0,a.reject()}}),b.$image.prop("src",b.$image.attr(b.opt.src)).prop("srcset",b.$image.attr(b.opt.srcset))}).promise()}}),b.StackAlbum.Item.defaults={index:-1,src:"data-src-fg",srcset:"data-srcset-fg"}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj),function(a,b,c){a.fn.foogalleryStackAlbum=function(c){return this.each(function(c,d){var e=a(d),f=e.data("__FooGalleryAlbum__");f instanceof b.StackAlbum&&f.destroy(),f=new b.StackAlbum(e),f.init(),e.data("__FooGalleryAlbum__",f)})},b.loadStackAlbums=b.reloadStackAlbums=function(){a(function(){a(".foogallery-stack-album:not(.fg-ready)").foogalleryStackAlbum()}),c.ready(function(){a(".foogallery-stack-album.fg-ready").foogalleryStackAlbum()})},b.loadStackAlbums()}(FooGallery.$,FooGallery,FooGallery.utils),function(a,b,c,d,e){b.triggerPostLoad=function(c,d,e,f){var g=c.target;if(g instanceof b.Template&&g.initialized&&("after-page-change"===c.type&&!f||"after-filter-change"===c.type))try{if(g.$el.parents(".fbx-item").length>0)return;if(g.$el.hasClass("fbx-instance")&&window.FOOBOX&&a.fn.foobox){var h=a.extend({},window.FOOBOX.o,g.opt.protected?{images:{noRightClick:!0}}:{});g.$el.foobox(h)}else a("body").trigger("post-load")}catch(a){console.error(a)}},b.autoDefaults={on:{"after-page-change after-filter-change":b.triggerPostLoad}},b.autoEnabled=!0,b.auto=function(a){b.autoDefaults=d.merge(b.autoDefaults,a)},b.globalsMerged=!1,b.mergeGlobals=function(){if(!0!==b.globalsMerged&&window.FooGallery_il8n&&e.object(window.FooGallery_il8n)){var a=window.FooGallery_il8n;for(var c in a)if(a.hasOwnProperty(c)&&b[c]instanceof b.Factory&&e.object(a[c]))for(var d in a[c])a[c].hasOwnProperty(d)&&b[c].configure(d,null,null,a[c][d]);b.globalsMerged=!0}},b.load=b.reload=function(){a(function(){b.mergeGlobals(),b.autoEnabled&&a('[id^="foogallery-gallery-"]:not(.fg-ready)').foogallery(b.autoDefaults)}),c.ready(function(){b.mergeGlobals(),b.autoEnabled&&a('[id^="foogallery-gallery-"].fg-ready').foogallery(b.autoDefaults)})},b.load()}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.obj,FooGallery.utils.is);