/*
* FooGallery - The Most Intuitive and Extensible Gallery Creation and Management Tool Ever Created for WordPress
* @version 0.0.1
* @link 
* @copyright Steven Usher & Brad Vincent 2015
* @license Released under the GPLv3 license.
*/
!function(a,b,c){b.ImageViewer=c.Class.extend({construct:function(c,d){this.options=a.extend(!0,{},b.ImageViewer.defaults,d),this.$el=a(c),this.$items=this.$el.find(".fiv-inner-container > .foogallery-item"),this.$current=this.$el.find(".fiv-count-current"),this.$prev=this.$el.find(".fiv-prev"),this.$next=this.$el.find(".fiv-next")},init:function(){this.$el.on("foobox.previous",{self:this},this.onfooboxprev).on("foobox.next",{self:this},this.onfooboxnext),this.$prev.on("click",{self:this},this.onprevclick),this.$next.on("click",{self:this},this.onnextclick),this.$items.removeClass("fiv-active").first().addClass("fiv-active")},destroy:function(){this.$el.off("foobox.previous",this.onfooboxprev).off("foobox.next",this.onfooboxnext),this.$prev.off("click",this.onprevclick),this.$next.off("click",this.onnextclick)},prev:function(){var a=this.$items.filter(".fiv-active").removeClass("fiv-active"),b=a.prev();0==b.length&&(b=this.$items.last()),b.addClass("fiv-active"),this.$current.text(b.index()+1)},next:function(){var a=this.$items.filter(".fiv-active").removeClass("fiv-active"),b=a.next();0==b.length&&(b=this.$items.first()),b.addClass("fiv-active"),this.$current.text(b.index()+1)},onfooboxprev:function(a){a.data.self.prev()},onfooboxnext:function(a){a.data.self.next()},onprevclick:function(a){a.preventDefault(),a.stopPropagation(),a.data.self.prev()},onnextclick:function(a){a.preventDefault(),a.stopPropagation(),a.data.self.next()}}),b.ImageViewer.defaults={},a.fn.fgImageViewer=function(c){return this.each(function(){var d=a.data(this,"__FooGalleryImageViewer__");d&&d.destroy(),d=new b.ImageViewer(this,c),d.init(),a.data(this,"__FooGalleryImageViewer__",d)})}}(FooGallery.$,FooGallery,FooGallery.utils),function(a,b){a.ready(function(a){a(".foogallery-image-viewer").each(function(){var b=a(this),c=b.data("loader-options");b.fgAddSize(),b.fgImageViewer().fgLoader(a.extend(!0,c,{oninit:function(){a(window).trigger("resize")},onload:function(b){a(b).fgRemoveSize()}}))})})}(FooGallery,FooGallery.utils.is);