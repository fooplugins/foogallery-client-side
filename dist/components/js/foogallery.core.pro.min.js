/*
* FooGallery - The Most Intuitive and Extensible Gallery Creation and Management Tool Ever Created for WordPress
* @version 2.1.6
* @link 
* @copyright Steven Usher & Brad Vincent 2015
* @license Released under the GPLv3 license.
*/
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){(window.FooGallery=window.FooGallery||{}).$=e}(jQuery),function(e){e?function(){try{return window.FooGallery.utils}catch(e){}}()||(window.FooGallery.utils={$:e,version:"1.0.0"}):console.warn("jQuery must be included in the page prior to the FooGallery.utils library.")}(jQuery),function(t,n){"1.0.0"===n.version&&(n.is={},n.is.array=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.is.boolean=function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},n.is.element=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?e instanceof HTMLElement:!!e&&"object"===_typeof(e)&&1===e.nodeType&&"string"==typeof e.nodeName},n.is.empty=function(e){if(n.is.undef(e)||null===e)return!0;if(n.is.number(e)&&0===e)return!0;if(n.is.boolean(e)&&!1===e)return!0;if(n.is.string(e)&&0===e.length)return!0;if(n.is.array(e)&&0===e.length)return!0;if(n.is.jq(e)&&0===e.length)return!0;if(n.is.hash(e)){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}return!1},n.is.error=function(e){return"[object Error]"===Object.prototype.toString.call(e)},n.is.fn=function(e){return e===window.alert||"[object Function]"===Object.prototype.toString.call(e)},n.is.hash=function(e){return n.is.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},n.is.jq=function(e){return!n.is.undef(t)&&e instanceof t},n.is.number=function(e){return"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)},n.is.object=function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!n.is.undef(e)&&null!==e},n.is.promise=function(e){return n.is.object(e)&&n.is.fn(e.then)&&n.is.fn(e.promise)},n.is.size=function(e){return!!(n.is.string(e)&&!n.is.empty(e)||n.is.number(e))&&/^(auto|none|(?:[\d.]*)+?(?:%|px|mm|q|cm|in|pt|pc|em|ex|ch|rem|vh|vw|vmin|vmax)?)$/.test(e)},n.is.string=function(e){return"[object String]"===Object.prototype.toString.call(e)},n.is.undef=function(e){return void 0===e})}(FooGallery.utils.$,FooGallery.utils),function(l,c,u){var a;"1.0.0"===c.version&&(c.fn={},a=Function.prototype.toString,c.fn.CONTAINS_SUPER=/xyz/.test(a.call(function(){xyz}))?/\b_super\b/:/.*/,c.fn.noop=function(){},c.fn.addOrOverride=function(e,t,n){var r,i,s,o;u.object(e)&&u.string(t)&&!u.empty(t)&&u.fn(n)&&(r=e[t],i=u.fn(r)&&c.fn.CONTAINS_SUPER.test(a.call(n)),e[t]=i?(s=r,o=n,function(){var e=this._super,t=(this._super=s,o.apply(this,arguments));return this._super=e,t}):n)},c.fn.expose=function(t,n,e,r){u.object(t)&&u.object(n)&&u.array(e)&&(r=u.undef(r)?t:r,e.forEach(function(e){u.string(e)&&u.fn(t[e])&&(n[e]=t[e].bind(r))}))},c.fn.apply=function(e,t){return t.unshift(e),new(Function.prototype.bind.apply(e,t))},c.fn.arg2arr=function(e){return Array.prototype.slice.call(e)},c.fn.debounce=function(n,r){var i;return function(){var e=this,t=c.fn.arg2arr(arguments);clearTimeout(i),i=setTimeout(function(){n.apply(e,t)},r)}},c.fn.throttle=function(n,r){var i,s;return function(){var e=this,t=c.fn.arg2arr(arguments);i?(clearTimeout(s),s=setTimeout(function(){Date.now()-i>=r&&(n.apply(e,t),i=Date.now())},r-(Date.now()-i))):(n.apply(e,t),i=Date.now())}},c.fn.resolved=l.Deferred().resolve().promise(),c.fn.rejected=l.Deferred().reject().promise(),c.fn.reject=function(e,t){var n=l.Deferred(),r=c.fn.arg2arr(arguments);return n.reject.apply(n,r).promise()},c.fn.resolve=function(e,t){var n=l.Deferred(),r=c.fn.arg2arr(arguments);return n.resolve.apply(n,r).promise()},c.fn.rejectWith=function(e,t,n){var r=l.Deferred(),i=c.fn.arg2arr(arguments);return i.shift(),r.rejectWith(e,i).promise()},c.fn.resolveWith=function(e,t,n){var r=l.Deferred(),i=c.fn.arg2arr(arguments);return i.shift(),r.resolveWith(e,i).promise()},c.fn.all=function(t){var n=l.Deferred(),r=[];if(u.array(t)&&0<t.length){function i(e,t){o||(r[e]=0===t.length?void 0:1===t.length?t[0]:t,--s||n.resolve(r))}for(var s=t.length,o=!1,a=0,e=t.length;a<e&&"break"!==function(){if(o)return"break";var e=a;u.promise(t[e])?t[e].then(function(){i(e,c.fn.arg2arr(arguments))},function(){o||(o=!0,n.reject.apply(n,c.fn.arg2arr(arguments)))}):i(e,[t[e]])}();a++);}else n.resolve(r);return n.promise()},c.fn.allSettled=function(t){var r=l.Deferred(),i=[];if(u.array(t)&&0<t.length){function n(e,t,n){i[e]={status:t},0<n.length&&(i[e]["rejected"===t?"reason":"value"]=1===n.length?n[0]:n),--s||r.resolve(i)}for(var s=t.length,o=0,e=t.length;o<e;o++)!function(){var e=o;u.promise(t[e])?t[e].then(function(){n(e,"fulfilled",c.fn.arg2arr(arguments))},function(){n(e,"rejected",c.fn.arg2arr(arguments))}):n(e,"fulfilled",[t[e]])}()}else r.resolve(i);return r.promise()})}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(e,s){var i;"1.0.0"===e.version&&(e.url={},i=document.createElement("a"),e.url.parts=function(e){i.href=e;var e=i.port||(-1!==["http:","https:"].indexOf(i.protocol)?"https:"===i.protocol?"443":"80":""),t=i.hostname+(e?":"+e:""),n=i.origin||i.protocol+"//"+t,r="/"===i.pathname.slice(0,1)?i.pathname:"/"+i.pathname;return{hash:i.hash,host:t,hostname:i.hostname,href:i.href,origin:n,pathname:r,port:e,protocol:i.protocol,search:i.search}},e.url.full=function(e){return!s.string(e)||s.empty(e)?null:(i.href=e,i.href)},e.url.param=function(e,t,n){var r,i;return s.string(e)&&s.string(t)&&!s.empty(t)?s.undef(n)?(i=((r=new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)")).exec(e)||["",""])[1].replace(/\+/g,"%20"),s.string(i)&&!s.empty(i)?decodeURIComponent(i):null):(s.empty(n)?(r=new RegExp("^([^#]*?)(([^#]*)&)?"+t+"(=[^&#]*)?(&|#|$)"),i=e.replace(r,"$1$3$5").replace(/^([^#]*)((\?)&|\?(#|$))/,"$1$3$4")):(r=new RegExp("([?&])"+t+"[^&]*"),t=t+"="+encodeURIComponent(n),(i=e.replace(r,"$1"+t))!==e||r.test(i)||(i+=(-1!==i.indexOf("?")?"&":"?")+t)),i):e})}(FooGallery.utils,FooGallery.utils.is),function(a,l,c){"1.0.0"===a.version&&(a.str={},a.str.trim=function(e){return l.string(e)?e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):null},a.str.camel=function(e){return l.string(e)?e.toUpperCase()===e?e.toLowerCase():e.replace(/^([A-Z])|[-\s_]+(\w)/g,function(e,t,n){return l.string(n)?n.toUpperCase():t.toLowerCase()}):e},a.str.kebab=function(e){return l.string(e)?e.match(/[A-Z]{2,}(?=[A-Z][a-z0-9]*|\b)|[A-Z]?[a-z0-9]*|[A-Z]|[0-9]+/g).filter(Boolean).map(function(e){return e.toLowerCase()}).join("-"):e},a.str.contains=function(e,t,n){return!(!l.string(e)||l.empty(e)||!l.string(t)||l.empty(t))&&(t.length<=e.length&&-1!==(n?e.toUpperCase().indexOf(t.toUpperCase()):e.indexOf(t)))},a.str.containsWord=function(e,t,n){if(!(!l.string(e)||l.empty(e)||!l.string(t)||l.empty(t)||e.length<t.length))for(var r=e.split(/\W/),i=0,s=r.length;i<s;i++)if(n?r[i].toUpperCase()===t.toUpperCase():r[i]===t)return!0;return!1},a.str.endsWith=function(e,t){return!(!l.string(e)||!l.string(t)||t.length>e.length)&&e.slice(e.length-t.length)===t},a.str.startsWith=function(e,t){return!l.empty(e)&&!l.empty(t)&&e.slice(0,t.length)===t},a.str.escapeRegExp=function(e){return l.string(e)?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):e},a.str.fnv1a=function(e){if(!l.string(e)||l.empty(e))return null;for(var t=2166136261,n=0,r=e.length;n<r;n++)t=(t^=e.charCodeAt(n))+((t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24));return t>>>0},a.str.from=function(e,t){return a.str.contains(e,t)?e.substring(e.indexOf(t)+t.length):null},a.str.join=function(e,t,n){if(!l.string(e)||!l.string(t))return null;var r=c.arg2arr(arguments);e=r.shift();for(var i=r.shift(),s=0,o=r.length;s<o;s++)t=r[s],l.empty(t)||(a.str.endsWith(i,e)&&(i=i.slice(0,i.length-e.length)),i+=e+(t=a.str.startsWith(t,e)?t.slice(e.length):t));return i},a.str.until=function(e,t){return a.str.contains(e,t)?e.substring(0,e.indexOf(t)):e},a.str.format=function(n,e,t){var r=c.arg2arr(arguments);return n=r.shift(),l.string(n)&&0<r.length&&(1===r.length&&(l.array(r[0])||l.object(r[0]))&&(r=r[0]),a.each(r,function(e,t){n=n.replace(new RegExp("\\{"+t+"\\}","gi"),e+"")})),n})}(FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn),function(a,l,i,s){"1.0.0"===a.version&&(a.obj={},a.obj.create=function(e){if(l.object(e))return t.prototype=e,new t;throw TypeError("Argument must be an object");function t(){}},a.obj.extend=function(t,e,n){t=l.object(t)?t:{};var r=i.arg2arr(arguments);return r.shift(),a.each(r,function(e){a.obj.merge(t,e)}),t},a.obj.merge=function(e,t){for(var n in e=l.hash(e)?e:{},t=l.hash(t)?t:{})t.hasOwnProperty(n)&&(l.hash(t[n])?(e[n]=l.hash(e[n])?e[n]:{},a.obj.merge(e[n],t[n])):l.array(t[n])?e[n]=t[n].slice():e[n]=t[n]);return e},a.obj.mergeValid=function(t,n,r,e){var i,s,o;if(l.hash(r)&&l.hash(n))for(i in n=l.hash(n)?n:{},e=l.hash(e)?e:{},n)n.hasOwnProperty(i)&&l.fn(n[i])&&(s=l.array(e[i])?e[i]:l.string(e[i])?[e[i]]:[i],a.each(s,function(e){return o=a.obj.prop(r,e),!l.undef(o)&&n[i](o)?(a.obj.prop(t,i,o),!1):void 0}));return t},a.obj.prop=function(n,e,r){var t,i;if(l.object(n)&&!l.empty(e))return l.undef(r)?(s.contains(e,".")?(t=e.split("."),i=t.length-1,a.each(t,function(e,t){if(t===i)r=n[e];else{if(!l.hash(n[e]))return!1;n=n[e]}})):l.undef(n[e])||(r=n[e]),r):void(s.contains(e,".")?(t=e.split("."),i=t.length-1,a.each(t,function(e,t){t===i?n[e]=r:n=l.hash(n[e])?n[e]:n[e]={}})):l.undef(n[e])||(n[e]=r))})}((FooGallery.utils.$,FooGallery.utils),FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.str),function(t,i,o){"1.0.0"===i.version&&(i.ready=function(e){function t(){try{e.call(window,i.$)}catch(e){console.error(e)}}(Function("/*@cc_on return true@*/")()?"complete"===document.readyState:"loading"!==document.readyState)?t():document.addEventListener("DOMContentLoaded",t,!1)},i.find=function(e,t,n){if(o.fn(t))if(n=o.undef(n)?t:n,o.array(e)){for(i=0,s=e.length;i<s;i++)if(t.call(n,e[i],i,e))return e[i]}else if(o.object(e))for(var r=Object.keys(e),i=0,s=r.length;i<s;i++)if(t.call(n,e[r[i]],r[i],e))return e[r[i]]},i.each=function(e,t,n){if(o.fn(t))if(n=o.undef(n)?t:n,o.array(e))for(i=0,s=e.length;i<s&&!1!==t.call(n,e[i],i,e);i++);else if(o.object(e))for(var r=Object.keys(e),i=0,s=r.length;i<s&&!1!==t.call(n,e[r[i]],r[i],e);i++);},i.inArray=function(e,t){return o.array(t)?t.indexOf(e):-1},i.selectify=function(e){if(o.empty(e))return null;if(o.hash(e)){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=i.selectify(e[n]))&&(r[n]=t);return r}return o.string(e)||o.array(e)?(e=o.string(e)?[e]:e).map(function(e){return o.string(e)?"."+e.split(/\s/g).join("."):null}).join(","):null},i.requestFrame=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)}).bind(window),i.cancelFrame=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window),i.nextFrame=function(e,n){return t.Deferred(function(t){o.fn(e)?(n=o.undef(n)?e:n,i.requestFrame(function(){try{t.resolve(e.call(n))}catch(e){t.reject(e)}})):t.reject(new Error("Provided callback is not a function."))}).promise()})}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(i,s,o,a){"1.0.0"===i.version&&(i.Class=function(){},i.Class.extend=function(e){e=s.hash(e)?e:{};var t,n=o.create(this.prototype);for(t in e)e.hasOwnProperty(t)&&a.addOrOverride(n,t,e[t]);function r(){if(!s.fn(this.construct))throw new SyntaxError('FooGallery.utils.Class objects must be constructed with the "new" keyword.');this.construct.apply(this,arguments)}return n.construct=s.fn(n.construct)?n.construct:function(){},(r.prototype=n).constructor=s.fn(n.__ctor__)?n.__ctor__:r,r.extend=i.Class.extend,r.override=i.Class.override,r.getBaseClasses=i.Class.getBaseClasses,r.__baseClass__=this,r},i.Class.override=function(e,t){a.addOrOverride(this.prototype,e,t)},i.Class.__baseClass__=null,i.Class.getBaseClasses=function(){return function e(t,n){return s.array(n)||(n=[]),s.fn(t)&&null!==t.__baseClass__?(n.unshift(t.__baseClass__),e(t.__baseClass__,n)):n}(this,[])})}((FooGallery.utils.$,FooGallery.utils),FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.fn),function(e,a,l,i){e.ClassRegistry=e.Class.extend({construct:function(e){this.opt=i.extend({allowBase:!0,beforeCreate:null},e),this.registered={}},register:function(e,t,n,r){var i;return!(!a.string(e)||a.empty(e)||!a.fn(t))&&(r=a.number(r)?r:0,i=this.registered[e],this.registered[e]={name:e,ctor:t,config:a.hash(n)?n:{},priority:a.undef(i)?r:i.priority},!0)},each:function(e,t,n){t=!!a.boolean(t)&&t,n=a.undef(n)?e:n;for(var r=this,i=Object.keys(r.registered).map(function(e){return r.registered[e]}),s=(t&&i.sort(function(e,t){return t.priority-e.priority}),0),o=i.length;s<o&&!1!==e.call(n,i[s],s);s++);},find:function(e,t,n){t=!!a.boolean(t)&&t,n=a.undef(n)?e:n;for(var r=this,i=Object.keys(r.registered).map(function(e){return r.registered[e]}),s=(t&&i.sort(function(e,t){return t.priority-e.priority}),0),o=i.length;s<o;s++)if(e.call(n,i[s],s))return i[s];return null},create:function(e,t,n){var r=this,i=l.arg2arr(arguments);if(e=i.shift(),a.string(e)&&r.registered.hasOwnProperty(e)){var s=r.registered[e],o=!0;if((o=s.priority<0&&!r.opt.allowBase?!1:o)&&a.fn(s.ctor))return t=i.shift(),t=r.mergeConfigurations(s.name,t),i.unshift.apply(i,[s.name,t]),l.apply(s.ctor,r.onBeforeCreate(s,i))}return null},onBeforeCreate:function(e,t){return null!==this.opt.beforeCreate&&a.fn(this.opt.beforeCreate)?this.opt.beforeCreate.call(this,e,t):t},mergeConfigurations:function(e,t){var n,r;return a.string(e)&&this.registered.hasOwnProperty(e)?(t=a.hash(t)?t:{},n=this.getBaseClasses(e),r=[{}],n.push(this.registered[e]),n.forEach(function(e){r.push(e.config)}),r.push(t),i.extend.apply(i,r)):{}},getBaseClass:function(){return this.find(function(e){return e.priority<0},!0)},getBaseClasses:function(e){var t=this,e=t.registered[e],n=[];return a.undef(e)||e.ctor.getBaseClasses().forEach(function(e){e=t.fromType(e);a.hash(e)&&n.push(e)}),n},fromType:function(t){if(a.fn(t))return this.find(function(e){return e.ctor===t})}})}((FooGallery.utils.$,FooGallery.utils),FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(s,o,n){"1.0.0"===s.version&&(s.Event=s.Class.extend({construct:function(e){if(o.empty(e))throw new SyntaxError("FooGallery.utils.Event objects must be supplied a `type`.");e=s.Event.parse(e);this.type=e.type,this.namespace=e.namespace,this.defaultPrevented=!1,this.target=null},preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented}}),s.Event.parse=function(e){e=o.string(e)&&!o.empty(e)?e:null;var t=n.contains(e,".");return{namespaced:t,type:t?n.startsWith(e,".")?null:n.until(e,"."):e,namespace:t?n.from(e,"."):null}},s.EventClass=s.Class.extend({construct:function(){this.events={}},destroy:function(){this.events={}},on:function(n,t,r){var i=this;return o.object(n)?(r=t,Object.keys(n).forEach(function(t){o.fn(n[t])&&t.split(" ").forEach(function(e){i.addListener(e,n[t],r)})})):o.string(n)&&o.fn(t)&&n.split(" ").forEach(function(e){i.addListener(e,t,r)}),i},addListener:function(e,t,n){var r,i;return!(!o.string(e)||/\s/.test(e)||!o.fn(t))&&(r=this,i=s.Event.parse(e),n=o.undef(n)?r:n,o.array(r.events[i.type])||(r.events[i.type]=[]),!r.events[i.type].some(function(e){return e.namespace===i.namespace&&e.fn===t&&e.thisArg===n})&&(r.events[i.type].push({namespace:i.namespace,fn:t,thisArg:n}),!0))},off:function(n,t,r){var i=this;return o.object(n)?(r=t,Object.keys(n).forEach(function(t){t.split(" ").forEach(function(e){i.removeListener(e,n[t],r)})})):o.string(n)&&n.split(" ").forEach(function(e){i.removeListener(e,t,r)}),i},removeListener:function(e,t,n){var r,i;return!(!o.string(e)||/\s/.test(e))&&(r=this,i=s.Event.parse(e),e=[],n=o.undef(n)?r:n,o.empty(i.type)?o.empty(i.namespace)||e.push.apply(e,Object.keys(r.events)):e.push(i.type),e.forEach(function(e){o.array(r.events[e])&&(r.events[e]=r.events[e].filter(function(e){return null!=t?!(e.namespace===i.namespace&&e.fn===t&&e.thisArg===n):null!=i.namespace&&e.namespace!==i.namespace}),0===r.events[e].length&&delete r.events[e])}),!0)},trigger:function(e,t){t=o.array(t)?t:[];var n=this,r=[];return e instanceof s.Event?(r.push(e),n.emit(e,t)):o.string(e)&&e.split(" ").forEach(function(e){e=new s.Event(e);r.push(e),n.emit(e,t)}),o.empty(r)?null:1===r.length?r[0]:r},emit:function(t,n){var e;t instanceof FooGallery.utils.Event&&(e=this,n=o.array(n)?n:[],null===t.target&&(t.target=e),o.array(e.events[t.type])&&e.events[t.type].forEach(function(e){null!=t.namespace&&e.namespace!==t.namespace||e.fn.apply(e.thisArg,[t].concat(n))}),o.array(e.events.__all__)&&e.events.__all__.forEach(function(e){e.fn.apply(e.thisArg,[t].concat(n))}))}}))}(FooGallery.utils,FooGallery.utils.is,FooGallery.utils.str),function(e,r,t){"1.0.0"===e.version&&(e.Timer=e.EventClass.extend({construct:function(e){var t=this;t._super(),t.interval=r.number(e)?e:1e3,t.isRunning=!1,t.isPaused=!1,t.canResume=!1,t.canRestart=!1,t.__timeout=null,t.__decrement=!1,t.__time=0,t.__remaining=0,t.__current=0,t.__finish=0,t.__restart=[]},__reset:function(){var e=this;clearTimeout(e.__timeout),e.__timeout=null,e.__decrement=!1,e.__time=0,e.__remaining=0,e.__current=0,e.__finish=0,e.isRunning=!1,e.isPaused=!1,e.canResume=!1},__eventArgs:function(e){return[this.__current,this.__time,this.__decrement].concat(t.arg2arr(arguments))},__tick:function(){var e=this;e.trigger("tick",e.__eventArgs()),e.__current===e.__finish?(e.trigger("complete",e.__eventArgs()),e.__reset()):(e.__decrement?e.__current--:e.__current++,e.__remaining--,e.canResume=0<e.__remaining,e.__timeout=setTimeout(function(){e.__tick()},e.interval))},start:function(e,t){var n=this;n.isRunning||(t=!!r.boolean(t)&&t,n.__restart=[e,t],n.__decrement=t,n.__time=e,n.__remaining=e,n.__current=t?e:0,n.__finish=t?0:e,n.canRestart=!0,n.isRunning=!0,n.isPaused=!1,n.trigger("start",n.__eventArgs()),n.__tick())},countdown:function(e){this.start(e,!0)},countup:function(e){this.start(e,!1)},restart:function(){var e=this;e.stop(),e.canRestart&&e.start.apply(e,e.__restart)},stop:function(){var e=this;(e.isRunning||e.isPaused)&&(e.__reset(),e.trigger("stop",e.__eventArgs()))},pause:function(){var e=this;return null!=e.__timeout&&(clearTimeout(e.__timeout),e.__timeout=null),e.isRunning&&(e.isRunning=!1,e.isPaused=!0,e.canResume=0<e.__remaining,e.trigger("pause",e.__eventArgs())),e.__remaining},resume:function(){var e=this;e.canResume&&(e.isRunning=!0,e.isPaused=!1,e.trigger("resume",e.__eventArgs()),e.__tick())},reset:function(){this.__reset(),this.trigger("reset",this.__eventArgs())}}))}((FooGallery.utils.$,FooGallery.utils),FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(s,e,t){"1.0.0"===e.version&&(e.FullscreenAPI=e.EventClass.extend({construct:function(){this._super(),this.apis={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},webkit:{enabled:"webkitFullscreenEnabled",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},moz:{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}}},this.api=this.getAPI(),this.supported=null!=this.api,this.__listen()},destroy:function(){return this.__stopListening(),this._super()},getAPI:function(){for(var e in this.apis)if(this.apis.hasOwnProperty(e)&&this.apis[e].enabled in document)return this.apis[e];return null},element:function(){return this.supported?document[this.api.element]:null},request:function(e){return this.supported&&e[this.api.request]?e[this.api.request]()||s.Deferred(this.__resolver(this.api.request)).promise():t.rejected},exit:function(){return this.supported&&this.element()?document[this.api.exit]()||s.Deferred(this.__resolver(this.api.exit)).promise():t.rejected},toggle:function(e){return this.element()?this.exit():this.request(e)},__listen:function(){var e=this;e.supported&&s(document).on(e.api.events.change+".utils",function(){e.trigger("change")}).on(e.api.events.error+".utils",function(){e.trigger("error")})},__stopListening:function(){this.supported&&s(document).off(this.api.events.change+".utils").off(this.api.events.error+".utils")},__resolver:function(r){var i=this;return function(e){function t(){e.resolve(),s(document).off(i.api.events.change,t).off(i.api.events.error,n)}function n(){e.reject(new TypeError),s(document).off(i.api.events.change,t).off(i.api.events.error,n)}r===i.api.exit&&i.element()?setTimeout(function(){e.reject(new TypeError)},1):s(document).on(i.api.events.change,t).on(i.api.events.error,n)}}}))}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.fn),function(l,c,u,a){"1.0.0"===c.version&&(c.transition={},c.transition.dataName="__foo-transition__",c.transition.disableClassName=null,c.transition.timeout=3e3,c.transition.disable=function(e,t){var n,r,i,e=u.jq(e)?e:l(e);0<e.length&&u.fn(t)&&(n=e.get(0),i=null,(r=u.string(c.transition.disableClassName))?e.addClass(c.transition.disableClassName):(i={value:n.style.getPropertyValue("transition"),priority:n.style.getPropertyPriority("transition")},n.style.setProperty("transition","none","important")),t.call(t,e),e.prop("offsetWidth"),r?e.removeClass(c.transition.disableClassName):(n.style.removeProperty("transition"),u.string(i.value)&&0<i.value.length&&n.style.setProperty("transition",i.value,i.priority)))},c.transition.stop=function(e){var t=l.Deferred(),n=u.jq(e)?e:l(e);return 0<n.length?(e=n.data(c.transition.dataName),u.promise(e)?e.always(function(){c.requestFrame(function(){t.resolve(n)})}).reject(new Error("Transition cancelled.")):t.resolve(n)):t.reject(new Error("Unable to stop transition. Make sure the element exists.")),t.promise()},c.transition.createListener=function(e,t,n){var r=e,i=t,s=n,o=u.string(n);return function(e){var t=e.originalEvent instanceof TransitionEvent?e.originalEvent:e,n=!1;(n=t.target===r?!o||t.propertyName===s:n)&&i.apply(i,a.arg2arr(arguments))}},c.transition.start=function(e,n,r,i){var s,o=l.Deferred(),a=u.jq(e)?e:l(e);return 0<a.length&&u.fn(n)?(s=a.get(0),c.transition.stop(a).always(function(){var t=c.transition.createListener(s,function(){o.resolve(a)},r);a.data(c.transition.dataName,o).on("transitionend.foo-utils",t).prop("offsetWidth"),c.requestFrame(function(){var e=setTimeout(function(){o.reject(new Error("Transition safety timeout triggered."))},u.number(i)?i:c.transition.timeout);o.always(function(){clearTimeout(e),a.removeData(c.transition.dataName).off("transitionend.foo-utils",t)}),n.call(n,a)})})):o.reject(new Error("Unable to perform transition. Make sure the element exists and a trigger function is supplied.")),o.promise()},c.transition.modify=function(e,t,n,r){e=u.jq(e)?e:l(e);return 0<e.length&&u.fn(t)?n?(c.transition.disable(e,t),a.resolve()):c.transition.start(e,t,r):a.reject(new Error("Unable to perform modification. Make sure the element exists and a modify function is supplied."))})}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn),function(s,o,e,a,r,t){o.DATA_TEMPLATE="__FooGallery__",o.DATA_ITEM="__FooGalleryItem__",o.get=function(e){return s(e).data(o.DATA_TEMPLATE)},o.init=function(t,n){if(0<(n=a.jq(n)?n:s(n)).length){var e=n.data(o.DATA_TEMPLATE);if(e instanceof o.Template)return e.destroy(!0).then(function(){var e=o.template.make(t,n);return e instanceof o.Template?e.initialize():r.rejected})}e=o.template.make(t,n);return e instanceof o.Template?e.initialize():r.rejected},s.fn.foogallery=function(r,i){return i=a.fn(i)?i:s.noop,this.each(function(e,t){if(a.string(r)){var n=s.data(t,o.DATA_TEMPLATE);if(n instanceof o.Template)switch(r){case"layout":return void n.layout();case"destroy":return void n.destroy()}}else o.init(r,t).then(i)})},o.isCached=function(e){var t=new Image,e=(t.src=e,t.complete);return t.src="",t=null,e},o.supportedExifProperties=["camera","aperture","created_timestamp","shutter_speed","focal_length","iso","orientation"],a.exif=function(t){var e;return!!a.object(t)&&(0<(e=Object.keys(t)).length&&e.some(function(e){return-1!==o.supportedExifProperties.indexOf(e)&&!a.empty(t[e])}))},t.trimTo=function(e,t,n){return a.string(e)&&a.number(t)&&0<t&&e.length>t?e.substr(0,t)+(a.string(n)?n:"&hellip;"):e},e.getResizeObserverSize=function(e){var t,e=e.contentBoxSize?(e.contentBoxSize[0]?(t=e.contentBoxSize[0].inlineSize,e.contentBoxSize[0]):(t=e.contentBoxSize.inlineSize,e.contentBoxSize)).blockSize:(t=e.contentRect.width,e.contentRect.height);return{width:t,height:e}},o.supportsWebP=!1;var n=new Image;n.onload=function(){o.supportsWebP=0<n.width&&0<n.height},n.onerror=function(){o.supportsWebP=!1},n.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",o.supportsPicture=!!window.HTMLPictureElement,e.DOMEventListeners=e.Class.extend({construct:function(){this.eventTargets=new Map},add:function(e,t,n,r){e.addEventListener(t,n,r);let i=this.eventTargets.get(e);return i||(i=new Map,this.eventTargets.set(e,i)),!i.get(t)&&(i.set(t,{listener:n,options:r}),!0)},remove:function(e,t){let n=this.eventTargets.get(e);var r;!n||(r=n.get(t))&&(e.removeEventListener(t,r.listener,r.options),n.delete(t),0===n.size&&this.eventTargets.delete(e))},clear:function(){this.eventTargets.forEach(function(e,n){e.forEach(function(e,t){n.removeEventListener(t,e.listener,e.options)})}),this.eventTargets.clear()}}),e.Timeouts=e.Class.extend({construct:function(){this.instances=new Map},has:function(e){return this.instances.has(e)},get:function(e){return this.instances.get(e)},set:function(e,t,n){const r=this;r.delete(e);n={id:setTimeout(function(){r.instances.delete(e),t.call(r)},n),delay:n,fn:t};return this.instances.set(e,n),r},delete:function(e){var t;return!!this.instances.has(e)&&(t=this.instances.get(e),clearTimeout(t.id),this.instances.delete(e))},clear:function(){this.instances.forEach(function(e){clearTimeout(e.id)}),this.instances.clear()}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.str),function(e){const r=new globalThis.Set(["accesskey","autocapitalize","autofocus","class","contenteditable","data-","dir","draggable","enterkeyhint","exportparts","hidden","id","inert","inputmode","is","itemid","itemprop","itemref","itemscope","itemtype","lang","nonce","part","popover","role","slot","spellcheck","style","tabindex","title","translate"]),i=new globalThis.Map([["html",["xmlns"]],["base",["href","target"]],["head",[]],["link",["as","crossorigin","disabled","fetchpriority","href","hreflang","imagesizes","imagesrcset","integrity","media","referrerpolicy","rel","sizes","type"]],["meta",["charset","content","http-equiv","name"]],["style",["media"]],["title",[]],["body",["onafterprint","onbeforeprint","onbeforeunload","onblur","onerror","onfocus","onhashchange","onlanguagechange","onload","onmessage","onoffline","ononline","onpopstate","onresize","onstorage","onunload"]],["address",[]],["article",[]],["aside",[]],["footer",[]],["header",[]],["h1",[]],["h2",[]],["h3",[]],["h4",[]],["h5",[]],["h6",[]],["hgroup",[]],["main",[]],["nav",[]],["section",[]],["search",[]],["blockquote",["cite"]],["dd",[]],["div",[]],["dl",[]],["dt",[]],["figcaption",[]],["figure",[]],["hr",[]],["li",["value"]],["menu",[]],["ol",["reversed","start","type"]],["p",[]],["pre",[]],["ul",[]],["a",["download","href","hreflang","ping","referrerpolicy","rel","target","type"]],["abbr",[]],["b",[]],["bdi",[]],["bdo",[]],["br",[]],["cite",[]],["code",[]],["data",["value"]],["dfn",[]],["em",[]],["i",[]],["kbd",[]],["mark",[]],["q",["cite"]],["rp",[]],["rt",[]],["ruby",[]],["s",[]],["samp",[]],["small",[]],["span",[]],["strong",[]],["sub",[]],["sup",[]],["time",["datetime"]],["u",[]],["var",[]],["wbr",[]],["area",["alt","coords","download","href","ping","referrerpolicy","rel","shape","target"]],["audio",["autoplay","controls","controlslist","crossorigin","disableremoteplayback","loop","muted","preload","src"]],["img",["alt","crossorigin","decoding","elementtiming","fetchpriority","height","ismap","loading","referrerpolicy","sizes","src","srcset","usemap","width"]],["map",["name"]],["track",["default","kind","label","src","srclang"]],["video",["autoplay","controls","controlslist","crossorigin","disablepictureinpicture","disableremoteplayback","height","loop","muted","playsinline","poster","preload","src","width"]],["embed",["height","src","type","width"]],["iframe",["allow","allowfullscreen","height","loading","name","referrerpolicy","sandbox","src","srcdoc","width"]],["object",["data","form","height","name","type","width"]],["picture",[]],["portal",["referrerpolicy","src"]],["source",["height","media","sizes","src","srcset","type","width"]],["svg",["height","preserveaspectratio","viewbox","width","x","y"]],["canvas",["height","width"]],["noscript",[]],["script",["async","crossorigin","defer","fetchpriority","integrity","nomodule","referrerpolicy","src","type"]],["del",["cite","datetime"]],["ins",["cite","datetime"]],["caption",[]],["col",["span"]],["colgroup",["span"]],["table",[]],["tbody",[]],["td",["colspan","headers","rowspan"]],["tfoot",[]],["th",["abbr","colspan","headers","rowspan","scope"]],["thead",[]],["tr",[]],["button",["disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","popovertarget","popovertargetaction","type","value"]],["datalist",[]],["fieldset",["disabled","form","name"]],["form",["accept-charset","autocomplete","name","rel"]],["input",[]],["label",["for"]],["legend",[]],["meter",["form","high","low","max","min","optimum","value"]],["optgroup",["disabled","label"]],["option",["disabled","label","selected","value"]],["output",["for","form","name"]],["progress",["max","value"]],["select",["autocomplete","disabled","form","multiple","name","required","size"]],["textarea",["autocomplete","cols","dirname","disabled","form","maxlength","minlength","name","placeholder","readonly","required","rows","wrap"]],["details",["name","open"]],["dialog",["open"]],["summary",[]],["slot",["name"]],["template",["shadowrootclonable","shadowrootdelegatesfocus","shadowrootmode"]]]),s=new globalThis.Set(["code","codebase","src","href","formaction","ping","cite","action","background","poster","profile","manifest","data"]),o=(["script","embed","object"].forEach(e=>i.delete(e)),e=>(e instanceof globalThis.Node?e.nodeName:"string"==typeof e?e:"").toLowerCase()),a=/^(?!javascript|vbscript|livescript|mocha)(?:[a-z0-9+.-]+:[^<>]*$|[^&:\/?#]*(?:[\/?#]|$))/i,t=/@import|expression|behaviou?r|binding|(?:javascript|vbscript|livescript|mocha):|[\x00-\x08\x0E-\x1F\x7F-\uFFFF]|\/\*.*?\*\/|<--.*?-->/i,l=e=>!t.test(e.replace(/\s+/g," ")),n=/^[a-z](?:[\x2D.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,c=/^[a-z](?:[.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-(?:[\x2D.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,u=e=>c.test(o(e)),h=e=>u(e?.ownerElement)&&(e=>n.test(o(e)))(e),p=e=>{const t=o(e);var n;return!t.startsWith("on")&&(!(!t.startsWith("aria-")&&!t.startsWith("data-"))||(r.has(t)||(e=>{if(e instanceof globalThis.Attr){var t=o(e.ownerElement);if(i.has(t))return i.get(t).includes(e.name)}return!1})(e)?s.has(t)?(n=e.value,a.test(n)):"style"!==t||l(e.value):h(e)))},d=e=>{if(e instanceof globalThis.Element){var t=o(e);if(i.has(t)||u(e)){for(const n of e.attributes)if(!p(n))return!1;return"style"===t?l(e.textContent):!0}}return!1},f=(e,t=!1)=>{const n=[];for(const i of e){var r=((e,t=!1)=>{if(e instanceof globalThis.Element){if(d(e)){const n=e.cloneNode(!1);return t&&e.hasChildNodes()&&n.append(...f(e.childNodes,t)),n}throw new TypeError("UNSAFE_NODE")}return e instanceof globalThis.Text?e.cloneNode():null})(i,t);r instanceof globalThis.Node&&n.push(r)}return n};let g;e.safeParse=e=>{if("string"==typeof e)try{const t=(g instanceof globalThis.DOMParser?g:g=new globalThis.DOMParser).parseFromString(e,"text/html");if(t.body.hasChildNodes())return f(t.body.childNodes,!0).map(e=>1===e.nodeType?e.outerHTML:3===e.nodeType?e.nodeValue:"").join("")}catch(e){"UNSAFE_NODE"!==e.message&&console.error("FooGallery.safeParse: Unexpected Error",e)}return""}}(window.FooGallery),function(s,e,t,a,l){e.Icons=t.Class.extend({construct:function(){this.className="fg-icon",this.registered={default:{close:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M13.957 3.457l-1.414-1.414-4.543 4.543-4.543-4.543-1.414 1.414 4.543 4.543-4.543 4.543 1.414 1.414 4.543-4.543 4.543 4.543 1.414-1.414-4.543-4.543z"></path></svg>',"arrow-left":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M10.5 16l1.5-1.5-6.5-6.5 6.5-6.5-1.5-1.5-8 8 8 8z"></path></svg>',"arrow-right":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M5.5 0l-1.5 1.5 6.5 6.5-6.5 6.5 1.5 1.5 8-8-8-8z"></path></svg>',maximize:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M2 2v4h-2v-5c0-0.552 0.448-1 1-1h14c0.552 0 1 0.448 1 1v14c0 0.552-0.448 1-1 1h-14c-0.552 0-1-0.448-1-1v-9h9c0.552 0 1 0.448 1 1v7h4v-12h-12z"/></svg>',expand:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M2 5h-2v-4c0-0.552 0.448-1 1-1h4v2h-3v3z"></path><path d="M16 5h-2v-3h-3v-2h4c0.552 0 1 0.448 1 1v4z"></path><path d="M15 16h-4v-2h3v-3h2v4c0 0.552-0.448 1-1 1z"></path><path d="M5 16h-4c-0.552 0-1-0.448-1-1v-4h2v3h3v2z"></path></svg>',shrink:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M3 0h2v4c0 0.552-0.448 1-1 1h-4v-2h3v-3z"></path><path d="M11 0h2v3h3v2h-4c-0.552 0-1-0.448-1-1v-4z"></path><path d="M12 11h4v2h-3v3h-2v-4c0-0.552 0.448-1 1-1z"></path><path d="M0 11h4c0.552 0 1 0.448 1 1v4h-2v-3h-3v-2z"></path></svg>',info:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M7 4.75c0-0.412 0.338-0.75 0.75-0.75h0.5c0.412 0 0.75 0.338 0.75 0.75v0.5c0 0.412-0.338 0.75-0.75 0.75h-0.5c-0.412 0-0.75-0.338-0.75-0.75v-0.5z"></path><path d="M10 12h-4v-1h1v-3h-1v-1h3v4h1z"></path><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5z"></path></svg>',comment:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M3 4h10v1h-10zM3 6h8v1h-8zM3 8h4v1h-4zM14.5 1h-13c-0.825 0-1.5 0.675-1.5 1.5v8c0 0.825 0.675 1.5 1.5 1.5h2.5v4l4.8-4h5.7c0.825 0 1.5-0.675 1.5-1.5v-8c0-0.825-0.675-1.5-1.5-1.5zM14 10h-5.924l-3.076 2.73v-2.73h-3v-7h12v7z"></path></svg>',thumbs:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M3 3v10h-2v-11c0-0.552 0.448-1 1-1h12c0.552 0 1 0.448 1 1v12c0 0.552-0.448 1-1 1h-12c-0.552 0-1-0.448-1-1v-1h4v-2h-2v-2h2v-2h-2v-2h2v-2h2v10h6v-10h-10z"></path></svg>',cart:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M13.238 9c0.55 0 1.124-0.433 1.275-0.962l1.451-5.077c0.151-0.529-0.175-0.962-0.725-0.962h-10.238c0-1.105-0.895-2-2-2h-3v2h3v8.5c0 0.828 0.672 1.5 1.5 1.5h9.5c0.552 0 1-0.448 1-1s-0.448-1-1-1h-9v-1h8.238zM5 4h9.044l-0.857 3h-8.187v-3z"></path><path d="M6 14.5c0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5c0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5z"></path><path d="M15 14.5c0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5c0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5z"></path></svg>',"circle-close":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5z"></path><path d="M10.5 4l-2.5 2.5-2.5-2.5-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 2.5-2.5 2.5 2.5 1.5-1.5-2.5-2.5 2.5-2.5z"></path></svg>',"auto-progress":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path class="[ICON_CLASS]-idle" d="M11.39 8c2.152-1.365 3.61-3.988 3.61-7 0-0.339-0.019-0.672-0.054-1h-13.891c-0.036 0.328-0.054 0.661-0.054 1 0 3.012 1.457 5.635 3.609 7-2.152 1.365-3.609 3.988-3.609 7 0 0.339 0.019 0.672 0.054 1h13.891c0.036-0.328 0.054-0.661 0.054-1 0-3.012-1.457-5.635-3.609-7zM2.5 15c0-2.921 1.253-5.397 3.5-6.214v-1.572c-2.247-0.817-3.5-3.294-3.5-6.214v0h11c0 2.921-1.253 5.397-3.5 6.214v1.572c2.247 0.817 3.5 3.294 3.5 6.214h-11zM9.462 10.462c-1.12-0.635-1.181-1.459-1.182-1.959v-1.004c0-0.5 0.059-1.327 1.184-1.963 0.602-0.349 1.122-0.88 1.516-1.537h-6.4c0.395 0.657 0.916 1.188 1.518 1.538 1.12 0.635 1.181 1.459 1.182 1.959v1.004c0 0.5-0.059 1.327-1.184 1.963-1.135 0.659-1.98 1.964-2.236 3.537h7.839c-0.256-1.574-1.102-2.879-2.238-3.538z"/><circle class="[ICON_CLASS]-circle" r="4" cx="8" cy="8"/><path class="[ICON_CLASS]-play" d="M3 2l10 6-10 6z"/><path class="[ICON_CLASS]-pause" d="M2 2h5v12h-5zM9 2h5v12h-5z"/></svg>',search:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M16 13.5l-4.695-4.695c0.444-0.837 0.695-1.792 0.695-2.805 0-3.314-2.686-6-6-6s-6 2.686-6 6 2.686 6 6 6c1.013 0 1.968-0.252 2.805-0.695l4.695 4.695 2.5-2.5zM2 6c0-2.209 1.791-4 4-4s4 1.791 4 4-1.791 4-4 4-4-1.791-4-4z"></path></svg>',"exif-aperture":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M 8,0 C 3.5876443,0 0,3.5876443 0,8 c 0,4.412356 3.5876443,8 8,8 4.412356,0 8,-3.587644 8,-8 C 16,3.5876443 12.412356,0 8,0 Z m 0,1 c 3.871916,0 7,3.1280844 7,7 0,3.871916 -3.128084,7 -7,7 C 4.1280844,15 1,11.871916 1,8 1,4.1280844 4.1280844,1 8,1 Z M 7.53125,2.0214844 A 6,6 0 0 0 3.1835938,4.4335938 H 8.9257812 Z M 8.6132812,2.03125 C 9.5587451,3.6702105 10.504247,5.3091484 11.451172,6.9472656 L 12.863281,4.5 A 6,6 0 0 0 8.6132812,2.03125 Z M 2.5957031,5.4101562 A 6,6 0 0 0 2,8 6,6 0 0 0 2.5273438,10.439453 L 5.4296875,5.4101562 Z m 10.8261719,0.033203 -2.855469,4.9433598 h 2.935547 A 6,6 0 0 0 14,8 6,6 0 0 0 13.421875,5.4433592 Z M 4.5722656,8.8945312 3.0996094,11.449219 a 6,6 0 0 0 4.40625,2.527343 z m 2.5820313,2.4707028 1.4960937,2.591797 a 6,6 0 0 0 4.3144534,-2.591797 z"></path></svg>',"exif-camera":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="m 8.0000002,5 a 4,4 0 0 0 -4,4 4,4 0 0 0 4,4 A 4,4 0 0 0 12,9 4,4 0 0 0 8.0000002,5 Z m 0.019531,1.015625 a 3,2.9814477 0 0 1 2.9804688,3 l -1,-0.00586 a 2,2 0 0 0 0,-0.00976 2,2 0 0 0 -1.9863279,-2 z M 5.125,1 C 4.5,1 4,1.5 4,2.125 V 3.0000004 L 1.125,3 C 0.5,2.9999999 0,3.5 0,4.125 v 9.75 C 0,14.5 0.5,15 1.125,15 h 13.75 C 15.5,15 16,14.5 16,13.875 V 4.125 C 16,3.5 15.5,3 14.875,3 H 12 V 2.125 C 12,1.5 11.5,1 10.875,1 Z M 5.25,2.0000004 h 5.5 c 0.125,0 0.25,0.1249996 0.25,0.25 v 1.75 h 3.75 c 0.125,0 0.25,0.1249996 0.25,0.25 V 13.75 C 15,13.875 14.875,14 14.75,14 H 1.25 C 1.125,14 1,13.875 1,13.75 V 4.25 C 1,4.125 1.125,4 1.25,4 l 3.75,4e-7 v -1.75 c 0,-0.1250004 0.125,-0.25 0.25,-0.25 z"></path></svg>',"exif-created-timestamp":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M 3,1 V 2 H 1 V 15 H 16 V 2 H 14 V 1 H 13 V 2 H 4 V 1 Z M 2,4 H 15 V 14 H 2 Z M 6,5 V 7 H 8 V 5 Z m 3,0 v 2 h 2 V 5 Z m 3,0 v 2 h 2 V 5 Z M 3,8 v 2 H 5 V 8 Z m 3,0 v 2 H 8 V 8 Z m 3,0 v 2 h 2 V 8 Z m 3,0 v 2 h 2 V 8 Z m -9,3 v 2 h 2 v -2 z m 3,0 v 2 h 2 v -2 z m 3,0 v 2 h 2 v -2 z"></path></svg>',"exif-shutter-speed":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M 8,0 C 3.5876443,0 -2.9415707e-8,3.5876443 0,8 c 2.3532563e-7,4.412356 3.5876445,8 8,8 4.412356,0 8,-3.587644 8,-8 C 16,3.5876443 12.412356,0 8,0 Z m 0,1 c 3.871916,0 7,3.1280844 7,7 0,3.871915 -3.128085,7 -7,7 -3.8719154,0 -6.9999998,-3.128085 -7,-7 -3e-8,-3.8719156 3.1280844,-7 7,-7 z M 11.646484,3.6464844 8.6445312,6.6484375 A 1.5,1.5 0 0 0 8,6.5 1.5,1.5 0 0 0 6.5,8 1.5,1.5 0 0 0 8,9.5 1.5,1.5 0 0 0 9.5,8 1.5,1.5 0 0 0 9.3515625,7.3554688 L 12.353516,4.3535156 Z M 2,7.5 v 1 h 2 v -1 z M 7.5,12 v 2 h 1 V 12 Z M 12,7.5 v 1 h 2 v -1 z M 7.5,2 v 2 h 1 V 2 Z"></path></svg>',"exif-focal-length":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="m 1,4.125 -1,0.25 v 7.25 l 1,0.25 z M 5,1 2,4 v 8 l 3,3 h 6.875 C 12.500003,15 13,14.5 13,13.875 V 2.125 C 13,1.4999986 12.5,1 11.875,1 9.576807,0.99914375 7.1414067,0.96597644 5,1 Z M 5.5,2 H 6 V 14 H 5.5 L 3,11.5 v -7 z M 7,2 h 4.75 C 11.875,2 12,2.1249997 12,2.25 v 11.5 c 0,0.125 -0.125,0.250622 -0.25,0.25 H 7 Z m 7,0 c 1,2.2 1.5,4.35 1.5,6 0,1.65 -0.5,3.8 -1.5,6"></path></svg>',"exif-iso":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M 7.5,0 V 1.6015625 C 6.0969201,1.7146076 4.8392502,2.256185 3.828125,3.1210938 L 2.6035156,1.8964844 1.8964844,2.6035156 3.1210938,3.828125 C 2.256185,4.8392502 1.7146076,6.0969201 1.6015625,7.5 H 0 v 1 h 1.6015625 c 0.1130451,1.4030799 0.6546225,2.66075 1.5195313,3.671875 l -1.2246094,1.224609 0.7070312,0.707032 1.2246094,-1.22461 C 4.8392502,13.743815 6.0969201,14.285392 7.5,14.398438 V 16 h 1 v -1.601562 c 1.4030799,-0.113046 2.66075,-0.654623 3.671875,-1.519532 l 1.224609,1.22461 0.707032,-0.707032 -1.22461,-1.224609 C 13.743815,11.16075 14.285392,9.9030799 14.398438,8.5 H 16 v -1 H 14.398438 C 14.285392,6.0969201 13.743815,4.8392502 12.878906,3.828125 L 14.103516,2.6035156 13.396484,1.8964844 12.171875,3.1210938 C 11.16075,2.256185 9.9030799,1.7146076 8.5,1.6015625 V 0 Z M 8,2.5 c 3.043488,0 5.5,2.4565116 5.5,5.5 0,3.043488 -2.456512,5.5 -5.5,5.5 C 4.9565116,13.5 2.5,11.043488 2.5,8 2.5,4.9565116 4.9565116,2.5 8,2.5 Z"></path></svg>',"exif-orientation":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M 1.25,0 C 0.625,0 0,0.625 0,1.25 V 5 H 1 V 3 h 8 v 2 h 1 V 1.25 C 10,0.625 9.375,0 8.75,0 Z m 0,1 h 7.5 C 8.875,1 9,1.125 9,1.25 V 2 H 1 V 1.25 C 1,1.125 1.125,1 1.25,1 Z m 0,5 C 0.625,6 0,6.625 0,7.25 v 7.5 C 0,15.375 0.625,16 1.25,16 h 13.5 C 15.375,16 16,15.375 16,14.75 V 7.25 C 16,6.625 15.375,6 14.75,6 Z m 0,1 H 2 v 3 H 1 V 7.25 C 1,7.125 1.125,7 1.25,7 Z M 3,7 h 10 v 8 H 3 Z m 11,0 h 0.75 C 14.875,7 15,7.125 15,7.25 v 7.5 C 15,14.875 14.875,15 14.75,15 H 14 Z M 1,12 h 1 v 3 H 1.25 C 1.125,15 1,14.875 1,14.75 Z"></path></svg>'}}},register:function(e,t){return!(a.empty(e)||a.empty(t)||!a.string(e)||!a.hash(t))&&(this.registered[e]=l.extend({},this.registered.default,t),!0)},get:function(e,t){var n=this,r="default",i=l.extend({},n.registered.default),t=(a.string(t)&&"default"!==t?i=l.extend(i,n.registered[r=t]):a.hash(t)&&(r="custom",i=l.extend(i,t)),a.string(e)&&i.hasOwnProperty(e)?i[e].replace(/\[ICON_CLASS]/g,n.className+"-"+e):null),i=[!1,e,r].map(function(e){return!1===e?n.className:n.className+"-"+e}).join(" ");return s(t).addClass(i)},element:function(e,t){const n=this;let r="default",i=l.extend({},n.registered.default);a.string(t)&&"default"!==t?(r=t,i=l.extend(i,n.registered[t])):a.hash(t)&&(r="custom",i=l.extend(i,t));t=a.string(e)&&i.hasOwnProperty(e)?i[e].replace(/\[ICON_CLASS]/g,n.className+"-"+e):null;if(null!==t){const s=document.createRange().createContextualFragment(t),o=s.querySelector("svg");if(o)return["","-"+e,"-"+r].forEach(function(e){o.classList.add(n.className+e)}),o}return null}}),e.icons=new e.Icons}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj),function(i,n,r,s,o){var a="__FooGallerySwipe__",e="ontouchstart"in window,l=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!e,c=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!e,u=e||c;n.Swipe=r.Class.extend({construct:function(e,t){var n=this,r=".fgswipe";n.$el=i(e),n.opt=o.extend({threshold:20,allowPageScroll:!1,swipe:i.noop,data:{}},t),n.active=!1,n.startPoint=null,n.endPoint=null,n.events={start:(u?c?l?"MSPointerDown":"pointerdown":"touchstart":"mousedown")+r,move:(u?c?l?"MSPointerMove":"pointermove":"touchmove":"mousemove")+r,end:(u?c?l?"MSPointerUp":"pointerup":"touchend":"mouseup")+r,leave:(!u||c?"mouseleave":null)+r}},init:function(){var e=this;e.$el.on(e.events.start,{self:e},e.onStart),e.$el.on(e.events.move,{self:e},e.onMove),e.$el.on(e.events.end,{self:e},e.onEnd),s.string(e.events.leave)&&e.$el.on(e.events.leave,{self:e},e.onEnd),e.$el.data(a,e)},destroy:function(){var e=this;e.$el.off(e.events.start,e.onStart),e.$el.off(e.events.move,e.onMove),e.$el.off(e.events.end,e.onEnd),s.string(e.events.leave)&&e.$el.off(e.events.leave,e.onEnd),e.$el.removeData(a)},getAngle:function(e,t){e=Math.atan2(e.x-t.x,e.y-t.y),t=Math.round(180*e/Math.PI);return 360-(t<0?360-Math.abs(t):t)},getDistance:function(e,t){var n=t.x-e.x,t=t.y-e.y;return n*=n,t*=t,Math.sqrt(n+t)},getDirection:function(e,t){e=this.getAngle(e,t);return 337.5<e||e<=22.5?"N":22.5<e&&e<=67.5?"NE":67.5<e&&e<=112.5?"E":112.5<e&&e<=157.5?"SE":157.5<e&&e<=202.5?"S":202.5<e&&e<=247.5?"SW":247.5<e&&e<=292.5?"W":292.5<e&&e<=337.5?"NW":"NONE"},getPoint:function(e){var t;return u&&!s.empty(t=e.originalEvent.touches||e.touches)?{x:t[0].pageX,y:t[0].pageY}:s.number(e.pageX)&&s.number(e.pageY)?{x:e.pageX,y:e.pageY}:null},getOffset:function(e){var t=this.$el.offset();return{left:e.x-t.left,top:e.y-t.top}},onStart:function(e){var t=e.data.self,e=t.getPoint(e);s.empty(e)||(t.active=!0,t.startPoint=t.endPoint=e)},onMove:function(e){var t=e.data.self,n=t.getPoint(e);t.active&&!s.empty(n)&&(t.endPoint=n,t.opt.allowPageScroll?s.hash(t.opt.allowPageScroll)&&(n=t.getDirection(t.startPoint,t.endPoint),t.opt.allowPageScroll.x||-1===r.inArray(n,["NE","E","SE","NW","W","SW"])||e.preventDefault(),t.opt.allowPageScroll.y||-1===r.inArray(n,["NW","N","NE","SW","S","SE"])||e.preventDefault()):e.preventDefault())},onEnd:function(e){var t,e=e.data.self;e.active&&(e.active=!1,t={startPoint:e.startPoint,endPoint:e.endPoint,startOffset:e.getOffset(e.startPoint),endOffset:e.getOffset(e.endPoint),angle:e.getAngle(e.startPoint,e.endPoint),distance:e.getDistance(e.startPoint,e.endPoint),direction:e.getDirection(e.startPoint,e.endPoint)},0<e.opt.threshold&&t.distance<e.opt.threshold||(e.opt.swipe.apply(this,[t,e.opt.data]),e.startPoint=null,e.endPoint=null))}}),i.fn.fgswipe=function(t){return this.each(function(){var e=i(this).data(a);if(e instanceof n.Swipe){if(s.string(t)&&s.fn(e[t]))return void e[t]();e.destroy()}s.hash(t)&&(e=new n.Swipe(this,t)).init()})}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj),function(e,t,s,a,o){e.Factory=t.Class.extend({construct:function(){this.registered={}},contains:function(e){return!s.undef(this.registered[e])},make:function(e,t,n){var r,i=a.arg2arr(arguments);return e=i.shift(),r=this.registered[e],s.hash(r)&&s.fn(r.klass)?a.apply(r.klass,i):null},names:function(e){e=!!s.boolean(e)&&e;var t,n=[];if(e){var r=[];for(t in this.registered)this.registered.hasOwnProperty(t)&&r.push(this.registered[t]);r.sort(function(e,t){return t.priority-e.priority}),r.forEach(function(e){n.push(e.name)})}else for(t in this.registered)this.registered.hasOwnProperty(t)&&n.push(t);return n},register:function(e,t,n){if(!s.string(e)||s.empty(e)||!s.fn(t))return!1;n=s.number(n)?n:0;var r=this.registered[e];return this.registered[e]={name:e,klass:t,priority:s.undef(r)?n:r.priority},!0},load:function(e,t){var n,r=this,i=a.arg2arr(arguments),s=[],o=[];for(n in r.registered)r.registered.hasOwnProperty(n)&&o.push(r.registered[n]);return o.sort(function(e,t){return t.priority-e.priority}),o.forEach(function(e){var t=i.slice();t.unshift(e.name),s.push(r.make.apply(r,t))}),s},configure:function(e,t,n,r){var i;this.contains(e)&&(i=this.registered,o.extend(i[e].opt,t),o.extend(i[e].cls,n),o.extend(i[e].il8n,r))}})}((FooGallery.$,FooGallery),FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(l,o,c,u,a){o.TemplateFactory=o.Factory.extend({construct:function(){this.registered={}},register:function(e,t,n,r,i,s){t=this._super(e,t,s);return t&&((s=this.registered)[e].opt=u.hash(n)?n:{},s[e].cls=u.hash(r)?r:{},s[e].il8n=u.hash(i)?i:{}),t},make:function(e,t){t=u.jq(t)?t:l(t),e=a.extend({},e,t.data("foogallery"));var n=this.type(e,t);return this.contains(n)?(e=this.options(n,e),this._super(n,e,t)):null},type:function(e,t){t=u.jq(t)?t:l(t);var n=u.hash(e)&&u.hash(e)&&u.string(e.type)&&this.contains(e.type)?e.type:null;if(null===n&&0<t.length)for(var r=this.registered,i=this.names(!0),s=0,o=i.length;s<o;s++)if(r.hasOwnProperty(i[s])&&"core"!==i[s]){var a=r[i[s]].cls;if(u.string(a.container)){a=c.selectify(a.container);if(t.is(a)){n=i[s];break}}}return n},options:function(e,t){t=a.extend({type:e},t);var n=this.registered,r=n.core.opt,i=n.core.cls,s=n.core.il8n;return u.hash(t.cls)||(t.cls={}),u.hash(t.il8n)||(t.il8n={}),u.undef(o.filtering)||(t=o.filtering.merge(t)),u.undef(o.paging)||(t=o.paging.merge(t)),"core"!==e&&this.contains(e)?((t=a.extend({},r,n[e].opt,t)).cls=a.extend({},i,n[e].cls,t.cls),t.il8n=a.extend({},s,n[e].il8n,t.il8n)):((t=a.extend({},r,t)).cls=a.extend({},i,t.cls),t.il8n=a.extend({},s,t.il8n)),t}}),o.template=new o.TemplateFactory}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,(FooGallery.utils.fn,FooGallery.utils.obj)),function(r,i,s,o,a){var l=0;i.Template=s.EventClass.extend({construct:function(e,t){var n=this;n._super(),n.namespace=".foogallery-"+ ++l,n.$el=o.jq(t)?t:r(t),n.el=n.$el.get(0)||null,n.$scrollParent=null,n.opt=e,n.template=e.template,n.id=n.$el.prop("id")||e.id,n.cls=e.cls,n.il8n=e.il8n,n.sel=s.selectify(n.cls),n.items=i.components.make("items",n),n.pages=o.undef(i.paging)?null:i.paging.make(e.paging.type,n),n.filter=o.undef(i.filtering)?null:i.filtering.make(e.filtering.type,n),n.state=i.components.make("state",n),n._initialize=null,n._layoutTimeout=null,n._layoutWidths=[],n.lastWidth=0,n.initializing=!1,n.initialized=!1,n.destroying=!1,n.destroyed=!1,n._undo={classes:"",style:"",create:!1,children:!1},n.robserver=new ResizeObserver(a.throttle(function(e){n.destroying||n.destroyed||1!==e.length||e[0].target!==n.el||(e=s.getResizeObserverSize(e[0]),n.layout(e.width))},50))},initialize:function(t){var n=this;return o.promise(n._initialize)?n._initialize:n._initialize=r.Deferred(function(e){n.preInit(t)?n.init().then(function(){n.postInit()?(n.ready(),e.resolve(n)):e.reject("post-init failed")}).fail(e.reject):e.reject("pre-init failed")}).fail(function(e){return console.log("initialize failed",n,e),n.destroy()}).promise()},preInit:function(e){var t=this;if(t.destroying)return!1;if(e=o.jq(e)?e:r(e),t.initializing=!0,0===e.length&&0===t.$el.parent().length)return!1;0===t.$el.length&&(t.$el=t.create(),t.el=t.$el.get(0),t._undo.create=!0),0<e.length&&t.$el.appendTo(e),o.empty(t.opt.scrollParent)||0===(e=r(t.opt.scrollParent)).length?t.$scrollParent=r(document):t.$scrollParent=e.is("html")?r(document):e,t.$el.data(i.DATA_TEMPLATE,t),o.empty(t.opt.on)||t.on(t.opt.on),t._undo.classes=t.$el.attr("class"),t._undo.style=t.$el.attr("style"),t.$el.is(t.sel.container)||t.$el.addClass(t.cls.container);e=s.selectify(t.opt.classes);return null==e||t.$el.is(e)||t.$el.addClass(t.opt.classes),0===t.$el.children().not(t.sel.item.elem).length&&(t.$el.append(t.createChildren()),t._undo.children=!0),t.opt.protected&&(t.el.oncontextmenu=function(e){return e.preventDefault(),!1}),!t.trigger("pre-init").isDefaultPrevented()},init:function(){return this.trigger("init").isDefaultPrevented()?a.reject("init default prevented"):this.items.fetch()},postInit:function(){var e=this;return!e.destroying&&(!e.trigger("post-init").isDefaultPrevented()&&(e.state.init(),e.pages&&e.pages.init(),r(window).on("popstate"+e.namespace,{self:e},e.onWindowPopState),e.robserver.observe(e.el),!0))},ready:function(){return!this.destroying&&(this.initializing=!1,this.initialized=!0,this.trigger("ready"),!0)},create:function(){return r("<div/>",{id:this.id,class:this.cls.container}).addClass(this.opt.classes)},createChildren:function(){return r()},destroy:function(t){var n=this,e=n._super.bind(n);return n.destroyed?a.resolved:(n.destroying=!0,r.Deferred(function(e){n.initializing&&o.promise(n._initialize)?n._initialize.always(function(){n.destroying=!1,n.doDestroy(t),e.resolve()}):(n.destroying=!1,n.doDestroy(t),e.resolve())}).then(function(){e()}).promise())},doDestroy:function(e){var t=this;t.destroyed||(t.trigger("destroy"),t.robserver.disconnect(),r(window).off(t.namespace),t.state.destroy(e),t.filter&&t.filter.destroy(),t.pages&&t.pages.destroy(),t.items.destroy(),o.empty(t.opt.on)||t.$el.off(t.opt.on),t.trigger("destroyed"),t.$el.removeData(i.DATA_TEMPLATE),o.empty(t._undo.classes)?t.$el.removeAttr("class"):t.$el.attr("class",t._undo.classes),o.empty(t._undo.style)?t.$el.removeAttr("style"):t.$el.attr("style",t._undo.style),t._undo.children&&t.destroyChildren(),t._undo.create&&t.$el.remove(),t.$el=t.state=t.items=t.pages=null,t.destroyed=!0,t.initializing=!1,t.initialized=!1)},destroyChildren:function(){},getAvailable:function(){return(this.pages||this.items).available()},layout:function(e){var t=this;null===t._initialize||0===(e=o.number(e)?e:t.el.getBoundingClientRect().width)||t._checkWidth(e)||(t.lastWidth=e,t.trigger("layout",[e]))},_checkWidth:function(e){var t,n=this;return(t=-1!==n._layoutWidths.indexOf(e))||(n._layoutWidths.unshift(e),n._layoutWidths.splice(2,n._layoutWidths.length-2),null!=n._layoutTimeout&&clearTimeout(n._layoutTimeout),n._layoutTimeout=setTimeout(function(){n._layoutWidths.splice(0,n._layoutWidths.length)},100)),t},getCSSClass:function(e,t){t=o.empty(t)?"":t;var e=e instanceof RegExp?e:o.string(e)&&this.opt.regex.hasOwnProperty(e)?this.opt.regex[e]:null,n=this.$el.prop("className")||"",n=null!=e?n.match(e):null;return null!=n&&2<=n.length?n[1]:t},onWindowPopState:function(e){var t=e.data.self,e=e.originalEvent.state;o.empty(e)||e.id!==t.id||t.state.set(e)}}),i.template.register("core",i.Template,{id:null,type:"core",classes:"",on:{},lazy:!0,items:[],scrollParent:null,delay:0,throttle:50,shortpixel:!1,srcset:"data-srcset-fg",src:"data-src-fg",protected:!1,template:{},regex:{theme:/(?:\s|^)(fg-(?:light|dark|custom))(?:\s|$)/,loadingIcon:/(?:\s|^)(fg-loading-(?:default|bars|dots|partial|pulse|trail))(?:\s|$)/,hoverIcon:/(?:\s|^)(fg-hover-(?:zoom|zoom2|zoom3|plus|circle-plus|eye|external|tint))(?:\s|$)/,videoIcon:/(?:\s|^)(fg-video-(?:default|1|2|3|4))(?:\s|$)/,border:/(?:\s|^)(fg-border-(?:thin|medium|thick))(?:\s|$)/,hoverColor:/(?:\s|^)(fg-hover-(?:colorize|grayscale))(?:\s|$)/,hoverScale:/(?:\s|^)(fg-hover-scale)(?:\s|$)/,stickyVideoIcon:/(?:\s|^)(fg-video-sticky)(?:\s|$)/,insetShadow:/(?:\s|^)(fg-shadow-inset-(?:small|medium|large))(?:\s|$)/,filter:/(?:\s|^)(fg-filter-(?:1977|amaro|brannan|clarendon|earlybird|lofi|poprocket|reyes|toaster|walden|xpro2|xtreme))(?:\s|$)/}},{container:"foogallery"},{},-100)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.str),function(e,t){e.Component=t.EventClass.extend({construct:function(e){this._super(),this.tmpl=e},destroy:function(){this.tmpl=null,this._super()}}),e.components=new e.Factory}(FooGallery,FooGallery.utils,FooGallery.utils.is),function(t,s,n,o,a,l){s.State=s.Component.extend({construct:function(e){var t=this,e=(t._super(e),t.apiEnabled=!!window.history&&!!history.replaceState,t.opt=t.tmpl.opt.state,t.enabled=t.opt.enabled,t.current={filter:[],page:0,item:null},t.pushOrReplace=t.isPushOrReplace(t.opt.pushOrReplace)?t.opt.pushOrReplace:"replace",t.defaultMask="foogallery-gallery-{id}",a.escapeRegExp(t.tmpl.id)),n=a.escapeRegExp(t.getMasked()),r=a.escapeRegExp(t.opt.values),i=a.escapeRegExp(t.opt.pair);t.regex={exists:new RegExp("^#"+e+"\\"+r+".+?"),masked:new RegExp("^#"+n+"\\"+r+".+?"),values:new RegExp("(\\w+)"+i+"([^"+r+"]+)","g")},t.usePopState=t.opt.usePopState,t.onPopState=t.onPopState.bind(t)},init:function(){var e=this;e.set(e.initial()),e.enabled&&e.apiEnabled&&e.usePopState&&window.addEventListener("popstate",e.onPopState)},destroy:function(e){var t=this;t.enabled&&t.apiEnabled&&t.usePopState&&window.removeEventListener("popstate",t.onPopState),e||t.clear(),t.opt=t.regex={},t._super()},getIdNumber:function(){return this.tmpl.id.match(/\d+/g)[0]},getMasked:function(){var e=a.contains(this.opt.mask,"{id}")?this.opt.mask:this.defaultMask;return a.format(e,{id:this.getIdNumber()})},isPushOrReplace:function(e){return-1!==n.inArray(e,["push","replace"])},exists:function(){return this.regex.values.lastIndex=0,(this.regex.exists.test(location.hash)||this.regex.masked.test(location.hash))&&this.regex.values.test(location.hash)},parse:function(){var e,i=this,s=i.tmpl,o={};return i.exists()&&(i.enabled?(o.id=i.tmpl.id,i.regex.values.lastIndex=0,e=location.hash.match(i.regex.values),t.each(e,function(e,t){var n,r=t.split(i.opt.pair);if(2===r.length)switch(r[0]){case i.opt.itemKey:null!==(n=s.items.fromHash(r[1]))&&(o.item=n);break;case i.opt.pageKey:s.pages&&null!==(n=s.pages.fromHash(r[1]))&&(o.page=n);break;case i.opt.filterKey:s.filter&&null!==(n=s.filter.fromHash(r[1]))&&(o.filter=n)}})):i.apiEnabled?history.replaceState(null,"",location.pathname+location.search):location.hash="#"),o},hashify:function(e){var t,n,r=this,i=r.tmpl;return o.hash(e)?(t=[],null!==(n=i.items.toHash(e.item))&&t.push(r.opt.itemKey+r.opt.pair+n),i.filter&&null!==(n=i.filter.toHash(e.filter))&&t.push(r.opt.filterKey+r.opt.pair+n),i.pages&&null!==(n=i.pages.toHash(e.page))&&t.push(r.opt.pageKey+r.opt.pair+n),0<t.length&&t.unshift("#"+r.getMasked()),t.join(r.opt.values)):""},replace:function(e){var t,n;this.enabled&&this.apiEnabled&&(e.id=this.tmpl.id,t=this.hashify(e),n=o.empty(t),e=l.extend({},e,{item:e.item instanceof s.Item?e.item.id:e.item}),history.replaceState(n?null:e,"",n?location.pathname+location.search:t))},push:function(e){var t,n;this.enabled&&this.apiEnabled&&(e.id=this.tmpl.id,t=this.hashify(e),n=o.empty(t),e=l.extend({},e,{item:e.item instanceof s.Item?e.item.id:e.item}),history.pushState(n?null:e,"",n?location.pathname+location.search:t))},update:function(e,t){var n=this;n.enabled&&n.apiEnabled&&(t=n.isPushOrReplace(t)?t:n.pushOrReplace,n[t](e))},clear:function(){this.exists()&&this.replace({})},initial:function(){var e=this.parse();return o.empty(e)?this.get():l.extend({filter:[],page:1,item:null},e)},get:function(e){var t,n=this.tmpl,r={};return e instanceof s.Item&&(r.item=e),n.filter&&null!==(t=n.filter.getState())&&(r.filter=t),n.pages&&null!==(t=n.pages.getState())&&(r.page=t),l.extend({filter:[],page:1,item:null},r)},set:function(e){var t,n,r,i=this.tmpl;o.hash(e)&&(t=l.extend({filter:[],page:1,item:null},e),i.items.reset(),i.trigger("before-state",[t]).isDefaultPrevented()||(i.filter&&i.filter.setState(t),i.pages?i.pages.setState(t):(n=i.items.available(),i.items.isAll(n)||(r=i.items.not(n),i.items.detach(r)),i.items.create(n,!0)),t.item instanceof s.Item&&(this.opt.scrollTo&&t.item.scrollTo(),o.empty(e.item)||(e.item=null,this.replace(e))),this.current=t,i.trigger("after-state",[t])))},onPopState:function(e){var t=this.parse();Object.keys(t).length&&this.set(t)}}),s.template.configure("core",{state:{enabled:!1,scrollTo:!0,pushOrReplace:"replace",mask:"foogallery-gallery-{id}",usePopState:!0,values:"/",pair:":",array:"+",arraySeparator:",",itemKey:"i",filterKey:"f",pageKey:"p"}}),s.components.register("state",s.State)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.str,FooGallery.utils.obj),function(o,s,n,a,r,l){s.Items=s.Component.extend({construct:function(e){var t=this,e=(t.ALLOW_CREATE=!0,t.ALLOW_APPEND=!0,t.LAYOUT_AFTER_LOAD=!0,t._super(e),t._typeRegex=/(?:^|\s)?fg-type-(.*?)(?:$|\s)/,t._fetched=null,t._all=[],t._available=[],t._unavailable=[],t._observed=new Map,t.tmpl.cls.item.caption);t.tmpl.sel.item.caption.all=n.selectify([e.elem,e.inner,e.title,e.description]),t._wait=[],t._layoutTimeout=null,t.iobserver=new IntersectionObserver(function(e){t.tmpl.destroying||t.tmpl.destroyed||(t.LAYOUT_AFTER_LOAD&&clearTimeout(t._layoutTimeout),e.forEach(function(e){e.isIntersecting&&(e=t._observed.get(e.target))instanceof s.Item&&t._wait.push(e.load())}),t.LAYOUT_AFTER_LOAD&&(t._layoutTimeout=setTimeout(function(){0<t._wait.length&&r.allSettled(t._wait.splice(0)).then(function(){t.tmpl.layout()})},100)))})},fromHash:function(t){return this.find(this._all,function(e){return e.id===t})},toHash:function(e){return e instanceof s.Item?e.id:null},destroy:function(){var e=this,t=e.all();e.iobserver.disconnect(),0<t.length&&(e.tmpl.trigger("destroy-items",[t]),0<(t=o.map(t,function(e){return e.destroy()?e:null})).length&&e.tmpl.trigger("destroyed-items",[t])),e._fetched=null,e._all=[],e._available=[],e._unavailable=[],e._observed.clear(),e._super()},fetch:function(e){var t,r,i,s,n=this;return!e&&a.promise(n._fetched)?n._fetched:(e=n.tmpl.id+"_items",t=n.tmpl.sel,r=n.tmpl.opt.items,i=o.Deferred(),s=n.make(n.tmpl.$el.find(t.item.elem)),a.empty(r)?(a.array(window[e])&&s.push.apply(s,n.make(window[e])),i.resolve(s)):a.array(r)?(s.push.apply(s,n.make(r)),i.resolve(s)):a.string(r)?o.get(r).then(function(e){s.push.apply(s,n.make(e)),i.resolve(s)},function(e,t,n){console.log("FooGallery: GET items error.",r,e,t,n),i.resolve(s)}):i.resolve(s),i.then(function(e){n.setAll(e)}),n._fetched=i.promise())},toJSON:function(e){return(e?this.all():this.available()).map(function(e){return e.toJSON()})},all:function(){return this._all.slice()},count:function(e){return(e?this.all():this.available()).length},available:function(e){return a.fn(e)?this._available.filter(e,this):this._available.slice()},unavailable:function(e){return a.fn(e)?this._unavailable.filter(e,this):this._unavailable.slice()},setAll:function(e){this._all=a.array(e)?e:[],this._all.forEach(function(e,t){e.index=t,a.empty(e.id)&&(e.id=t+1+"")}),this._available=this.all(),this._unavailable=[]},setAvailable:function(e){var t=this;t._available=a.array(e)?e:[],t._all.length!==t._available.length?t._unavailable=t._all.filter(function(e){return-1===t._available.indexOf(e)}):t._unavailable=[]},reset:function(){this.setAvailable(this.all())},find:function(e,t){if(t=a.fn(t)?t:function(){return!0},a.array(e))for(var n=0,r=e.length;n<r;n++)if(!0===t.call(this,e[n]))return e[n];return null},not:function(t){var e=this.all();return a.array(t)?e.filter(function(e){return-1===t.indexOf(e)}):e},isAll:function(e){return!!a.array(e)&&this._all.length===e.length},first:function(e){return this.find(this._available,e)},last:function(e){return this.find(this._available.slice().reverse(),e)},next:function(e,t,n){if(!(e instanceof s.Item))return null;n=!!a.boolean(n)&&n;var r,i=this._available.slice(),e=i.indexOf(e);return-1!==e?(r=i.slice(0,e),i=i.slice(e+1),n&&(i=i.concat(r)),this.find(i,t)):null},prev:function(e,t,n){if(!(e instanceof s.Item))return null;n=!!a.boolean(n)&&n;var r,i=this._available.slice().reverse(),e=i.indexOf(e);return-1!==e?(r=i.slice(0,e),i=i.slice(e+1),n&&(i=i.concat(r)),this.find(i,t)):null},get:function(t,e){e=e?this._all:this._available;return a.number(t)?0<=t&&t<this._all.length?e[t]:null:this.find(e,function(e){return e.el===t})},indexOf:function(e,t){return(t?this._all:this._available).indexOf(e)},creatable:function(e){return this.ALLOW_CREATE&&a.array(e)?o.map(e,function(e){return e instanceof s.Item&&!e.isCreated?e:null}):[]},appendable:function(e){return this.ALLOW_APPEND&&a.array(e)?o.map(e,function(e){return e instanceof s.Item&&e.isCreated&&!e.isAttached?e:null}):[]},detachable:function(e){return a.array(e)?o.map(e,function(e){return e instanceof s.Item&&e.isCreated&&e.isAttached?e:null}):[]},jquerify:function(e){return o(o.map(e,function(e){return e.$el.get()}))},make:function(e){var r=this,t=[];if(a.jq(e)||a.array(e)){var i=[],e=o.makeArray(e);if(0===e.length)return t;0<(t=r.tmpl.trigger("make-items",[e]).isDefaultPrevented()?t:o.map(e,function(e){var t=r.type(e),n=l.extend(a.hash(e)?e:{},{type:t}),t=s.components.make(t,r.tmpl,n);return a.element(e)?t.parse(e)?(i.push(t),r.ALLOW_APPEND||t.detach(),t):null:t})).length&&r.tmpl.trigger("made-items",[t]),0<i.length&&r.tmpl.trigger("parsed-items",[i])}return t},type:function(e){var t;return a.hash(e)?t=e.type:a.element(e)&&null!==(e=e.className.match(this._typeRegex))&&2===e.length&&(t=e[1]),a.string(t)&&s.components.contains(t)?t:"image"},create:function(e,t){var n=[],r=this.creatable(e);return 0<r.length&&0<(n=this.tmpl.trigger("create-items",[r]).isDefaultPrevented()?n:o.map(r,function(e){return e.create()?e:null})).length&&this.tmpl.trigger("created-items",[n]),a.boolean(t)&&t?this.append(e):n},append:function(e){var t=[],e=this.appendable(e);return 0<e.length&&0<(t=this.tmpl.trigger("append-items",[e]).isDefaultPrevented()?t:o.map(e,function(e){return e.append()?e:null})).length&&this.tmpl.trigger("appended-items",[t]),t},detach:function(e){var t=[],e=this.detachable(e);return 0<e.length&&0<(t=this.tmpl.trigger("detach-items",[e]).isDefaultPrevented()?t:o.map(e,function(e){return e.detach()?e:null})).length&&this.tmpl.trigger("detached-items",[t]),t},observe:function(e){!(this.iobserver&&e.isCreated&&e.isAttached)||e.isLoading&&e.isLoaded||(this.iobserver.observe(e.el),this._observed.set(e.el,e))},unobserve:function(e){this.iobserver&&(this.iobserver.unobserve(e.el),this._observed.delete(e.el))}}),s.components.register("items",s.Items)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(y,b,w,_,s,x){b.Item=b.Component.extend({construct:function(e,t){var n=this;n._super(e),n.cls=e.cls.item,n.il8n=e.il8n.item,n.sel=e.sel.item,n.opt=s.extend({},e.opt.item,t),n.isAttached=!1,n.isCreated=!1,n.isDestroyed=!1,n.isLoading=!1,n.isLoaded=!1,n.isError=!1,n.isParsed=!1,n.isPicture=!1,n.$el=null,n.el=null,n.$inner=null,n.$anchor=null,n.$overlay=null,n.$wrap=null,n.$image=null,n.$caption=null,n.$loader=null,n.index=-1,n.type=n.opt.type,n.id=n.opt.id,n.productId=n.opt.productId,n.href=n.opt.href,n.placeholder=n.opt.placeholder,n.src=n.opt.src,n.srcset=n.opt.srcset,n.sources=n.opt.sources,n.width=n.opt.width,n.height=n.opt.height,n.title=n.opt.title,n.alt=n.opt.alt,n.caption=n.opt.caption,n.description=n.opt.description,n.attr=n.opt.attr,n.tags=n.opt.tags,n.maxCaptionLength=n.opt.maxCaptionLength,n.maxDescriptionLength=n.opt.maxDescriptionLength,n.showCaptionTitle=n.opt.showCaptionTitle,n.showCaptionDescription=n.opt.showCaptionDescription,n.noLightbox=n.opt.noLightbox,n.panelHide=n.opt.panelHide,n.exif=n.opt.exif,n.hasExif=_.exif(n.exif),n.ribbon=n.opt.ribbon,n.hasRibbon=_.hash(n.ribbon)&&_.string(n.ribbon.text)&&_.string(n.ribbon.type),n.buttons=n.opt.buttons,n._load=null,n._undo={classes:"",style:"",placeholder:!1}},destroy:function(){var e=this;return e.tmpl.trigger("destroy-item",[e]).isDefaultPrevented()||(e.isDestroyed=e.doDestroyItem()),e.isDestroyed&&(e.tmpl.trigger("destroyed-item",[e]),e._super()),e.isDestroyed},doDestroyItem:function(){var e=this;return e.isParsed?(e.$anchor.add(e.$caption).off("click.foogallery"),e.append(),e.tmpl.items.unobserve(e),_.empty(e._undo.classes)?e.$el.removeAttr("class"):e.$el.attr("class",e._undo.classes),_.empty(e._undo.style)?e.$el.removeAttr("style"):e.$el.attr("style",e._undo.style),e._undo.placeholder&&e.$image.prop("src")===e.placeholder&&e.$image.removeAttr("src")):e.isCreated&&(e.detach(),e.$el.remove()),!0},parse:function(e){var t=this,e=y(e);return!t.tmpl.trigger("parse-item",[t,e]).isDefaultPrevented()&&(t.isCreated=e.is(t.sel.elem))&&(t.isParsed=t.doParseItem(e)),t.isParsed&&(t.isLoaded||t.tmpl.items.observe(t),t.tmpl.trigger("parsed-item",[t])),t.isParsed},doParseItem:function(e){var n=this,t=n.cls,r=n.sel,i=e.get(0);if(n._undo.classes=e.attr("class")||"",n._undo.style=e.attr("style")||"",n.$el=e.data(b.DATA_ITEM,n),n.el=i,n.$inner=y(i.querySelector(r.inner)),n.$anchor=y(i.querySelector(r.anchor)).on("click.foogallery",{self:n},n.onAnchorClick),n.$image=y(i.querySelector(r.image)),n.$caption=y(i.querySelector(r.caption.elem)).on("click.foogallery",{self:n},n.onCaptionClick),n.$overlay=y(i.querySelector(r.overlay)),n.$wrap=y(i.querySelector(r.wrap)),n.$loader=y(i.querySelector(r.loader)),!(n.$el.length&&n.$inner.length&&n.$anchor.length&&n.$image.length))return console.error("FooGallery Error: Invalid HTML markup. Check the item markup for additional elements or malformed HTML in the title or description.",n),n.isError=!0,n.tmpl.trigger("error-item",[n]),0!==n.$el.length&&n.$el.remove(),!1;n.isAttached=null!==i.parentNode,n.isLoading=n.$el.hasClass(t.loading),n.isLoaded=n.$el.hasClass(t.loaded),n.isError=n.$el.hasClass(t.error);var e=n.$anchor.data(),r=(n.id=e.id||n.id,n.productId=e.productId||n.productId,n.tags=e.tags||n.tags,n.href=e.href||n.$anchor.attr("href")||n.href,i=n.$image.is("picture")?(n.isPicture=!0,n.sources=n.$image.find("source").map(function(e,t){return{srcset:t.getAttribute(n.tmpl.opt.srcset),type:t.getAttribute("type"),media:t.getAttribute("media"),sizes:t.getAttribute("sizes")}}).get(),n.$image.find("img")):n.$image,n.src=i.attr(n.tmpl.opt.src)||n.src,n.srcset=i.attr(n.tmpl.opt.srcset)||n.srcset,n.width=parseInt(i.attr("width"))||n.width,n.height=parseInt(i.attr("height"))||n.height,n.title=b.safeParse(i.attr("title")||n.title),n.alt=b.safeParse(i.attr("alt")||n.alt),n.caption=b.safeParse(e.title||e.captionTitle||n.caption),n.description=b.safeParse(e.description||e.captionDesc||n.description),n.noLightbox=n.$anchor.hasClass(t.noLightbox),n.panelHide=n.$anchor.hasClass(t.panelHide),_.exif(e.exif)&&(n.exif=s.extend(n.exif,e.exif),n.hasExif=!0),0<n.maxCaptionLength&&((e=x.trimTo(n.caption,n.maxCaptionLength))!==n.caption&&n.$caption.find(r.caption.title).html(e)),!n.maxDescriptionLength||(e=x.trimTo(n.description,n.maxDescriptionLength))!==n.description&&n.$caption.find(r.caption.description).html(e),i.get(0)),e=(_.string(r.src)&&0!==r.src.length||(_.string(n.placeholder)&&0!==n.placeholder.length||(n.placeholder=n.createPlaceholder(n.width,n.height)),0<n.placeholder.length&&(r.src=n.placeholder,n._undo.placeholder=!0)),n.getTypeClass());return n.$el.hasClass(e)||n.$el.addClass(e),n.hasExif&&!n.$el.hasClass(t.exif)&&n.$el.addClass(t.exif),!n.isCreated||!n.isAttached||n.isLoading||n.isLoaded||n.isError||n.$el.hasClass(t.idle)||n.$el.addClass(t.idle),n.doShortPixel(),!0},create:function(){var e=this;return!e.isCreated&&_.string(e.href)&&_.string(e.src)&&_.number(e.width)&&_.number(e.height)&&(e.tmpl.trigger("create-item",[e]).isDefaultPrevented()||(e.isCreated=e.doCreateItem()),e.isCreated&&e.tmpl.trigger("created-item",[e])),e.isCreated},_setAttributes:function(r,e){Object.entries(e).forEach(([e,t])=>{var n;_.empty(t)||("class"===e?(n=(_.array(t)?t:[t]).flatMap(e=>_.string(e)?e.split(" "):[]).map(e=>e.trim()).filter(Boolean),r.classList.add(...n)):r.setAttribute(e,_.string(t)?t:JSON.stringify(t)))})},doShortPixel:function(){var e,t=this;function n(e,t,n){return"/"===t||"/"===n?"/":t}t.tmpl.opt.shortpixel&&!b.supportsWebP&&(t.href=t.href.replace(e=/([\/,+])to_webp([\/,+])/i,n),t.src=t.src.replace(e,n),t.srcset=t.srcset.replace(e,n))},doCreateItem:function(){var r,e,i=this,t=i.cls,n=i.attr,s=i.hasExif?t.exif:"",o=(i.isLoaded=!i.tmpl.opt.lazy,i.isPicture=0<i.sources.length,i.doShortPixel(),document.createElement("div")),s=(i._setAttributes(o,n.elem),i._setAttributes(o,{class:[t.elem,i.getTypeClass(),s,i.isLoaded?t.loaded:t.idle]}),document.createElement("figure")),a=(i._setAttributes(s,n.inner),i._setAttributes(s,{class:t.inner}),[t.anchor]),l=(i.noLightbox&&a.push(t.noLightbox),i.panelHide&&a.push(t.panelHide),document.createElement("a")),a=(i._setAttributes(l,n.anchor),i._setAttributes(l,{class:a.join(" "),href:i.href,"data-id":i.id,"data-type":i.type,"data-title":i.caption,"data-description":i.description,"data-tags":i.tags,"data-exif":i.exif,"data-product-id":i.productId}),_.string(i.placeholder)&&0!==i.placeholder.length||(i.placeholder=i.createPlaceholder(i.width,i.height)),document.createElement("img")),c=(i._setAttributes(a,n.image),{class:t.image,src:i.placeholder,width:i.width+"",height:i.height+"",title:i.title,alt:i.alt}),c=(i.isLoaded?(c.src=i.src,c.srcset=i.srcset):(c[i.tmpl.opt.src]=i.src,c[i.tmpl.opt.srcset]=i.srcset),i._setAttributes(a,c),i.isPicture&&(r=document.createElement("picture"),i._setAttributes(r,n.picture),i.sources.forEach(function(e){var t=document.createElement("source"),n={media:e.media,sizes:e.sizes,type:e.type};i.isLoaded?n.srcset=e.srcset:n[i.tmpl.opt.srcset]=e.srcset,i._setAttributes(t,n),r.appendChild(t)}),r.appendChild(a)),i.hasRibbon&&((e=document.createElement("div")).className=i.ribbon.type,(c=document.createElement("span")).innerHTML=i.ribbon.text,e.appendChild(c)),document.createElement("span")),u=(c.className=t.overlay,document.createElement("span")),h=(u.className=t.wrap,document.createElement("div")),p=(h.className=t.loader,document.createElement("figcaption")),d=(i._setAttributes(p,n.caption.elem),i._setAttributes(p,{class:t.caption.elem}),document.createElement("div")),f=(i._setAttributes(d,n.caption.inner),i._setAttributes(d,{class:t.caption.inner}),null),g=i.showCaptionTitle&&_.string(i.caption)&&0<i.caption.length,f=(g&&(f=document.createElement("div"),i._setAttributes(f,n.caption.title),f.className=t.caption.title,f.innerHTML=0<i.maxCaptionLength?x.trimTo(i.caption,i.maxCaptionLength):i.caption,d.appendChild(f)),null),m=i.showCaptionDescription&&_.string(i.description)&&0<i.description.length,v=(m&&(f=document.createElement("div"),i._setAttributes(f,n.caption.description),f.className=t.caption.description,f.innerHTML=0<i.maxDescriptionLength?x.trimTo(i.description,i.maxDescriptionLength):i.description,d.appendChild(f)),null),n=_.array(i.buttons)&&0<i.buttons.length;return n&&((v=document.createElement("div")).className=t.caption.buttons,w.each(i.buttons,function(e){var t;_.hash(e)&&_.string(e.text)&&((t=document.createElement("a")).innerHTML=e.text,_.string(e.url)&&0<e.url.length&&(t.href=e.url),_.string(e.rel)&&0<e.rel.length&&(t.rel=e.rel),_.string(e.target)&&0<e.target.length&&(t.target=e.target),_.string(e.classes)&&0<e.classes.length&&(t.className=e.classes),_.hash(e.attr)&&i._setAttributes(t,e.attr),v.appendChild(t))}),d.appendChild(v)),p.appendChild(d),i.isPicture?u.appendChild(r):u.appendChild(a),l.appendChild(c),l.appendChild(u),s.appendChild(l),(g||m||n)&&s.appendChild(p),i.hasRibbon&&o.appendChild(e),o.appendChild(s),o.appendChild(h),i.$el=y(o).data(b.DATA_ITEM,i),i.el=o,i.$inner=y(s),i.$anchor=y(l).on("click.foogallery",{self:i},i.onAnchorClick),i.$overlay=y(c),i.$wrap=y(u),i.isPicture?i.$image=y(r):i.$image=y(a),i.$caption=y(p).on("click.foogallery",{self:i},i.onCaptionClick),i.$loader=y(h),!0},append:function(){var e=this;return e.isCreated&&!e.isAttached&&(e.tmpl.trigger("append-item",[e]).isDefaultPrevented()||(e.tmpl.$el.append(e.$el.removeClass(e.cls.hidden)),e.isAttached=!0),e.isAttached&&(e.isLoaded||e.tmpl.items.observe(e),e.tmpl.trigger("appended-item",[e]))),e.isAttached},detach:function(){var e=this;return e.isCreated&&e.isAttached&&(e.tmpl.items.unobserve(e),e.tmpl.trigger("detach-item",[e]).isDefaultPrevented()||(e.$el.detach().removeClass(e.cls.hidden),e.isAttached=!1),e.isAttached||e.tmpl.trigger("detached-item",[e])),!e.isAttached},load:function(){var n=this;return _.promise(n._load)?n._load:n._load=y.Deferred(function(t){return n.isLoaded?t.resolve(n):n.isCreated&&n.isAttached?n.tmpl.trigger("load-item",[n]).isDefaultPrevented()?t.reject("default prevented"):(n.isLoading=!0,n.tmpl.items.unobserve(n),n.$el.removeClass(n.cls.idle).removeClass(n.cls.hidden).removeClass(n.cls.loaded).removeClass(n.cls.error).addClass(n.cls.loading),void n.loadIMG().then(function(){n.isLoading=!1,n.isLoaded=!0,n.$el.removeClass(n.cls.loading).addClass(n.cls.loaded),n.tmpl.trigger("loaded-item",[n]),t.resolve(n)},function(e){n.isLoading=!1,n.isError=!0,n.$el.removeClass(n.cls.loading).addClass(n.cls.error),n.tmpl.trigger("error-item",[n]),t.reject(e)})):t.reject("not created or attached")}).promise()},loadIMG:function(){var s=this;return new y.Deferred(function(e){var t=(s.isPicture?s.$image.find("img"):s.$image).get(0);if(!t)return e.reject("Unable to find img element.");var n=t.src,r=t.srcset,i=(t.onload=function(){t.onload=t.onerror=null,t.style.removeProperty("width"),t.style.removeProperty("height"),e.resolve(t)},t.onerror=function(){t.onload=t.onerror=null,_.empty(n)?t.removeAttribute("src"):t.src=n,_.empty(r)?t.removeAttribute("srcset"):t.srcset=r,e.reject(t)},s.isPicture&&s.$image.find("source").each(function(e,t){var n=t.getAttribute(s.tmpl.opt.srcset);_.empty(n)||(t.srcset=n)}),t.getBoundingClientRect());t.style.width=i.width,t.style.height=i.height,t.src=s.src,_.empty(s.srcset)||(t.srcset=s.srcset),t.complete&&t.onload()}).promise()},createPlaceholder:function(e,t){return _.number(e)&&_.number(t)?"data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%22"+e+"%22%20height=%22"+t+"%22%20viewBox=%220%200%20"+e+"%20"+t+"%22%3E%3C/svg%3E":""},getTypeClass:function(){return this.cls.types[this.type]||""},scrollTo:function(e){var t;return this.isAttached&&((t=this.$el.get(0)).scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t.scrollIntoView("top"===e)),this},updateState:function(){this.tmpl.state.update(this.tmpl.state.get(this))},toJSON:function(){return{type:this.type,id:this.id,productId:this.productId,href:this.href,src:this.src,srcset:this.srcset,width:this.width,height:this.height,alt:this.alt,title:this.title,caption:this.caption,description:this.description,tags:this.tags.slice(),maxCaptionLength:this.maxCaptionLength,maxDescriptionLength:this.maxDescriptionLength,showCaptionTitle:this.showCaptionTitle,showCaptionDescription:this.showCaptionDescription,noLightbox:this.noLightbox,panelHide:this.panelHide,attr:s.extend({},this.attr)}},onAnchorClick:function(e){var t=e.data.self;t.tmpl.trigger("anchor-click-item",[t]).isDefaultPrevented()?e.preventDefault():t.updateState()},onCaptionClick:function(e){var t=e.data.self;!t.tmpl.trigger("caption-click-item",[t]).isDefaultPrevented()&&0<t.$anchor.length&&!y(e.target).is("a[href],:input")&&t.$anchor.get(0).click()}}),b.template.configure("core",{item:{type:"item",id:"",href:"",placeholder:"",src:"",srcset:"",sources:[],width:0,height:0,title:"",alt:"",caption:"",description:"",tags:[],maxCaptionLength:0,maxDescriptionLength:0,showCaptionTitle:!0,showCaptionDescription:!0,noLightbox:!1,panelHide:!1,buttons:[],ribbon:{type:null,text:null},exif:{aperture:null,camera:null,created_timestamp:null,shutter_speed:null,focal_length:null,iso:null,orientation:null},attr:{elem:{},inner:{},anchor:{},image:{},picture:{},caption:{elem:{},inner:{},title:{},description:{}}}}},{item:{elem:"fg-item",inner:"fg-item-inner",exif:"fg-item-exif",anchor:"fg-thumb",overlay:"fg-image-overlay",wrap:"fg-image-wrap",image:"fg-image",loader:"fg-loader",idle:"fg-idle",loading:"fg-loading",loaded:"fg-loaded",error:"fg-error",hidden:"fg-hidden",noLightbox:"fg-no-lightbox",panelHide:"fg-panel-hide",types:{item:"fg-type-unknown"},caption:{elem:"fg-caption",inner:"fg-caption-inner",title:"fg-caption-title",description:"fg-caption-desc",buttons:"fg-caption-buttons",button:"fg-caption-button"}}},{item:{exif:{aperture:"Aperture",camera:"Camera",created_timestamp:"Date",shutter_speed:"Exposure",focal_length:"Focal Length",iso:"ISO",orientation:"Orientation"}}}),b.components.register("item",b.Item)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,(FooGallery.utils.fn,FooGallery.utils.obj),FooGallery.utils.str),function(e){e.Image=e.Item.extend({}),e.template.configure("core",null,{item:{types:{image:"fg-type-image"}}}),e.components.register("image",e.Image)}((FooGallery.$,FooGallery),(FooGallery.utils,FooGallery.utils.is)),function(e){e.Video=e.Item.extend({construct:function(e,t){this._super(e,t),this.cover=this.opt.cover},doParseItem:function(e){return!!this._super(e)&&(this.cover=this.$anchor.data("cover")||this.cover,!0)},doCreateItem:function(){return!!this._super()&&(this.$anchor.attr("data-cover",this.cover),!0)},toJSON:function(){var e=this._super();return e.cover=this.cover,e}}),e.template.configure("core",{item:{cover:""}},{item:{types:{video:"fg-type-video"}}}),e.components.register("video",e.Video)}((FooGallery.$,FooGallery),(FooGallery.utils,FooGallery.utils.is)),function(e){e.Iframe=e.Item.extend({}),e.template.configure("core",null,{item:{types:{iframe:"fg-type-iframe"}}}),e.components.register("iframe",e.Iframe)}((FooGallery.$,FooGallery),(FooGallery.utils,FooGallery.utils.is)),function(e){e.Html=e.Item.extend({}),e.template.configure("core",null,{item:{types:{html:"fg-type-html"}}}),e.components.register("html",e.Html)}((FooGallery.$,FooGallery),(FooGallery.utils,FooGallery.utils.is)),function(e){e.Embed=e.Video.extend({}),e.template.configure("core",null,{item:{types:{embed:"fg-type-embed fg-type-video"}}}),e.components.register("embed",e.Embed)}((FooGallery.$,FooGallery),(FooGallery.utils,FooGallery.utils.is));