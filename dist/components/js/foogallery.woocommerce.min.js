/*
* FooGallery - The Most Intuitive and Extensible Gallery Creation and Management Tool Ever Created for WordPress
* @version 2.0.32
* @link 
* @copyright Steven Usher & Brad Vincent 2015
* @license Released under the GPLv3 license.
*/
!function(n,o,l,i){o.template.configure("core",{},{woo:{button:"fg-woo-add-to-cart-ajax",disabled:"fg-disabled",added:"fg-woo-added",adding:"fg-woo-adding"}}),o.Item.prototype.onAddToCart=function(o){var t=o.data.self,e=n(this);if(i){var a=t.tmpl.cls.woo;if(o.preventDefault(),e.hasClass(a.disabled))return!1;var o=e.attr("data-variation-id")||t.productId,r=e.attr("data-quantity")||1;return e.removeClass(a.added).addClass(a.adding).addClass(a.disabled),t.addToCart(e,o,r,!0).then(function(){e.removeClass(a.adding).removeClass(a.disabled).addClass(a.added)}),!1}console.log("woocommerce_params not found!")},o.Item.prototype.addToCart=function(o,t,e,a){var r=n(document.body),d="?add-to-cart="+t,t=[{name:"product_id",value:t},{name:"quantity",value:e},{name:"foogallery_attachment_id",value:this.id},{name:"foogallery_id",value:this.tmpl.id}];return r.trigger("adding_to_cart",[o,t]),n.ajax({type:"POST",url:i.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),data:t}).then(function(o){return o?o.error?a&&(l.string(o.product_url)&&(window.location=o.product_url),window.location=d):r.trigger("added_to_cart",[o.fragments,o.cart_hash]):console.log("An unexpected response was returned from the server.",o),o},function(o,t,e){console.log("FooGallery: Add to cart ajax error.",o,t,e),a&&(window.location=d)})},o.Item.override("doParseItem",function(o){var t=this;return!!t._super(o)&&(o.find(t.tmpl.sel.woo.button).on("click.foogallery",{self:t},t.onAddToCart),!0)}),o.Item.override("doCreateItem",function(){var o=this;return!!o._super()&&(o.$el.find(o.tmpl.sel.woo.button).on("click.foogallery",{self:o},o.onAddToCart),!0)}),o.Item.override("doDestroyItem",function(){var o=this;return o.isParsed&&o.$el.find(o.tmpl.sel.woo.button).off("click.foogallery"),o._super()})}(FooGallery.$,FooGallery,(FooGallery.utils,FooGallery.utils.is),(FooGallery.utils.obj,window.woocommerce_params));