/*
* FooGallery - The Most Intuitive and Extensible Gallery Creation and Management Tool Ever Created for WordPress
* @version 1.2.8
* @link 
* @copyright Steven Usher & Brad Vincent 2015
* @license Released under the GPLv3 license.
*/

!function(a,b,c,d,e,f){b.Slider=b.Component.extend({construct:function(b){var c=this;c._super(b),c.opt=c.tmpl.opt.template,c.cls=c.tmpl.cls.template,c.sel=c.tmpl.sel.template,c.allBreakpointClasses=a.map(c.opt.breakpoints,function(a){return a.classes}).join(" "),c.$contentContainer=a(),c.$contentStage=a(),c.$itemContainer=a(),c.$itemStage=a(),c.$itemPrev=a(),c.$itemNext=a(),c.horizontal=c.opt.horizontal,c.noCaptions=c.opt.noCaptions,c.useViewport=c.opt.useViewport,c.breakpoints=c.opt.breakpoints,c.allowPageScroll=c.opt.allowPageScroll,c.contentNav=c.opt.contentNav,c._current=null,c._contentWidth=0,c._contentHeight=0,c._firstVisible=-1,c._lastVisible=-1,c._breakpoint=null},createChildren:function(){var b=this;return[a("<div/>",{class:b.cls.contentContainer}).append(a("<div/>",{class:b.cls.contentPrev}),a("<div/>",{class:b.cls.contentStage}),a("<div/>",{class:b.cls.contentNext})),a("<div/>",{class:b.cls.itemContainer}).append(a("<div/>",{class:b.cls.itemPrev}),a("<div/>",{class:b.cls.itemStage}),a("<div/>",{class:b.cls.itemNext}))]},destroyChildren:function(){var a=this,b=a.tmpl.$el;b.append(b.find(a.tmpl.sel.item.elem)),a.$contentContainer.remove(),a.$itemContainer.remove()},getContainerWidth:function(){var a=this,b=a.tmpl.$el;return b.is(":visible")?b.outerWidth():b.parents(":visible:first").innerWidth()},preinit:function(){var a=this,b=a.tmpl.$el;a.$contentContainer=b.find(a.sel.contentContainer),a.$contentStage=b.find(a.sel.contentStage),a.$itemContainer=b.find(a.sel.itemContainer),a.$itemStage=b.find(a.sel.itemStage),a.$itemPrev=b.find(a.sel.itemPrev),a.$itemNext=b.find(a.sel.itemNext),a.$contentPrev=b.find(a.sel.contentPrev),a.$contentNext=b.find(a.sel.contentNext),a.horizontal=b.hasClass(a.cls.horizontal)||a.horizontal,a.horizontal&&b.addClass(a.cls.horizontal),a.noCaptions=b.hasClass(a.cls.noCaptions)||a.noCaptions,a.noCaptions&&b.addClass(a.cls.noCaptions),a.contentNav=b.hasClass(a.cls.contentNav)||a.contentNav,a.contentNav&&b.addClass(a.cls.contentNav)},init:function(){var b=this;a(window).on("resize.fg-slider",{self:b},b.tmpl.throttle(b.onWindowResize,b.opt.throttle)),b.$itemPrev.on("click.fg-slider",{self:b},b.onPrevClick),b.$itemNext.on("click.fg-slider",{self:b},b.onNextClick),b.$contentPrev.on("click.fg-slider",{self:b},b.onContentPrevClick),b.$contentNext.on("click.fg-slider",{self:b},b.onContentNextClick),b.$contentContainer.fgswipe({data:{self:b},allowPageScroll:b.allowPageScroll,swipe:b.onContentSwipe}),b.$itemContainer.fgswipe({data:{self:b},swipe:b.onItemSwipe}).on("DOMMouseScroll.fg-slider mousewheel.fg-slider",{self:b},b.onItemMouseWheel)},destroy:function(){var b=this;a(window).off("resize.fg-slider"),b.$itemPrev.off("click.fg-slider"),b.$itemNext.off("click.fg-slider"),b.$contentPrev.off("click.fg-slider"),b.$contentNext.off("click.fg-slider"),b.$contentContainer.fgswipe("destroy"),b.$itemContainer.fgswipe("destroy").off("DOMMouseScroll.fg-slider mousewheel.fg-slider"),b._current=null,b._contentWidth=0,b._contentHeight=0,b._firstVisible=-1,b._lastVisible=-1,b._breakpoint=null},reset:function(){var a=this;a._current=null,a.redraw(),a.setSelected(0)},getBreakpoint:function(){var b=this,c=b.useViewport?a(window).width():b.getContainerWidth();b.breakpoints.sort(function(a,b){return a.width-b.width});for(var d=0,e=b.breakpoints.length;d<e;d++)if(b.breakpoints[d].width>=c)return b.breakpoints[d];return b.breakpoints[b.breakpoints.length-1]},getMaxVisibleItems:function(){var a=this,b=a.noCaptions?a._breakpoint.items.h.noCaptions:a._breakpoint.items.h.captions;return a.horizontal?b:a._breakpoint.items.v},redraw:function(){var c=this,d=c.tmpl.$el,e=c._current instanceof b.Item?c._current.index:0,f=c.tmpl.getAvailable(),g=f.length,h=c._breakpoint;d.addClass("fgs-transitions-disabled"),c.horizontal=d.hasClass(c.cls.horizontal),d.toggleClass(c.cls.horizontal,c.horizontal),c.noCaptions=d.hasClass(c.cls.noCaptions),d.toggleClass(c.cls.noCaptions,c.noCaptions),c._breakpoint=c.getBreakpoint(),d.removeClass(c.allBreakpointClasses).addClass(c._breakpoint.classes);var i=c.getMaxVisibleItems()-1,j=c.getContainerWidth();if(-1==c._firstVisible||-1==c._lastVisible?(c._firstVisible=0,c._lastVisible=i):c._breakpoint!=h&&(e>c._firstVisible+i&&(c._firstVisible+=e-(c._firstVisible+i)),c._firstVisible=e,c._lastVisible=e+i),c.$itemPrev.toggle(c._firstVisible>0),c.$itemNext.toggle(c._lastVisible<g-1),c._contentWidth=j-(c.horizontal?0:c.noCaptions?c._breakpoint.size.v.items.noCaptions:c._breakpoint.size.v.items.width),c._contentHeight=c.horizontal?c._breakpoint.size.h.height:c._breakpoint.size.v.height,g>0){c.$contentStage.width(c._contentWidth*g);var k=Math.max(j/c.getMaxVisibleItems());a.each(f,function(a,b){b.index=a,b.$content.width(c._contentWidth).css("left",a*c._contentWidth),c.horizontal?b.$el.css({width:k,left:a*k}):b.$el.css({width:"",left:""})}),c.$contentStage.css("transform","translateX(-"+e*c._contentWidth+"px)"),c._itemWidth=c.horizontal?k:c.noCaptions?c._breakpoint.size.v.items.noCaptions:c._breakpoint.size.v.items.width,c._itemHeight=c.horizontal?c._breakpoint.size.h.items:c._breakpoint.size.v.items.height,c.setVisible(c._firstVisible,!1)}d.removeClass("fgs-transitions-disabled")},setLoading:function(b,c){var d=this;c?a("<div/>",{class:"fg-loader"}).appendTo(b.$content.addClass(d.cls.loading)):b.$content.removeClass(d.cls.loading).find(".fg-loader").remove()},setSelected:function(a){var c=this,e=c._current,f=a,g=c.tmpl.getAvailable();if(d.number(a)&&(a=a<0?0:a>=g.length?g.length-1:a,f=g[a]),e!=f&&f instanceof b.Item){if(e instanceof b.Item&&(e.$el.add(e.$content).removeClass(c.cls.selected),"video"===e.type&&(e.$el.add(e.$content).removeClass(c.cls.playing),e.content.detach())),f.$el.add(f.$content).addClass(c.cls.selected),c.$contentStage.css("transform","translateX(-"+f.index*c._contentWidth+"px)"),c.setBackgroundImage(f),"video"!==f.type||!c.tmpl.opt.video.autoPlay&&c.opt.showPlayClose||(f.content.appendTo(f.$content),f.$el.add(f.$content).addClass(c.cls.playing),f.content.load()),c._current=f,f.index<=c._firstVisible||f.index>=c._lastVisible){var h=e instanceof b.Item&&f.index>e.index,i=h?f.index==c._lastVisible?f.index+1:f.index:f.index==c._firstVisible?f.index-1:f.index;c.setVisible(i,h)}var j=f.index-1,k=f.index+1;j=j<0?g.length-1:j>=g.length?0:j,k=k<0?g.length-1:k>=g.length?0:k,c.$contentPrev.data("index",j),c.$contentNext.data("index",k)}},setVisible:function(a,b){var c=this,d=c.tmpl.getAvailable().length,e=c.getMaxVisibleItems()-1;if(a=a<0?0:a>=d?d-1:a,b&&(a=a-e<0?0:a-e),a>=0&&a<d){c._firstVisible=a,c._lastVisible=a+e;var g=c.horizontal?"translateX(-"+(a*c._itemWidth+1)+"px) translateY(0px)":"translateX(0px) translateY(-"+(a*c._itemHeight+1)+"px)";f.start(c.$itemStage,function(a){a.css("transform",g)}).then(function(){c.tmpl.loadAvailable()})}else c.tmpl.loadAvailable();c.$itemPrev.toggle(c._firstVisible>0),c.$itemNext.toggle(c._lastVisible<d-1)},setBackgroundImage:function(b){if(("video"===b.type||"item"===b.type)&&!b.isError&&!b.isBackgroundLoaded&&d.jq(b.$content)){var c=this,e="video"===b.type?b.cover:b.href,f=a("<div/>",{class:"fg-loader"}).appendTo(b.$content.addClass(c.cls.loading)),g=new Image;g.onload=function(){g.onload=g.onerror=null,f.remove(),b.$content.removeClass(c.cls.loading).find(c.sel.contentImage).css("background-image","url('"+e+"')")},g.onerror=function(){f.remove(),b.$content.removeClass(c.cls.loading)},g.src=e,g.complete&&g.onload(),b.isBackgroundLoaded=!0}},onParsedOrCreatedItem:function(b){if(!b.isError){var c=this;b.$anchor.add(b.$image).attr("draggable",!1),b.$anchor.add(b.$caption).off("click.foogallery"),b.$inner.on("click.foogallery",{self:c,item:b},c.onItemClick),b.$content=a("<div/>",{class:c.cls.content}).append(a("<div/>",{class:c.cls.contentImage})).append(a("<p/>",{class:c.cls.contentText}).html(b.caption).append(a("<small/>").html(b.description))),"video"===b.type&&c.opt.showPlayClose&&b.$content.append(a("<div/>",{class:c.cls.contentClose}).on("click.foogallery",{self:c,item:b},c.onCloseVideo),a("<div/>",{class:c.cls.contentPlay}).on("click.foogallery",{self:c,item:b},c.onPlayVideo))}},onDestroyItem:function(a){var b=this;a.content.detach(),a.$el.add(a.$content).removeClass(b.cls.selected).removeClass(b.cls.playing),a.$inner.off("click.foogallery")},onAppendItem:function(a){var b=this;b.$itemStage.append(a.$el),b.$contentStage.append(a.$content),a.isAttached=!0},onDetachItem:function(a){var b=this;a.content.detach(),a.$el.add(a.$content).removeClass(b.cls.selected).removeClass(b.cls.playing).detach(),a.isAttached=!1},onWindowResize:function(a){a.data.self.redraw()},onItemClick:function(a){a.preventDefault(),a.data.self.setSelected(a.data.item)},onContentPrevClick:function(a){a.preventDefault();var b=a.data.self;b.setSelected(b.$contentPrev.data("index"))},onContentNextClick:function(a){a.preventDefault();var b=a.data.self;b.setSelected(b.$contentNext.data("index"))},onPrevClick:function(a){a.preventDefault();var b=a.data.self;b.setVisible(b._firstVisible-1)},onNextClick:function(a){var b=a.data.self;b.setVisible(b._lastVisible+1,!0)},onPlayVideo:function(a){var b=a.data.self,c=a.data.item;c.content.appendTo(c.$content),c.$el.add(c.$content).addClass(b.cls.playing),c.content.load(!0)},onCloseVideo:function(a){var b=a.data.self,c=a.data.item;c.content.detach(),c.$el.add(c.$content).removeClass(b.cls.playing)},onItemMouseWheel:function(a){var b=a.data.self,c=b.tmpl.getAvailable().length-1,d=Math.max(-1,Math.min(1,a.originalEvent.wheelDelta||-a.originalEvent.detail));d>0&&b._firstVisible>0?(b.setVisible(b._firstVisible-1),a.preventDefault()):d<0&&b._lastVisible<c&&(b.setVisible(b._lastVisible+1,!0),a.preventDefault())},onItemSwipe:function(b,c){var d=c.self,e=1;d.horizontal?(e=Math.ceil(b.distance/d._itemWidth),-1!==a.inArray(b.direction,["NE","E","SE"])&&d.setVisible(d._firstVisible-e),-1!==a.inArray(b.direction,["NW","W","SW"])&&d.setVisible(d._lastVisible+e,!0)):(e=Math.ceil(b.distance/d._itemHeight),-1!==a.inArray(b.direction,["SW","S","SE"])&&d.setVisible(d._firstVisible-e),-1!==a.inArray(b.direction,["NW","N","NE"])&&d.setVisible(d._lastVisible+e,!0))},onContentSwipe:function(b,c){var d=c.self;-1!==a.inArray(b.direction,["NE","E","SE"])&&d.setSelected(d._current.index-1),-1!==a.inArray(b.direction,["NW","W","SW"])&&d.setSelected(d._current.index+1)}}),b.Slider.options={horizontal:!1,useViewport:!1,noCaptions:!1,showPlayClose:!0,contentNav:!1,allowPageScroll:{x:!1,y:!0},breakpoints:[{width:480,classes:"fgs-xs",items:{h:{captions:2,noCaptions:5},v:6},size:{h:{height:336,items:56},v:{height:336,items:{noCaptions:70,width:100,height:56}}}},{width:768,classes:"fgs-sm",items:{h:{captions:3,noCaptions:7},v:7},size:{h:{height:420,items:56},v:{height:392,items:{noCaptions:100,width:150,height:56}}}},{width:1024,classes:"fgs-md",items:{h:{captions:4,noCaptions:9},v:6},size:{h:{height:520,items:77},v:{height:461,items:{noCaptions:150,width:220,height:77}}}},{width:1280,classes:"fgs-lg",items:{h:{captions:5,noCaptions:11},v:7},size:{h:{height:546,items:77},v:{height:538,items:{noCaptions:150,width:280,height:77}}}},{width:1600,classes:"fgs-xl",items:{h:{captions:6,noCaptions:13},v:8},size:{h:{height:623,items:77},v:{height:615,items:{noCaptions:150,width:280,height:77}}}}],throttle:150},b.Slider.classes={contentContainer:"fgs-content-container",contentStage:"fgs-content-stage",content:"fgs-content",contentImage:"fgs-content-image",contentText:"fgs-content-text",contentPlay:"fgs-content-play",contentClose:"fgs-content-close",contentPrev:"fgs-content-prev",contentNext:"fgs-content-next",contentNav:"fgs-content-nav",itemContainer:"fgs-item-container",itemStage:"fgs-item-stage",itemPrev:"fgs-item-prev",itemNext:"fgs-item-next",horizontal:"fgs-horizontal",selected:"fgs-selected",loading:"fgs-loading",playing:"fgs-playing",noCaptions:"fgs-no-captions",embed:"fgs-embed",embedable:"fgs-embedable"}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.transition),function(a,b,c,d,e){b.SliderTemplate=b.Template.extend({construct:function(a,c){var d=this;d._super(e.extend({},a,{paging:{type:"none"}}),c),d.slider=new b.Slider(d)},createChildren:function(){return this.slider.createChildren()},destroyChildren:function(){this.slider.destroyChildren()},onPreInit:function(a,b){b.slider.preinit()},onInit:function(a,b){b.slider.init()},onFirstLoad:function(a,b){b.slider.reset()},onAfterFilterChange:function(a,b){b.slider.reset()},onDestroy:function(a,b){b.slider.destroy()},onParsedItem:function(a,b,c){b.slider.onParsedOrCreatedItem(c)},onCreatedItem:function(a,b,c){b.slider.onParsedOrCreatedItem(c)},onDestroyItem:function(a,b,c){b.slider.onDestroyItem(c)},onAppendItem:function(a,b,c){a.preventDefault(),b.slider.onAppendItem(c)},onDetachItem:function(a,b,c){a.preventDefault(),b.slider.onDetachItem(c)},onLayout:function(a,b){b.slider.redraw()}}),b.template.register("slider",b.SliderTemplate,{template:b.Slider.options},{container:"foogallery fg-slider",template:b.Slider.classes})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.transition);