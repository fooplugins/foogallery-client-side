/*
* FooGallery - The Most Intuitive and Extensible Gallery Creation and Management Tool Ever Created for WordPress
* @version 1.4.13
* @link 
* @copyright Steven Usher & Brad Vincent 2015
* @license Released under the GPLv3 license.
*/

!function(a,b){b.$=a}(jQuery,window.FooGallery=window.FooGallery||{}),function(a){if(!a)return void console.warn("jQuery must be included in the page prior to the FooGallery.utils library.");var b={$:a,version:"0.1.8"};b.versionCompare=function(a,b){function c(a){for(var b=a.split("."),c=[],d=0,e=b.length;d<e;d++)c[d]=parseInt(b[d]),isNaN(c[d])&&(c[d]=0);return c}if(!/[\d.]/.test(a)||!/[\d.]/.test(b))return NaN;for(var d=c(a),e=c(b);d.length<e.length;)d.push(0);for(;e.length<d.length;)e.push(0);for(var f=0;f<d.length;++f){if(e.length===f)return 1;if(d[f]!==e[f])return d[f]>e[f]?1:-1}return d.length!==e.length?-1:0},!function(){try{return!!window.FooGallery.utils}catch(a){return!1}}()?window.FooGallery.utils=b:b.versionCompare(b.version,window.FooGallery.utils.version)>0?(console.warn("An older version of FooGallery.utils ("+window.FooGallery.utils.version+") already exists in the page, version "+b.version+" will override it."),window.FooGallery.utils=b):console.warn("A newer version of FooGallery.utils ("+window.FooGallery.utils.version+") already exists in the page, version "+b.version+" will not register itself.")}(jQuery),function(a,b){"0.1.8"===b.version&&(b.is={},b.is.array=function(a){return"[object Array]"===Object.prototype.toString.call(a)},b.is.boolean=function(a){return"[object Boolean]"===Object.prototype.toString.call(a)},b.is.element=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:!!a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},b.is.empty=function(a){if(b.is.undef(a)||null===a)return!0;if(b.is.number(a)&&0===a)return!0;if(b.is.boolean(a)&&!1===a)return!0;if(b.is.string(a)&&0===a.length)return!0;if(b.is.array(a)&&0===a.length)return!0;if(b.is.jq(a)&&0===a.length)return!0;if(b.is.hash(a)){for(var c in a)if(a.hasOwnProperty(c))return!1;return!0}return!1},b.is.error=function(a){return"[object Error]"===Object.prototype.toString.call(a)},b.is.fn=function(a){return a===window.alert||"[object Function]"===Object.prototype.toString.call(a)},b.is.hash=function(a){return b.is.object(a)&&a.constructor===Object&&!a.nodeType&&!a.setInterval},b.is.jq=function(c){return!b.is.undef(a)&&c instanceof a},b.is.number=function(a){return"[object Number]"===Object.prototype.toString.call(a)&&!isNaN(a)},b.is.object=function(a){return"[object Object]"===Object.prototype.toString.call(a)&&!b.is.undef(a)&&null!==a},b.is.promise=function(a){return b.is.object(a)&&b.is.fn(a.then)&&b.is.fn(a.promise)},b.is.size=function(a){return!!(b.is.string(a)&&!b.is.empty(a)||b.is.number(a))&&/^(auto|none|(?:[\d.]*)+?(?:%|px|mm|q|cm|in|pt|pc|em|ex|ch|rem|vh|vw|vmin|vmax)?)$/.test(a)},b.is.string=function(a){return"[object String]"===Object.prototype.toString.call(a)},b.is.undef=function(a){return void 0===a})}(FooGallery.utils.$,FooGallery.utils),function(a,b,c){if("0.1.8"===b.version){b.fn={};var d=Function.prototype.toString;b.fn.CONTAINS_SUPER=/xyz/.test(d.call(function(){xyz}))?/\b_super\b/:/.*/,b.fn.addOrOverride=function(a,e,f){if(c.object(a)&&c.string(e)&&!c.empty(e)&&c.fn(f)){var g=a[e],h=c.fn(g)&&b.fn.CONTAINS_SUPER.test(d.call(f));a[e]=h?function(a,b){return function(){var c=this._super;this._super=a;var d=b.apply(this,arguments);return this._super=c,d}}(g,f):f}},b.fn.apply=function(a,b){function d(){return a.apply(this,b)}return b=c.array(b)?b:[],d.prototype=a.prototype,new d},b.fn.arg2arr=function(a){return Array.prototype.slice.call(a)},b.fn.debounce=function(a,c){var d;return function(){var e=this,f=b.fn.arg2arr(arguments);clearTimeout(d),d=setTimeout(function(){a.apply(e,f)},c)}},b.fn.throttle=function(a,c){var d,e;return function(){var f=this,g=b.fn.arg2arr(arguments);d?(clearTimeout(e),e=setTimeout(function(){Date.now()-d>=c&&(a.apply(f,g),d=Date.now())},c-(Date.now()-d))):(a.apply(f,g),d=Date.now())}},b.fn.check=function(d,e,f,g){function h(a){return function(){return a.apply(d,arguments)}}return f=c.fn(f)?f:a.noop,d=c.object(d)?d:window,e=c.string(e)?b.fn.fetch(e,g):e,h(c.fn(e)?e:f)},b.fn.fetch=function(b,d){return!c.string(b)||c.empty(b)?null:(d=c.object(d)?d:window,a.each(b.split("."),function(a,b){if(!d[b])return!1;d=d[b]}),c.fn(d)?d:null)},b.fn.enqueue=function(d,e,f,g){function h(a,b){try{return n.push(a),b.apply(a,i)}catch(a){return j.reject(a,n),j}}var i=b.fn.arg2arr(arguments),j=a.Deferred(),k=a.Deferred(),l=k.promise(),m=[],n=[],o=!0;return d=i.shift(),e=i.shift(),a.each(d,function(a,d){c.fn(d[e])&&(l=l.then(function(){if(!o){var a=b.fn.arg2arr(arguments);m.push(a)}return o=!1,h(d,d[e])}))}),l.then(function(){if(!o){var a=b.fn.arg2arr(arguments);m.push(a)}o=!1,j.resolve(m)}),l.fail(function(){var a=b.fn.arg2arr(arguments);a.push(n),j.reject.apply(j,a)}),k.resolve(),j.promise()},b.fn.when=function(b){if(!c.array(b)||c.empty(b))return a.when();for(var d=a.Deferred(),e=[],f=b.length,g=0;g<b.length;g++)b[g].then(function(a){e.push(a)}).always(function(){--f||d.resolve(e)});return d.promise()},b.fn.rejectWith=function(c,d){var e=a.Deferred(),f=b.fn.arg2arr(arguments);return e.reject.apply(e,f).promise()},b.fn.resolveWith=function(c,d){var e=a.Deferred(),f=b.fn.arg2arr(arguments);return e.resolve.apply(e,f).promise()},b.fn.resolved=a.Deferred().resolve().promise(),b.fn.rejected=a.Deferred().reject().promise()}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(a,b){if("0.1.8"===a.version){a.url={};var c=document.createElement("a");a.url.parts=function(a){c.href=a;var b=c.port?c.port:-1!==["http:","https:"].indexOf(c.protocol)?"https:"===c.protocol?"443":"80":"",d=c.hostname+(b?":"+b:""),e=c.origin?c.origin:c.protocol+"//"+d,f="/"===c.pathname.slice(0,1)?c.pathname:"/"+c.pathname;return{hash:c.hash,host:d,hostname:c.hostname,href:c.href,origin:e,pathname:f,port:b,protocol:c.protocol,search:c.search}},a.url.full=function(a){return!b.string(a)||b.empty(a)?null:(c.href=a,c.href)},a.url.param=function(a,c,d){if(!b.string(a)||!b.string(c)||b.empty(c))return a;var e,f,g,h;return b.undef(d)?(e=new RegExp("[?|&]"+c+"=([^&;]+?)(&|#|;|$)"),f=e.exec(a)||["",""],g=f[1].replace(/\+/g,"%20"),b.string(g)&&!b.empty(g)?decodeURIComponent(g):null):(b.empty(d)?(e=new RegExp("^([^#]*?)(([^#]*)&)?"+c+"(=[^&#]*)?(&|#|$)"),g=a.replace(e,"$1$3$5").replace(/^([^#]*)((\?)&|\?(#|$))/,"$1$3$4")):(e=new RegExp("([?&])"+c+"[^&]*"),h=c+"="+encodeURIComponent(d),(g=a.replace(e,"$1"+h))!==a||e.test(g)||(g+=(-1!==g.indexOf("?")?"&":"?")+h)),g)}}}(FooGallery.utils,FooGallery.utils.is),function(a,b,c){"0.1.8"===a.version&&(a.str={},a.str.camel=function(a){return b.empty(a)?a:a.toUpperCase()===a?a.toLowerCase():a.replace(/^([A-Z])|[-\s_]+(\w)/g,function(a,c,d){return b.string(d)?d.toUpperCase():c.toLowerCase()})},a.str.kebab=function(a){return b.empty(a)?a:a.match(/[A-Z]{2,}(?=[A-Z][a-z0-9]*|\b)|[A-Z]?[a-z0-9]*|[A-Z]|[0-9]+/g).filter(Boolean).map(function(a){return a.toLowerCase()}).join("-")},a.str.contains=function(a,c,d){return!(!b.string(a)||b.empty(a)||!b.string(c)||b.empty(c))&&(c.length<=a.length&&-1!==(d?a.toUpperCase().indexOf(c.toUpperCase()):a.indexOf(c)))},a.str.containsWord=function(a,c,d){if(!b.string(a)||b.empty(a)||!b.string(c)||b.empty(c)||a.length<c.length)return!1;for(var e=a.split(/\W/),f=0,g=e.length;f<g;f++)if(d?e[f].toUpperCase()===c.toUpperCase():e[f]===c)return!0;return!1},a.str.endsWith=function(a,c){return!b.string(a)||b.empty(a)||!b.string(c)||b.empty(c)?a===c:a.slice(a.length-c.length)===c},a.str.escapeRegExp=function(a){return b.empty(a)?a:a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},a.str.fnv1a=function(a){if(!b.string(a)||b.empty(a))return null;var c,d,e=2166136261;for(c=0,d=a.length;c<d;c++)e^=a.charCodeAt(c),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0},a.str.from=function(c,d){return!b.string(c)||b.empty(c)||!b.string(d)||b.empty(d)?null:a.str.contains(c,d)?c.substring(c.indexOf(d)+d.length):null},a.str.join=function(d,e,f){if(!b.string(d)||!b.string(e))return null;var g=c.arg2arr(arguments);d=g.shift();var h,i,j=g.shift();for(h=0,i=g.length;h<i;h++)e=g[h],b.empty(e)||(a.str.endsWith(j,d)&&(j=j.slice(0,j.length-d.length)),a.str.startsWith(e,d)&&(e=e.slice(d.length)),j+=d+e);return j},a.str.startsWith=function(a,c){return!b.empty(a)&&!b.empty(c)&&a.slice(0,c.length)===c},a.str.until=function(c,d){return b.empty(c)||b.empty(d)?c:a.str.contains(c,d)?c.substring(0,c.indexOf(d)):c},a.str.format=function(a,d,e){var f=c.arg2arr(arguments);if(a=f.shift(),b.empty(a)||b.empty(f))return a;1===f.length&&(b.array(f[0])||b.object(f[0]))&&(f=f[0]);for(var g in f)a=a.replace(new RegExp("\\{"+g+"\\}","gi"),f[g]);return a})}(FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn),function(a,b,c,d,e){if("0.1.8"===b.version){b.obj={};var f=function(){};b.obj.create=function(a){if(!c.object(a))throw TypeError("Argument must be an object");f.prototype=a;var b=new f;return f.prototype=null,b},b.obj.extend=function(e,f,g){e=c.object(e)?e:{};var h=d.arg2arr(arguments);return h.shift(),a.each(h,function(a,c){b.obj.merge(e,c)}),e},b.obj.merge=function(a,d){a=c.hash(a)?a:{},d=c.hash(d)?d:{};for(var e in d)d.hasOwnProperty(e)&&(c.hash(d[e])?(a[e]=c.hash(a[e])?a[e]:{},b.obj.merge(a[e],d[e])):c.array(d[e])?a[e]=d[e].slice():a[e]=d[e]);return a},b.obj.mergeValid=function(d,e,f,g){if(!c.hash(f)||!c.hash(e))return d;e=c.hash(e)?e:{},g=c.hash(g)?g:{};var h,i,j;for(h in e)e.hasOwnProperty(h)&&c.fn(e[h])&&(i=c.array(g[h])?g[h]:c.string(g[h])?[g[h]]:[h],a.each(i,function(a,g){if(j=b.obj.prop(f,g),!c.undef(j))return e[h](j)?(b.obj.prop(d,h,j),!1):void 0}));return d},b.obj.prop=function(b,d,f){if(c.object(b)&&!c.empty(d)){var g,h;if(c.undef(f))return e.contains(d,".")?(g=d.split("."),h=g.length-1,a.each(g,function(a,d){if(a===h)f=b[d];else{if(!c.hash(b[d]))return!1;b=b[d]}})):c.undef(b[d])||(f=b[d]),f;e.contains(d,".")?(g=d.split("."),h=g.length-1,a.each(g,function(a,d){a===h?b[d]=f:b=c.hash(b[d])?b[d]:b[d]={}})):c.undef(b[d])||(b[d]=f)}}}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.str),function(a,b,c){if("0.1.8"===b.version){b.ready=function(a){function c(){try{a.call(window,b.$)}catch(a){console.error(a)}}(Function("/*@cc_on return true@*/")()?"complete"===document.readyState:"loading"!==document.readyState)?c():document.addEventListener("DOMContentLoaded",c,!1)};var d=0;b.uniqueId=function(a,b){var e=a.attr("id");return c.empty(e)&&(b=c.string(b)&&!c.empty(b)?b:"uid-",e=b+ ++d,a.attr("id",e).data("__uniqueId__",!0)),e},b.removeUniqueId=function(a){a.data("__uniqueId__")&&a.removeAttr("id").removeData("__uniqueId__")},b.selectify=function(a){if(c.empty(a))return null;if(c.hash(a)){var d,e={};for(var f in a)a.hasOwnProperty(f)&&(d=b.selectify(a[f]))&&(e[f]=d);return e}return c.string(a)||c.array(a)?(c.string(a)&&(a=[a]),a.map(function(a){return c.string(a)?"."+a.split(/\s/g).join("."):null}).join(",")):null},b.src=function(a,b,d,e,f,g,h){if(!c.string(a))return null;if(!c.string(b))return a;var i=b.replace(/(\s[\d.]+[whx]),/g,"$1 @,@ ").split(" @,@ "),j=i.map(function(a){return{url:/^\s*(\S*)/.exec(a)[1],w:parseFloat((/\S\s+(\d+)w/.exec(a)||[0,1/0])[1]),h:parseFloat((/\S\s+(\d+)h/.exec(a)||[0,1/0])[1]),x:parseFloat((/\S\s+([\d.]+)x/.exec(a)||[0,1])[1])}});if(!j.length)return a;j.unshift({url:a,w:j[0].w!==1/0&&j[0].h===1/0?d:1/0,h:j[0].h!==1/0&&j[0].w===1/0?e:1/0,x:1});var k=c.number(h)?h:window.devicePixelRatio||1,l={w:f*k,h:g*k,x:k},m=["w","h","x"];return m.forEach(function(a){var b=Math.max.apply(null,j.map(function(b){return b[a]}));j=j.filter(function(c){return c[a]>=l[a]||c[a]===b})}),m.forEach(function(a){var b=Math.min.apply(null,j.map(function(b){return b[a]}));j=j.filter(function(c){return c[a]===b})}),j[0].url},b.scrollParent=function(b,d,e){b=c.jq(b)?b:a(b),d=c.string(d)&&/^(x|y|xy|yx)$/i.test(d)?d:"xy";var f=a(!!b.length&&b[0].ownerDocument||document);if(e=c.jq(e)?e:f,!b.length)return e;var g=b.css("position"),h="absolute"===g,i=/(auto|scroll)/i,j=/x/i,k=/y/i,l=b.parentsUntil(e).filter(function(b,c){var e=a(this);if(h&&"static"===e.css("position"))return!1;var f=k.test(d)&&c.scrollHeight>c.clientHeight&&i.test(e.css("overflow-y")),g=j.test(d)&&c.scrollWidth>c.clientWidth&&i.test(e.css("overflow-x"));return f||g}).eq(0);return l.is("html")&&(l=f),"fixed"!==g&&l.length?l:e}}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(a,b,c){function d(a){return setTimeout(a,1)}function e(a){clearTimeout(a)}if("0.1.8"===b.version){b.animation={},b.animation.requestFrame=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||d).bind(window),b.animation.cancelFrame=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||e).bind(window);var f=document.createElement("div");b.animation.supported=function(a){var b=a.style;return c.string(b.animation)||c.string(b.WebkitAnimation)||c.string(b.MozAnimation)||c.string(b.msAnimation)||c.string(b.OAnimation)}(f),b.animation.end=function(a){var b=a.style;return c.string(b.animation)?"animationend":c.string(b.WebkitAnimation)?"webkitAnimationEnd":c.string(b.MozAnimation)?"animationend":c.string(b.msAnimation)?"msAnimationEnd":c.string(b.OAnimation)?"oAnimationEnd":null}(f),b.animation.duration=function(a,b){if(b=c.number(b)?b:0,!c.jq(a))return b;var d=a.css("animation-duration");if(/^([\d.]*)+?(ms|s)$/i.test(d)){var e=d.match(/^([\d.]*)+?(ms|s)$/i),f=parseFloat(e[1]);return"s"===e[2].toLowerCase()&&(f*=1e3),f}return b},b.animation.iterations=function(a,b){if(b=c.number(b)?b:1,!c.jq(a))return b;var d=a.css("animation-iteration-count");return/^(\d+|infinite)$/i.test(d)?"infinite"===d?1/0:parseInt(d):b},b.animation.start=function(d,e,f,g){var h=a.Deferred(),i=h.promise();if(d=d.first(),b.animation.supported){d.prop("offsetTop");var j=d.data("animation_safety");if(c.hash(j)&&c.number(j.timer)&&(clearTimeout(j.timer),d.removeData("animation_safety").off(b.animation.end+".utils"),j.deferred.reject()),!c.number(g)){var k=b.animation.iterations(d);if(k===1/0)return h.reject("No timeout supplied with an infinite animation."),i;g=b.animation.duration(d)*k+50}j={deferred:h,timer:setTimeout(function(){d.removeData("animation_safety").off(b.animation.end+".utils"),h.resolve()},g)},d.data("animation_safety",j),d.on(b.animation.end+".utils",function(a){d.is(a.target)&&(clearTimeout(j.timer),d.removeData("animation_safety").off(b.animation.end+".utils"),h.resolve())})}return b.animation.requestFrame(function(){c.fn(e)?e.apply(d.get(0),[d]):d.toggleClass(e,f),b.animation.supported||h.resolve()}),i}}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){if("0.1.8"===b.version){b.transition={};var e=document.createElement("div");b.transition.supported=function(a){var b=a.style;return c.string(b.transition)||c.string(b.WebkitTransition)||c.string(b.MozTransition)||c.string(b.msTransition)||c.string(b.OTransition)}(e),b.transition.end=function(a){var b=a.style;return c.string(b.transition)?"transitionend":c.string(b.WebkitTransition)?"webkitTransitionEnd":c.string(b.MozTransition)?"transitionend":c.string(b.msTransition)?"msTransitionEnd":c.string(b.OTransition)?"oTransitionEnd":null}(e),b.transition.duration=function(a,b){if(b=c.number(b)?b:0,!c.jq(a))return b;var d=a.css("transition-duration");if(/^([\d.]*)+?(ms|s)$/i.test(d)){var e=d.match(/^([\d.]*)+?(ms|s)$/i),f=parseFloat(e[1]);return"s"===e[2].toLowerCase()&&(f*=1e3),f}return b},b.transition.start=function(e,f,g,h){var i=a.Deferred(),j=i.promise();if(e=e.first(),b.transition.supported){e.prop("offsetTop");var k=e.data("transition_safety");c.hash(k)&&c.number(k.timer)&&(clearTimeout(k.timer),e.removeData("transition_safety").off(b.transition.end+".utils"),k.deferred.reject()),h=c.number(h)?h:b.transition.duration(e)+50,k={deferred:i,timer:setTimeout(function(){e.removeData("transition_safety").off(b.transition.end+".utils"),i.resolve()},h)},e.data("transition_safety",k),e.on(b.transition.end+".utils",function(a){e.is(a.target)&&(clearTimeout(k.timer),e.removeData("transition_safety").off(b.transition.end+".utils"),i.resolve())})}return d.requestFrame(function(){c.fn(f)?f.apply(e.get(0),[e]):e.toggleClass(f,g),b.transition.supported||i.resolve()}),j}}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.animation),function(a,b,c,d,e){"0.1.8"===b.version&&(b.Class=function(){},b.Class.extend=function(a){function f(){if(!c.fn(this.construct))throw new SyntaxError('FooGallery.utils.Class objects must be constructed with the "new" keyword.');this.construct.apply(this,arguments)}a=c.hash(a)?a:{};var g=d.create(this.prototype);for(var h in a)a.hasOwnProperty(h)&&e.addOrOverride(g,h,a[h]);return g.construct=c.fn(g.construct)?g.construct:function(){},f.prototype=g,f.prototype.constructor=c.fn(g.__ctor__)?g.__ctor__:f,f.extend=b.Class.extend,f.override=b.Class.override,f},b.Class.override=function(a,b){e.addOrOverride(this.prototype,a,b)})}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.fn),function(a,b,c){"0.1.8"===a.version&&(a.Event=a.Class.extend({construct:function(a){if(b.empty(a))throw new SyntaxError("FooGallery.utils.Event objects must be supplied a `type`.");var d=c.contains(a,".");this.type=d?c.until(a,"."):a,this.namespace=d?c.from(a,"."):null,this.defaultPrevented=!1,this.target=null},preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented}}),a.EventClass=a.Class.extend({construct:function(){this.__handlers={}},destroy:function(){this.__handlers={}},on:function(a,c,d){var e=this;return b.object(a)?(d=b.undef(c)?this:c,Object.keys(a).forEach(function(b){b.split(" ").forEach(function(c){e.__on(c,a[b],d)})})):b.string(a)&&b.fn(c)&&(d=b.undef(d)?this:d,a.split(" ").forEach(function(a){e.__on(a,c,d)})),e},__on:function(a,d,e){var f=this,g=c.contains(a,"."),h=g?c.until(a,"."):a,i=g?c.from(a,"."):null;b.array(f.__handlers[h])||(f.__handlers[h]=[]),f.__handlers[h].some(function(a){return a.namespace===i&&a.fn===d&&a.thisArg===e})||f.__handlers[h].push({namespace:i,fn:d,thisArg:e})},off:function(a,c,d){var e=this;return b.object(a)?(d=b.undef(c)?this:c,Object.keys(a).forEach(function(c){c.split(" ").forEach(function(f){e.__off(f,b.fn(a[c])?a[c]:null,d)})})):b.string(a)&&(c=b.fn(c)?c:null,d=b.undef(d)?this:d,a.split(" ").forEach(function(a){e.__off(a,c,d)})),e},__off:function(a,d,e){var f=this,g=c.until(a,".")||null,h=c.from(a,".")||null,i=[];b.empty(g)?b.empty(h)||i.push.apply(i,Object.keys(f.__handlers)):i.push(g),i.forEach(function(a){b.array(f.__handlers[a])&&(f.__handlers[a]=f.__handlers[a].filter(function(a){return null!=d?!(a.namespace===h&&a.fn===d&&a.thisArg===e):null!=h&&a.namespace!==h}),0===f.__handlers[a].length&&delete f.__handlers[a])})},trigger:function(c,d){d=b.array(d)?d:[];var e=this,f=[];return c instanceof a.Event?(f.push(c),e.__trigger(c,d)):b.string(c)&&c.split(" ").forEach(function(b){var c=f.push(new a.Event(b))-1;e.__trigger(f[c],d)}),b.empty(f)?null:1===f.length?f[0]:f},__trigger:function(a,c){var d=this;a.target=d,b.array(d.__handlers[a.type])&&d.__handlers[a.type].forEach(function(b){null!=a.namespace&&b.namespace!==a.namespace||b.fn.apply(b.thisArg,[a].concat(c))})}}))}(FooGallery.utils,FooGallery.utils.is,FooGallery.utils.str),function(a,b,c){if("0.1.8"===b.version){b.Bounds=b.Class.extend({construct:function(){var a=this;a.top=0,a.right=0,a.bottom=0,a.left=0,a.width=0,a.height=0},inflate:function(a){var b=this;return c.number(a)&&(b.top-=a,b.right+=a,b.bottom+=a,b.left-=a,b.width+=2*a,b.height+=2*a),b},intersects:function(a){var b=this;return b.left<=a.right&&a.left<=b.right&&b.top<=a.bottom&&a.top<=b.bottom}});var d;b.getViewportBounds=function(c){d||(d=a(window));var e=new b.Bounds;return e.top=d.scrollTop(),e.left=d.scrollLeft(),e.width=d.width(),e.height=d.height(),e.right=e.left+e.width,e.bottom=e.top+e.height,e.inflate(c),e},b.getElementBounds=function(d){c.jq(d)||(d=a(d));var e=new b.Bounds;if(0!==d.length){var f=d.offset();e.top=f.top,e.left=f.left,e.width=d.width(),e.height=d.height()}return e.right=e.left+e.width,e.bottom=e.top+e.height,e}}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d,e){"0.1.8"===b.version&&(b.Timer=b.EventClass.extend({construct:function(a){this._super(),this.interval=c.number(a)?a:1e3,this.isRunning=!1,this.isPaused=!1,this.canResume=!1,this.canRestart=!1,this.__timeout=null,this.__decrement=!1,this.__time=0,this.__remaining=0,this.__current=0,this.__finish=0,this.__restart=[]},__reset:function(){clearTimeout(this.__timeout),this.__timeout=null,this.__decrement=!1,this.__time=0,this.__remaining=0,this.__current=0,this.__finish=0,this.isRunning=!1,this.isPaused=!1,this.canResume=!1},__eventArgs:function(a){return[this.__current,this.__time,this.__decrement].concat(d.arg2arr(arguments))},__tick:function(){var a=this;a.trigger("tick",a.__eventArgs()),a.__current===a.__finish?(a.trigger("complete",a.__eventArgs()),a.__reset()):(a.__decrement?a.__current--:a.__current++,a.__remaining--,a.canResume=a.__remaining>0,a.__timeout=setTimeout(function(){a.__tick()},a.interval))},start:function(a,b){var d=this;d.isRunning||(b=!!c.boolean(b)&&b,d.__restart=[a,b],d.__decrement=b,d.__time=a,d.__remaining=a,d.__current=b?a:0,d.__finish=b?0:a,d.canRestart=!0,d.isRunning=!0,d.isPaused=!1,d.trigger("start",d.__eventArgs()),d.__tick())},countdown:function(a){this.start(a,!0)},countup:function(a){this.start(a,!1)},restart:function(){this.stop(),this.canRestart&&this.start.apply(this,this.__restart)},stop:function(){(this.isRunning||this.isPaused)&&(this.__reset(),this.trigger("stop",this.__eventArgs()))},pause:function(){var a=this;return null!=a.__timeout&&(clearTimeout(a.__timeout),a.__timeout=null),a.isRunning&&(a.isRunning=!1,a.isPaused=!0,a.trigger("pause",a.__eventArgs())),a.__remaining},resume:function(){var a=this;a.canResume&&(a.isRunning=!0,a.isPaused=!1,a.trigger("resume",a.__eventArgs()),a.__tick())},reset:function(){this.__reset(),this.trigger("reset",this.__eventArgs())}}))}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d){"0.1.8"===b.version&&(b.Factory=b.Class.extend({construct:function(){this.registered={}},contains:function(a){return!c.undef(this.registered[a])},load:function(b,e,f){var g,h,i=this,j=d.arg2arr(arguments),k=[],l=[];b=j.shift()||{};for(g in i.registered)if(i.registered.hasOwnProperty(g)){var m=i.registered[g];b.hasOwnProperty(g)&&(h=b[g],c.string(h)&&(h=d.fetch(b[g])),c.fn(h)&&(m={name:g,klass:h,priority:i.registered[g].priority})),k.push(m)}for(g in b)b.hasOwnProperty(g)&&!i.registered.hasOwnProperty(g)&&(h=b[g],c.string(h)&&(h=d.fetch(b[g])),c.fn(h)&&k.push({name:g,klass:h,priority:0}));return k.sort(function(a,b){return b.priority-a.priority}),a.each(k,function(a,b){c.fn(b.klass)&&l.push(d.apply(b.klass,j))}),l},make:function(a,b,e){var f,g=this,h=d.arg2arr(arguments);return a=h.shift(),f=g.registered[a],c.hash(f)&&c.fn(f.klass)?d.apply(f.klass,h):null},names:function(b){b=!!c.boolean(b)&&b;var d,e=[];if(b){var f=[];for(d in this.registered)this.registered.hasOwnProperty(d)&&f.push(this.registered[d]);f.sort(function(a,b){return b.priority-a.priority}),a.each(f,function(a,b){e.push(b.name)})}else for(d in this.registered)this.registered.hasOwnProperty(d)&&e.push(d);return e},register:function(a,b,d){if(!c.string(a)||c.empty(a)||!c.fn(b))return!1;d=c.number(d)?d:0;var e=this.registered[a];return this.registered[a]={name:a,klass:b,priority:c.undef(e)?d:e.priority},!0}}))}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn),function(a,b,c){if("0.1.8"===a.version){var d=!1;try{d=!!window.localStorage}catch(a){d=!1}a.Debugger=a.Class.extend({construct:function(a){this.key=a,this.enabled=!!d&&!!localStorage.getItem(this.key)},enable:function(){d&&(this.enabled=!0,localStorage.setItem(this.key,this.enabled))},disable:function(){d&&(this.enabled=!1,localStorage.removeItem(this.key))},log:function(a,c){this.enabled&&console.log.apply(console,b.arg2arr(arguments))},logf:function(a,d,e){if(this.enabled){var f=b.arg2arr(arguments);a=f.shift(),d=f.shift(),f.unshift(c.format(a,d)),this.log.apply(this,f)}}})}}(FooGallery.utils,FooGallery.utils.fn,FooGallery.utils.str),function(a,b,c){"0.1.8"===b.version&&(b.FullscreenAPI=b.EventClass.extend({construct:function(){this._super(),this.apis={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},webkit:{enabled:"webkitFullscreenEnabled",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},moz:{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}}},this.api=this.getAPI(),this.supported=null!=this.api,this.__listen()},destroy:function(){return this.__stopListening(),this._super()},getAPI:function(){for(var a in this.apis)if(this.apis.hasOwnProperty(a)&&this.apis[a].enabled in document)return this.apis[a];return null},element:function(){return this.supported?document[this.api.element]:null},request:function(b){if(this.supported&&b[this.api.request]){var d=b[this.api.request]();return d||a.Deferred(this.__resolver(this.api.request)).promise()}return c.rejected},exit:function(){if(this.supported&&this.element()){var b=document[this.api.exit]();return b||a.Deferred(this.__resolver(this.api.exit)).promise()}return c.rejected},toggle:function(a){return this.element()?this.exit():this.request(a)},__listen:function(){var b=this;b.supported&&a(document).on(b.api.events.change+".utils",function(){b.trigger("change")}).on(b.api.events.error+".utils",function(){b.trigger("error")})},__stopListening:function(){var b=this;b.supported&&a(document).off(b.api.events.change+".utils").off(b.api.events.error+".utils")},__resolver:function(b){var c=this;return function(d){function e(){d.resolve(),a(document).off(c.api.events.change,e).off(c.api.events.error,f)}function f(){d.reject(new TypeError),a(document).off(c.api.events.change,e).off(c.api.events.error,f)}if(b===c.api.exit&&c.element())return void setTimeout(function(){d.reject(new TypeError)},1);a(document).on(c.api.events.change,e).on(c.api.events.error,f)}}}),b.fullscreen=new b.FullscreenAPI)}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.fn),function(a,b,c,d,e){b.debug=new c.Debugger("__FooGallery__"),b.EMPTY_IMAGE="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",b.DATA_TEMPLATE="__FooGallery__",b.DATA_ITEM="__FooGalleryItem__",b.get=function(c){return a(c).data(b.DATA_TEMPLATE)},b.init=function(c,e){if(e=d.jq(e)?e:a(e),e.length>0){var f=e.data(b.DATA_TEMPLATE);if(f instanceof b.Template)return f.destroy(!0).then(function(){return b.template.make(c,e).initialize()})}return b.template.make(c,e).initialize()},b.initAll=function(c){return e.when(a(".foogallery").map(function(a,d){return b.init(c,d)}).get())},a.fn.foogallery=function(c,e){return e=d.fn(e)?e:a.noop,this.each(function(f,g){if(d.string(c)){var h=a.data(g,b.DATA_TEMPLATE);if(h instanceof b.Template)switch(c){case"layout":return void h.layout();case"destroy":return void h.destroy()}}else b.init(c,g).then(e)})},b.isCached=function(a){var b=new Image;b.src=a;var c=b.complete;return b.src="",b=null,c},b.supportedExifProperties=["aperture","camera","date","exposure","focalLength","iso","orientation"],d.exif=function(a){if(d.object(a)){var c=Object.keys(a);return c.length>0&&c.some(function(c){return-1!==b.supportedExifProperties.indexOf(c)&&!d.empty(a[c])})}return!1}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.str),function(a,b,c,d,e){b.Icons=c.Class.extend({construct:function(){this.className="fg-icon",this.registered={default:{close:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M13.957 3.457l-1.414-1.414-4.543 4.543-4.543-4.543-1.414 1.414 4.543 4.543-4.543 4.543 1.414 1.414 4.543-4.543 4.543 4.543 1.414-1.414-4.543-4.543z"></path></svg>',"arrow-left":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M10.5 16l1.5-1.5-6.5-6.5 6.5-6.5-1.5-1.5-8 8 8 8z"></path></svg>',"arrow-right":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M5.5 0l-1.5 1.5 6.5 6.5-6.5 6.5 1.5 1.5 8-8-8-8z"></path></svg>',maximize:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M2 2v4h-2v-5c0-0.552 0.448-1 1-1h14c0.552 0 1 0.448 1 1v14c0 0.552-0.448 1-1 1h-14c-0.552 0-1-0.448-1-1v-9h9c0.552 0 1 0.448 1 1v7h4v-12h-12z"/></svg>',expand:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M2 5h-2v-4c0-0.552 0.448-1 1-1h4v2h-3v3z"></path><path d="M16 5h-2v-3h-3v-2h4c0.552 0 1 0.448 1 1v4z"></path><path d="M15 16h-4v-2h3v-3h2v4c0 0.552-0.448 1-1 1z"></path><path d="M5 16h-4c-0.552 0-1-0.448-1-1v-4h2v3h3v2z"></path></svg>',shrink:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M3 0h2v4c0 0.552-0.448 1-1 1h-4v-2h3v-3z"></path><path d="M11 0h2v3h3v2h-4c-0.552 0-1-0.448-1-1v-4z"></path><path d="M12 11h4v2h-3v3h-2v-4c0-0.552 0.448-1 1-1z"></path><path d="M0 11h4c0.552 0 1 0.448 1 1v4h-2v-3h-3v-2z"></path></svg>',info:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M7 4.75c0-0.412 0.338-0.75 0.75-0.75h0.5c0.412 0 0.75 0.338 0.75 0.75v0.5c0 0.412-0.338 0.75-0.75 0.75h-0.5c-0.412 0-0.75-0.338-0.75-0.75v-0.5z"></path><path d="M10 12h-4v-1h1v-3h-1v-1h3v4h1z"></path><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5z"></path></svg>',comment:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M3 4h10v1h-10zM3 6h8v1h-8zM3 8h4v1h-4zM14.5 1h-13c-0.825 0-1.5 0.675-1.5 1.5v8c0 0.825 0.675 1.5 1.5 1.5h2.5v4l4.8-4h5.7c0.825 0 1.5-0.675 1.5-1.5v-8c0-0.825-0.675-1.5-1.5-1.5zM14 10h-5.924l-3.076 2.73v-2.73h-3v-7h12v7z"></path></svg>',thumbs:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M3 3v10h-2v-11c0-0.552 0.448-1 1-1h12c0.552 0 1 0.448 1 1v12c0 0.552-0.448 1-1 1h-12c-0.552 0-1-0.448-1-1v-1h4v-2h-2v-2h2v-2h-2v-2h2v-2h2v10h6v-10h-10z"></path></svg>',cart:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M13.238 9c0.55 0 1.124-0.433 1.275-0.962l1.451-5.077c0.151-0.529-0.175-0.962-0.725-0.962h-10.238c0-1.105-0.895-2-2-2h-3v2h3v8.5c0 0.828 0.672 1.5 1.5 1.5h9.5c0.552 0 1-0.448 1-1s-0.448-1-1-1h-9v-1h8.238zM5 4h9.044l-0.857 3h-8.187v-3z"></path><path d="M6 14.5c0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5c0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5z"></path><path d="M15 14.5c0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5c0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5z"></path></svg>',"circle-close":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5z"></path><path d="M10.5 4l-2.5 2.5-2.5-2.5-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 2.5-2.5 2.5 2.5 1.5-1.5-2.5-2.5 2.5-2.5z"></path></svg>',
"auto-progress":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path class="[ICON_CLASS]-idle" d="M11.39 8c2.152-1.365 3.61-3.988 3.61-7 0-0.339-0.019-0.672-0.054-1h-13.891c-0.036 0.328-0.054 0.661-0.054 1 0 3.012 1.457 5.635 3.609 7-2.152 1.365-3.609 3.988-3.609 7 0 0.339 0.019 0.672 0.054 1h13.891c0.036-0.328 0.054-0.661 0.054-1 0-3.012-1.457-5.635-3.609-7zM2.5 15c0-2.921 1.253-5.397 3.5-6.214v-1.572c-2.247-0.817-3.5-3.294-3.5-6.214v0h11c0 2.921-1.253 5.397-3.5 6.214v1.572c2.247 0.817 3.5 3.294 3.5 6.214h-11zM9.462 10.462c-1.12-0.635-1.181-1.459-1.182-1.959v-1.004c0-0.5 0.059-1.327 1.184-1.963 0.602-0.349 1.122-0.88 1.516-1.537h-6.4c0.395 0.657 0.916 1.188 1.518 1.538 1.12 0.635 1.181 1.459 1.182 1.959v1.004c0 0.5-0.059 1.327-1.184 1.963-1.135 0.659-1.98 1.964-2.236 3.537h7.839c-0.256-1.574-1.102-2.879-2.238-3.538z"/><circle class="[ICON_CLASS]-circle" r="4" cx="8" cy="8"/><path class="[ICON_CLASS]-play" d="M3 2l10 6-10 6z"/><path class="[ICON_CLASS]-pause" d="M2 2h5v12h-5zM9 2h5v12h-5z"/></svg>',"exif-aperture":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M 8,0 C 3.5876443,0 0,3.5876443 0,8 c 0,4.412356 3.5876443,8 8,8 4.412356,0 8,-3.587644 8,-8 C 16,3.5876443 12.412356,0 8,0 Z m 0,1 c 3.871916,0 7,3.1280844 7,7 0,3.871916 -3.128084,7 -7,7 C 4.1280844,15 1,11.871916 1,8 1,4.1280844 4.1280844,1 8,1 Z M 7.53125,2.0214844 A 6,6 0 0 0 3.1835938,4.4335938 H 8.9257812 Z M 8.6132812,2.03125 C 9.5587451,3.6702105 10.504247,5.3091484 11.451172,6.9472656 L 12.863281,4.5 A 6,6 0 0 0 8.6132812,2.03125 Z M 2.5957031,5.4101562 A 6,6 0 0 0 2,8 6,6 0 0 0 2.5273438,10.439453 L 5.4296875,5.4101562 Z m 10.8261719,0.033203 -2.855469,4.9433598 h 2.935547 A 6,6 0 0 0 14,8 6,6 0 0 0 13.421875,5.4433592 Z M 4.5722656,8.8945312 3.0996094,11.449219 a 6,6 0 0 0 4.40625,2.527343 z m 2.5820313,2.4707028 1.4960937,2.591797 a 6,6 0 0 0 4.3144534,-2.591797 z"></path></svg>',"exif-camera":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="m 8.0000002,5 a 4,4 0 0 0 -4,4 4,4 0 0 0 4,4 A 4,4 0 0 0 12,9 4,4 0 0 0 8.0000002,5 Z m 0.019531,1.015625 a 3,2.9814477 0 0 1 2.9804688,3 l -1,-0.00586 a 2,2 0 0 0 0,-0.00976 2,2 0 0 0 -1.9863279,-2 z M 5.125,1 C 4.5,1 4,1.5 4,2.125 V 3.0000004 L 1.125,3 C 0.5,2.9999999 0,3.5 0,4.125 v 9.75 C 0,14.5 0.5,15 1.125,15 h 13.75 C 15.5,15 16,14.5 16,13.875 V 4.125 C 16,3.5 15.5,3 14.875,3 H 12 V 2.125 C 12,1.5 11.5,1 10.875,1 Z M 5.25,2.0000004 h 5.5 c 0.125,0 0.25,0.1249996 0.25,0.25 v 1.75 h 3.75 c 0.125,0 0.25,0.1249996 0.25,0.25 V 13.75 C 15,13.875 14.875,14 14.75,14 H 1.25 C 1.125,14 1,13.875 1,13.75 V 4.25 C 1,4.125 1.125,4 1.25,4 l 3.75,4e-7 v -1.75 c 0,-0.1250004 0.125,-0.25 0.25,-0.25 z"></path></svg>',"exif-date":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M 3,1 V 2 H 1 V 15 H 16 V 2 H 14 V 1 H 13 V 2 H 4 V 1 Z M 2,4 H 15 V 14 H 2 Z M 6,5 V 7 H 8 V 5 Z m 3,0 v 2 h 2 V 5 Z m 3,0 v 2 h 2 V 5 Z M 3,8 v 2 H 5 V 8 Z m 3,0 v 2 H 8 V 8 Z m 3,0 v 2 h 2 V 8 Z m 3,0 v 2 h 2 V 8 Z m -9,3 v 2 h 2 v -2 z m 3,0 v 2 h 2 v -2 z m 3,0 v 2 h 2 v -2 z"></path></svg>',"exif-exposure":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M 8,0 C 3.5876443,0 -2.9415707e-8,3.5876443 0,8 c 2.3532563e-7,4.412356 3.5876445,8 8,8 4.412356,0 8,-3.587644 8,-8 C 16,3.5876443 12.412356,0 8,0 Z m 0,1 c 3.871916,0 7,3.1280844 7,7 0,3.871915 -3.128085,7 -7,7 -3.8719154,0 -6.9999998,-3.128085 -7,-7 -3e-8,-3.8719156 3.1280844,-7 7,-7 z M 11.646484,3.6464844 8.6445312,6.6484375 A 1.5,1.5 0 0 0 8,6.5 1.5,1.5 0 0 0 6.5,8 1.5,1.5 0 0 0 8,9.5 1.5,1.5 0 0 0 9.5,8 1.5,1.5 0 0 0 9.3515625,7.3554688 L 12.353516,4.3535156 Z M 2,7.5 v 1 h 2 v -1 z M 7.5,12 v 2 h 1 V 12 Z M 12,7.5 v 1 h 2 v -1 z M 7.5,2 v 2 h 1 V 2 Z"></path></svg>',"exif-focal-length":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="m 1,4.125 -1,0.25 v 7.25 l 1,0.25 z M 5,1 2,4 v 8 l 3,3 h 6.875 C 12.500003,15 13,14.5 13,13.875 V 2.125 C 13,1.4999986 12.5,1 11.875,1 9.576807,0.99914375 7.1414067,0.96597644 5,1 Z M 5.5,2 H 6 V 14 H 5.5 L 3,11.5 v -7 z M 7,2 h 4.75 C 11.875,2 12,2.1249997 12,2.25 v 11.5 c 0,0.125 -0.125,0.250622 -0.25,0.25 H 7 Z m 7,0 c 1,2.2 1.5,4.35 1.5,6 0,1.65 -0.5,3.8 -1.5,6"></path></svg>',"exif-iso":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M 7.5,0 V 1.6015625 C 6.0969201,1.7146076 4.8392502,2.256185 3.828125,3.1210938 L 2.6035156,1.8964844 1.8964844,2.6035156 3.1210938,3.828125 C 2.256185,4.8392502 1.7146076,6.0969201 1.6015625,7.5 H 0 v 1 h 1.6015625 c 0.1130451,1.4030799 0.6546225,2.66075 1.5195313,3.671875 l -1.2246094,1.224609 0.7070312,0.707032 1.2246094,-1.22461 C 4.8392502,13.743815 6.0969201,14.285392 7.5,14.398438 V 16 h 1 v -1.601562 c 1.4030799,-0.113046 2.66075,-0.654623 3.671875,-1.519532 l 1.224609,1.22461 0.707032,-0.707032 -1.22461,-1.224609 C 13.743815,11.16075 14.285392,9.9030799 14.398438,8.5 H 16 v -1 H 14.398438 C 14.285392,6.0969201 13.743815,4.8392502 12.878906,3.828125 L 14.103516,2.6035156 13.396484,1.8964844 12.171875,3.1210938 C 11.16075,2.256185 9.9030799,1.7146076 8.5,1.6015625 V 0 Z M 8,2.5 c 3.043488,0 5.5,2.4565116 5.5,5.5 0,3.043488 -2.456512,5.5 -5.5,5.5 C 4.9565116,13.5 2.5,11.043488 2.5,8 2.5,4.9565116 4.9565116,2.5 8,2.5 Z"></path></svg>',"exif-orientation":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M 1.25,0 C 0.625,0 0,0.625 0,1.25 V 5 H 1 V 3 h 8 v 2 h 1 V 1.25 C 10,0.625 9.375,0 8.75,0 Z m 0,1 h 7.5 C 8.875,1 9,1.125 9,1.25 V 2 H 1 V 1.25 C 1,1.125 1.125,1 1.25,1 Z m 0,5 C 0.625,6 0,6.625 0,7.25 v 7.5 C 0,15.375 0.625,16 1.25,16 h 13.5 C 15.375,16 16,15.375 16,14.75 V 7.25 C 16,6.625 15.375,6 14.75,6 Z m 0,1 H 2 v 3 H 1 V 7.25 C 1,7.125 1.125,7 1.25,7 Z M 3,7 h 10 v 8 H 3 Z m 11,0 h 0.75 C 14.875,7 15,7.125 15,7.25 v 7.5 C 15,14.875 14.875,15 14.75,15 H 14 Z M 1,12 h 1 v 3 H 1.25 C 1.125,15 1,14.875 1,14.75 Z"></path></svg>'}}},register:function(a,b){return!(d.empty(a)||d.empty(b)||!d.string(a)||!d.hash(b))&&(this.registered[a]=e.extend({},this.registered.default,b),!0)},get:function(b,c){var f=this,g="default",h=e.extend({},f.registered.default);d.string(c)&&"default"!==c?(g=c,h=e.extend(h,f.registered[c])):d.hash(c)&&(g="custom",h=e.extend(h,c));var i=d.string(b)&&h.hasOwnProperty(b)?h[b].replace(/\[ICON_CLASS]/g,f.className+"-"+b):null,j=[!1,b,g].map(function(a){return!1===a?f.className:f.className+"-"+a}).join(" ");return a(i).addClass(j)}}),b.icons=new b.Icons}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj),function(a,b,c,d,e){var f="__FooGallerySwipe__",g="ontouchstart"in window,h=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!g,i=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!g,j=g||i;b.Swipe=c.Class.extend({construct:function(b,c){var d=this,f=".fgswipe";d.$el=a(b),d.opt=e.extend({threshold:20,allowPageScroll:!1,swipe:a.noop,data:{}},c),d.active=!1,d.startPoint=null,d.endPoint=null,d.events={start:(j?i?h?"MSPointerDown":"pointerdown":"touchstart":"mousedown")+f,move:(j?i?h?"MSPointerMove":"pointermove":"touchmove":"mousemove")+f,end:(j?i?h?"MSPointerUp":"pointerup":"touchend":"mouseup")+f,leave:(j?i?"mouseleave":null:"mouseleave")+f}},init:function(){var a=this;a.$el.on(a.events.start,{self:a},a.onStart),a.$el.on(a.events.move,{self:a},a.onMove),a.$el.on(a.events.end,{self:a},a.onEnd),d.string(a.events.leave)&&a.$el.on(a.events.leave,{self:a},a.onEnd),a.$el.data(f,a)},destroy:function(){var a=this;a.$el.off(a.events.start,a.onStart),a.$el.off(a.events.move,a.onMove),a.$el.off(a.events.end,a.onEnd),d.string(a.events.leave)&&a.$el.off(a.events.leave,a.onEnd),a.$el.removeData(f)},getAngle:function(a,b){var c=Math.atan2(a.x-b.x,a.y-b.y),d=Math.round(180*c/Math.PI);return 360-(d<0?360-Math.abs(d):d)},getDistance:function(a,b){var c=b.x-a.x,d=b.y-a.y;return c*=c,d*=d,Math.sqrt(c+d)},getDirection:function(a,b){var c=this,d=c.getAngle(a,b);return d>337.5||d<=22.5?"N":d>22.5&&d<=67.5?"NE":d>67.5&&d<=112.5?"E":d>112.5&&d<=157.5?"SE":d>157.5&&d<=202.5?"S":d>202.5&&d<=247.5?"SW":d>247.5&&d<=292.5?"W":d>292.5&&d<=337.5?"NW":"NONE"},getPoint:function(a){var b;return j&&!d.empty(b=a.originalEvent.touches||a.touches)?{x:b[0].pageX,y:b[0].pageY}:d.number(a.pageX)&&d.number(a.pageY)?{x:a.pageX,y:a.pageY}:null},getOffset:function(a){var b=this,c=b.$el.offset();return{left:a.x-c.left,top:a.y-c.top}},onStart:function(a){var b=a.data.self,c=b.getPoint(a);d.empty(c)||(b.active=!0,b.startPoint=b.endPoint=c)},onMove:function(b){var c=b.data.self,e=c.getPoint(b);if(c.active&&!d.empty(e))if(c.endPoint=e,c.opt.allowPageScroll){if(d.hash(c.opt.allowPageScroll)){var f=c.getDirection(c.startPoint,c.endPoint);c.opt.allowPageScroll.x||-1===a.inArray(f,["NE","E","SE","NW","W","SW"])||b.preventDefault(),c.opt.allowPageScroll.y||-1===a.inArray(f,["NW","N","NE","SW","S","SE"])||b.preventDefault()}}else b.preventDefault()},onEnd:function(a){var b=a.data.self;if(b.active){b.active=!1;var c={startPoint:b.startPoint,endPoint:b.endPoint,startOffset:b.getOffset(b.startPoint),endOffset:b.getOffset(b.endPoint),angle:b.getAngle(b.startPoint,b.endPoint),distance:b.getDistance(b.startPoint,b.endPoint),direction:b.getDirection(b.startPoint,b.endPoint)};if(b.opt.threshold>0&&c.distance<b.opt.threshold)return;b.opt.swipe.apply(this,[c,b.opt.data]),b.startPoint=null,b.endPoint=null}}}),a.fn.fgswipe=function(c){return this.each(function(){var e=a(this),g=e.data(f);if(g instanceof b.Swipe){if(d.string(c)&&d.fn(g[c]))return void g[c]();g.destroy()}d.hash(c)&&(g=new b.Swipe(this,c),g.init())})}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj),function(a,b,c,d,e,f){b.TemplateFactory=c.Factory.extend({construct:function(){this.registered={}},register:function(a,b,c,e,f,g){var h=this,i=h._super(a,b,g);if(i){var j=h.registered;j[a].opt=d.hash(c)?c:{},j[a].cls=d.hash(e)?e:{},j[a].il8n=d.hash(f)?f:{}}return i},make:function(b,c){c=d.jq(c)?c:a(c),b=f.extend({},b,c.data("foogallery"));var e=this,g=e.type(b,c);return e.contains(g)?(b=e.options(g,b),e._super(g,b,c)):null},type:function(b,e){e=d.jq(e)?e:a(e);var f=this,g=d.hash(b)&&d.hash(b)&&d.string(b.type)&&f.contains(b.type)?b.type:"core";if("core"===g&&e.length>0)for(var h=f.registered,i=f.names(!0),j=0,k=i.length;j<k;j++)if(h.hasOwnProperty(i[j])){var l=i[j],m=h[l].cls;if(d.string(m.container)){var n=c.selectify(m.container);if(e.is(n)){g=i[j];break}}}return g},configure:function(a,b,c,d){var e=this;if(e.contains(a)){var g=e.registered;f.extend(g[a].opt,b),f.extend(g[a].cls,c),f.extend(g[a].il8n,d)}},options:function(a,c){c=f.extend({type:a},c);var e=this,g=e.registered,h=g.core.opt,i=g.core.cls,j=g.core.il8n;return d.hash(c.cls)||(c.cls={}),d.hash(c.il8n)||(c.il8n={}),d.undef(b.filtering)||(c=b.filtering.merge(c)),d.undef(b.paging)||(c=b.paging.merge(c)),"core"!==a&&e.contains(a)?(c=f.extend({},h,g[a].opt,c),c.cls=f.extend({},i,g[a].cls,c.cls),c.il8n=f.extend({},j,g[a].il8n,c.il8n)):(c=f.extend({},h,c),c.cls=f.extend({},i,c.cls),c.il8n=f.extend({},j,c.il8n)),c}}),b.template=new b.TemplateFactory}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d,e){a.PagingFactory=b.Factory.extend({construct:function(){this.registered={}},register:function(a,b,d,e,f,g,h){var i=this,j=i._super(a,b,h);if(j){var k=i.registered;k[a].ctrl=c.fn(d)?d:null,k[a].opt=c.hash(e)?e:{},k[a].cls=c.hash(f)?f:{},k[a].il8n=c.hash(g)?g:{}}return j},type:function(a){var b,d=this;return c.hash(a)&&c.hash(b=a.paging)&&c.string(b.type)&&d.contains(b.type)?b.type:null},merge:function(a){a=e.extend({},a);var b=this,d=b.type(a),f=b.registered,g=f.default.opt,h=f.default.cls,i=f.default.il8n,j=c.hash(a.paging)?a.paging:{},k=c.hash(a.cls)&&c.hash(a.cls.paging)?e.extend({},a.cls.paging):{},l=c.hash(a.il8n)&&c.hash(a.il8n.paging)?e.extend({},a.il8n.paging):{};return c.hash(a.cls)||(a.cls={}),c.hash(a.il8n)||(a.il8n={}),"default"!==d&&b.contains(d)?(a.paging=e.extend({},g,f[d].opt,j,{type:d}),a.cls=e.extend(a.cls,{paging:h},{paging:f[d].cls},{paging:k}),a.il8n=e.extend(a.il8n,{paging:i},{paging:f[d].il8n},{paging:l})):(a.paging=e.extend({},g,j,{type:d}),a.cls=e.extend(a.cls,{paging:h},{paging:k}),a.il8n=e.extend(a.il8n,{paging:i},{paging:l})),a},configure:function(a,b,c,d){var f=this;if(f.contains(a)){var g=f.registered;e.extend(g[a].opt,b),e.extend(g[a].cls,c),e.extend(g[a].il8n,d)}},hasCtrl:function(a){var b=this,d=b.registered[a];return c.hash(d)&&c.fn(d.ctrl)},makeCtrl:function(a,b,d,e){var f=this,g=f.registered[a];return c.hash(g)&&c.fn(g.ctrl)?new g.ctrl(b,d,e):null}}),a.paging=new a.PagingFactory}(FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d,e){a.FilteringFactory=b.Factory.extend({construct:function(){this.registered={}},register:function(a,b,d,e,f,g,h){var i=this,j=i._super(a,b,h);if(j){var k=i.registered;k[a].ctrl=c.fn(d)?d:null,k[a].opt=c.hash(e)?e:{},k[a].cls=c.hash(f)?f:{},k[a].il8n=c.hash(g)?g:{}}return j},type:function(a){var b,d=this;return c.hash(a)&&c.hash(b=a.filtering)&&c.string(b.type)&&d.contains(b.type)?b.type:null},merge:function(a){a=e.extend({},a);var b=this,d=b.type(a),f=b.registered,g=f.default.opt,h=f.default.cls,i=f.default.il8n,j=c.hash(a.filtering)?a.filtering:{},k=c.hash(a.cls)&&c.hash(a.cls.filtering)?e.extend({},a.cls.filtering):{},l=c.hash(a.il8n)&&c.hash(a.il8n.filtering)?e.extend({},a.il8n.filtering):{};return c.hash(a.cls)||(a.cls={}),c.hash(a.il8n)||(a.il8n={}),"default"!==d&&b.contains(d)?(a.filtering=e.extend({},g,f[d].opt,j,{type:d}),a.cls=e.extend(a.cls,{filtering:h},{filtering:f[d].cls},{filtering:k}),a.il8n=e.extend(a.il8n,{filtering:i},{filtering:f[d].il8n},{filtering:l})):(a.filtering=e.extend({},g,j,{type:d}),a.cls=e.extend(a.cls,{filtering:h},{filtering:k}),a.il8n=e.extend(a.il8n,{filtering:i},{filtering:l})),a},configure:function(a,b,c,d){var f=this;if(f.contains(a)){var g=f.registered;e.extend(g[a].opt,b),e.extend(g[a].cls,c),e.extend(g[a].il8n,d)}},hasCtrl:function(a){var b=this,d=b.registered[a];return c.hash(d)&&c.fn(d.ctrl)},makeCtrl:function(a,b,d,e){var f=this,g=f.registered[a];return c.hash(g)&&c.fn(g.ctrl)?new g.ctrl(b,d,e):null}}),a.filtering=new a.FilteringFactory}(FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d,e,f){var g=0;b.Breakpoints=c.Class.extend({construct:function(a){var c=this;c.namespace=".foogallery-breakpoints-"+ ++g,c.opt=e.extend({},b.Breakpoints.defaults,a),c.registered=[],c.robserver=new ResizeObserver(f.throttle(function(a){a.forEach(function(a){c.checkEntry(a)})},50))},destroy:function(){this.robserver.disconnect(),this.registered=[]},register:function(b,c,e,f){if(!d.jq(b)||!d.hash(c))return-1;var g=this,h=g.parse(c),i=h.reduce(function(a,b){return a.concat([b.className,b.className+g.opt.suffixWidth,b.className+g.opt.suffixHeight])},[g.opt.prefix+"portrait",g.opt.prefix+"landscape"]).join(" ");return g.robserver.observe(b.get(0)),g.registered.push({$element:b,simple:h.every(function(a){return a.simple}),current:"",orientation:null,breakpoints:h,classNames:i,callback:d.fn(e)?e:a.noop,thisArg:d.undef(f)?g:f})-1},remove:function(a){if(d.jq(a)){var b=this;b.robserver.unobserve(a.get(0)),b.registered=b.registered.filter(function(b){return b.$element.get(0)!==a.get(0)})}},find:function(a){for(var b,c=this,d=0,e=c.registered.length;d<e;d++)if(b=c.registered[d],b.$element.get(0)===a)return b;return null},current:function(a){if(!d.jq(a))return"";var b=this,c=b.find(a.get(0));return d.hash(c)?c.current:""},parse:function(a){var b=this,c=[];for(var e in a)if(a.hasOwnProperty(e)){var f,g,h=!1;d.number(a[e])?(f=a[e],g=0,h=!0):d.hash(a[e])&&(f=a[e].width||0,g=a[e].height||0),c.push({name:e,width:f,height:g,className:b.opt.prefix+e,simple:h})}return c.sort(function(a,b){return a.width<b.width?-1:a.width>b.width?1:0}),c},check:function(a){var b=this;if(d.jq(a)){var c=b.find(a.get(0));d.hash(c)&&b.checkRegistered(c,b.getSize(c))}else b.registered.forEach(function(a){b.checkRegistered(a,b.getSize(a))},b)},checkEntry:function(a){var b=this,c=b.find(a.target),e=a?a.contentRect:null;d.hash(c)&&e&&b.checkRegistered(c,{width:a.contentRect.width||0,height:a.contentRect.height||0,isValid:!0})},checkRegistered:function(a,b){var c=a.orientation,d=this.opt.prefix+(b.height>b.width?"portrait":"landscape"),e=a.current,f=this.getCurrent(a,b);f===e&&d===c||(a.current=f,a.orientation=d,a.$element.removeClass(a.classNames).addClass([f,d].join(" ")),a.callback.call(a.thisArg,a,f,d,e,c))},getSize:function(a){var b,c;if(a.$element.is(":visible"))b=a.$element.width(),c=a.$element.height();else{var e=a.$element.parents(":visible:first");b=e.innerWidth(),c=e.innerHeight()}var f=d.number(b),g=d.number(c);return{width:f?b:0,height:g?c:0,isValid:f&&g}},getCurrent:function(a,b){if(!d.hash(b)||!b.isValid)return"";for(var c,e,f,g,h,i,j=this,k=[],l=!1,m=!1,n=0,o=a.breakpoints.length;n<o;n++)if(c=a.breakpoints[n],e=c.width>0&&(j.opt.mobileFirst?b.width>=c.width:b.width<c.width),f=c.height>0&&(j.opt.mobileFirst?b.height>=c.height:b.height<c.height),e||f)if(a.simple)k.push(c.className);else if(g=e&&(j.opt.mobileFirst||!l),h=f&&(j.opt.mobileFirst||!m),i=j.opt.mobileFirst?g&&h:g||h,i&&k.push(c.className),g&&(k.push(j.opt.prefix+c.name+j.opt.suffixWidth),l=!0),h&&(k.push(j.opt.prefix+c.name+j.opt.suffixHeight),m=!0),!j.opt.mobileFirst&&l&&m)break;return k.join(" ")}}),b.Breakpoints.defaults={prefix:"fg-",suffixWidth:"-width",suffixHeight:"-height",mobileFirst:!0},b.Breakpoints.NONE={name:"none",width:1/0,height:1/0,className:""},b.breakpoints=new b.Breakpoints}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.fn),function(a,b,c,d,e,f){var g=0;b.Template=c.EventClass.extend({construct:function(e,f){var h=this;h._super(),h.namespace=".foogallery-"+ ++g,h.$el=d.jq(f)?f:a(f),h.$scrollParent=null,h.opt=e,h.template=e.template,h.id=h.$el.prop("id")||e.id,h.cls=e.cls,h.il8n=e.il8n,h.sel=c.selectify(h.cls),h.items=b.components.make("items",h),h.pages=d.undef(b.paging)?null:b.paging.make(e.paging.type,h),h.filter=d.undef(b.filtering)?null:b.filtering.make(e.filtering.type,h),h.state=b.components.make("state",h),h._initialize=null,h._checkTimeout=null,h._layoutTimeout=null,h._layoutWidths=[],h.initializing=!1,h.initialized=!1,h.destroying=!1,h.destroyed=!1,h._undo={classes:"",style:"",create:!1,children:!1},h.robserver=new ResizeObserver(function(){h.$el.is(":visible")&&h.layout()})},initialize:function(b){var c=this;return d.promise(c._initialize)?c._initialize:c._initialize=a.Deferred(function(a){c.preInit(b)?c.init().then(function(){c.postInit()?c.firstLoad().then(function(){c.ready(),a.resolve(c)}).fail(a.reject):a.reject("post-init failed")}).fail(a.reject):a.reject("pre-init failed")}).fail(function(a){console.log("initialize failed",c,a),c.destroy()}).promise()},preInit:function(e){var f=this;if(f.destroying)return!1;if(e=d.jq(e)?e:a(e),f.initializing=!0,0===e.length&&0===f.$el.parent().length)return!1;0===f.$el.length&&(f.$el=f.create(),f._undo.create=!0),e.length>0&&f.$el.appendTo(e);var g;d.empty(f.opt.scrollParent)||0===(g=a(f.opt.scrollParent)).length?f.$scrollParent=a(document):f.$scrollParent=g.is("html")?a(document):g,f.$el.data(b.DATA_TEMPLATE,f),d.empty(f.opt.on)||f.$el.on(f.opt.on),f._undo.classes=f.$el.attr("class"),f._undo.style=f.$el.attr("style"),f.$el.is(f.sel.container)||f.$el.addClass(f.cls.container);var h=c.selectify(f.opt.classes);return null==h||f.$el.is(h)||f.$el.addClass(f.opt.classes),f.robserver.observe(f.$el.get(0)),0===f.$el.children().not(f.sel.item.elem).length&&(f.$el.append(f.createChildren()),f._undo.children=!0),!f.raise("pre-init").isDefaultPrevented()},init:function(){var a=this;return a.raise("init").isDefaultPrevented()?e.rejectWith("init default prevented"):a.items.fetch()},postInit:function(){var b=this;return!b.destroying&&(!b.raise("post-init").isDefaultPrevented()&&(b.state.init(),b.$scrollParent.on("scroll"+b.namespace,{self:b},e.throttle(function(){b.loadAvailable()},50)),a(window).on("popstate"+b.namespace,{self:b},b.onWindowPopState),!0))},firstLoad:function(){var a=this;return a.destroying?e.rejected:(a.raise("first-load"),a.loadAvailable())},ready:function(){var a=this;return!a.destroying&&(a.initializing=!1,a.initialized=!0,a._check(1e3),a.raise("ready"),!0)},create:function(){var b=this;return a("<div/>",{id:b.id,class:b.cls.container}).addClass(b.opt.classes)},createChildren:function(){return a()},destroy:function(b){var c=this,f=c._super.bind(c);return c.destroyed?e.resolved:(c.destroying=!0,a.Deferred(function(a){c.initializing&&d.promise(c._initialize)?c._initialize.always(function(){c.destroying=!1,c.doDestroy(b),a.resolve()}):(c.destroying=!1,c.doDestroy(b),a.resolve())}).then(function(){f()}).promise())},doDestroy:function(c){var e=this;e.destroyed||(e.raise("destroy"),e.robserver.disconnect(),e._checkTimeout&&clearTimeout(e._checkTimeout),e.$scrollParent.off(e.namespace),a(window).off(e.namespace),e.state.destroy(c),e.filter&&e.filter.destroy(),e.pages&&e.pages.destroy(),e.items.destroy(),d.empty(e.opt.on)||e.$el.off(e.opt.on),e.raise("destroyed"),e.$el.removeData(b.DATA_TEMPLATE),d.empty(e._undo.classes)?e.$el.removeAttr("class"):e.$el.attr("class",e._undo.classes),d.empty(e._undo.style)?e.$el.removeAttr("style"):e.$el.attr("style",e._undo.style),e._undo.children&&e.destroyChildren(),e._undo.create&&e.$el.remove(),e.$el=e.state=e.items=e.pages=null,e.destroyed=!0,e.initializing=!1,e.initialized=!1)},destroyChildren:function(){},getAvailable:function(){return this.pages?this.pages.available():this.items.available()},loadAvailable:function(){return this.items.load(this.getAvailable())},getItems:function(){return this.pages?this.pages.items():this.items.available()},_check:function(a){a=d.number(a)?a:0;var b=this;return b._checkTimeout&&clearTimeout(b._checkTimeout),b._checkTimeout=setTimeout(function(){b._checkTimeout=null,!b.initialized||b.destroying&&b.destroyed||b.loadAvailable()},a)},raise:function(c,e){if(this.destroying||this.destroyed||!d.string(c)||d.empty(c))return null;e=d.array(e)?e:[];var g=this,h=c.split(".")[0],i=f.camel("on-"+h),j=a.Event(h+".foogallery");return e.unshift(g),g.trigger(h,e).defaultPrevented&&j.preventDefault(),g.$el.trigger(j,e),b.debug.logf("{id}|{name}:",{id:g.id,name:h},e),d.fn(g[i])&&(e.unshift(j),g[i].apply(g.$el.get(0),e)),j},layout:function(){var a=this,b=a.getContainerWidth();null===a._initialize||a._checkWidth(b)||a.raise("layout",[b])},_checkWidth:function(a){var b,c=this;return(b=-1!==c._layoutWidths.indexOf(a))||(c._layoutWidths.unshift(a),c._layoutWidths.splice(2,c._layoutWidths.length-2),null!=c._layoutTimeout&&clearTimeout(c._layoutTimeout),c._layoutTimeout=setTimeout(function(){c._layoutWidths.splice(0,c._layoutWidths.length)},100)),b},getContainerWidth:function(){var a=this;return a.$el.is(":visible")?a.$el.width():a.$el.parents(":visible:first").innerWidth()},getCSSClass:function(a,b){b=d.empty(b)?"":b;var c=a instanceof RegExp?a:d.string(a)&&this.opt.regex.hasOwnProperty(a)?this.opt.regex[a]:null,e=this.$el.prop("className")||"",f=null!=c?e.match(c):null;return null!=f&&f.length>=2?f[1]:b},onWindowPopState:function(a){var b=a.data.self,c=a.originalEvent.state;d.empty(c)||c.id!==b.id||(b.state.set(c),b.loadAvailable())}}),b.template.register("core",b.Template,{id:null,type:"core",classes:"",on:{},lazy:!0,viewport:200,items:[],fixLayout:!0,scrollParent:null,delay:0,throttle:50,timeout:6e4,srcset:"data-srcset-fg",src:"data-src-fg",template:{},regex:{theme:/(?:\s|^)(fg-(?:light|dark|custom))(?:\s|$)/,loadingIcon:/(?:\s|^)(fg-loading-(?:default|bars|dots|partial|pulse|trail))(?:\s|$)/,hoverIcon:/(?:\s|^)(fg-hover-(?:zoom|zoom2|zoom3|plus|circle-plus|eye|external|tint))(?:\s|$)/,videoIcon:/(?:\s|^)(fg-video-(?:default|1|2|3|4))(?:\s|$)/,hoverColor:/(?:\s|^)(fg-hover-(?:colorize|grayscale))(?:\s|$)/,hoverScale:/(?:\s|^)(fg-hover-scale)(?:\s|$)/,stickyVideoIcon:/(?:\s|^)(fg-video-sticky)(?:\s|$)/,insetShadow:/(?:\s|^)(fg-shadow-inset-(?:small|medium|large))(?:\s|$)/,filter:/(?:\s|^)(fg-filter-(?:1977|amaro|brannan|clarendon|earlybird|lofi|poprocket|reyes|toaster|walden|xpro2|xtreme))(?:\s|$)/}},{container:"foogallery"},{},-100)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.str),function(a,b,c){a.Component=b.Class.extend({construct:function(a){this.tmpl=a},destroy:function(){this.tmpl=null}}),a.EventComponent=b.EventClass.extend({construct:function(a,b){this._super(a),this.tmpl=a,this.tmplEventPrefix=b},destroy:function(){this._super(),this.tmpl=null},trigger:function(a,d){var e,f,g=this,h=g._super(a,d);return null!=g.tmpl&&(h instanceof b.Event&&!h.isDefaultPrevented()?(e=null!=h.namespace?[h.type,h.namespace].join("."):h.type,(f=g.tmpl.raise(g.tmplEventPrefix+e,d))&&f.isDefaultPrevented()&&h.preventDefault()):c.array(h)&&h.forEach(function(a){a.isDefaultPrevented()||(e=null!=a.namespace?[a.type,a.namespace].join("."):a.type,(f=g.tmpl.raise(g.tmplEventPrefix+e,d))&&f.isDefaultPrevented()&&a.preventDefault())})),c.empty(h)?null:1===h.length?h[0]:h}}),a.components=new b.Factory}(FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d,e){b.State=b.Component.extend({construct:function(a){var b=this;b._super(a),b.apiEnabled=!!window.history&&!!history.replaceState,b.opt=b.tmpl.opt.state,b.enabled=b.opt.enabled,b.current={filter:[],page:0,item:null},b.pushOrReplace=b.isPushOrReplace(b.opt.pushOrReplace)?b.opt.pushOrReplace:"replace",b.defaultMask="foogallery-gallery-{id}";var c=d.escapeRegExp(b.tmpl.id),e=d.escapeRegExp(b.getMasked()),f=d.escapeRegExp(b.opt.values),g=d.escapeRegExp(b.opt.pair);b.regex={exists:new RegExp("^#"+c+"\\"+f+".+?"),masked:new RegExp("^#"+e+"\\"+f+".+?"),values:new RegExp("(\\w+)"+g+"([^"+f+"]+)","g")}},destroy:function(a){var b=this;a||b.clear(),b.opt=b.regex={},b._super()},init:function(){this.set(this.initial())},getIdNumber:function(){return this.tmpl.id.match(/\d+/g)[0]},getMasked:function(){var a=this,b=d.contains(a.opt.mask,"{id}")?a.opt.mask:a.defaultMask;return d.format(b,{id:a.getIdNumber()})},isPushOrReplace:function(b){return-1!==a.inArray(b,["push","replace"])},exists:function(){return this.regex.values.lastIndex=0,(this.regex.exists.test(location.hash)||this.regex.masked.test(location.hash))&&this.regex.values.test(location.hash)},parse:function(){var b=this,c=b.tmpl,d={};if(b.exists())if(b.enabled){d.id=b.tmpl.id,b.regex.values.lastIndex=0;var e=location.hash.match(b.regex.values);a.each(e,function(a,e){var f,g=e.split(b.opt.pair);if(2===g.length)switch(g[0]){case b.opt.itemKey:f=c.items.fromHash(g[1]),null!==f&&(d.item=f);break;case b.opt.pageKey:c.pages&&null!==(f=c.pages.fromHash(g[1]))&&(d.page=f);break;case b.opt.filterKey:c.filter&&null!==(f=c.filter.fromHash(g[1]))&&(d.filter=f)}})}else b.apiEnabled?history.replaceState(null,"",location.pathname+location.search):location.hash="#";return d},hashify:function(a){var b=this,d=b.tmpl;if(c.hash(a)){var e=[],f=d.items.toHash(a.item);return null!==f&&e.push(b.opt.itemKey+b.opt.pair+f),d.filter&&null!==(f=d.filter.toHash(a.filter))&&e.push(b.opt.filterKey+b.opt.pair+f),d.pages&&null!==(f=d.pages.toHash(a.page))&&e.push(b.opt.pageKey+b.opt.pair+f),e.length>0&&e.unshift("#"+b.getMasked()),e.join(b.opt.values)}return""},replace:function(a){var d=this;if(d.enabled&&d.apiEnabled){a.id=d.tmpl.id;var f=d.hashify(a),g=c.empty(f),h=e.extend({},a,{item:a.item instanceof b.Item?a.item.id:a.item});history.replaceState(g?null:h,"",g?location.pathname+location.search:f)}},push:function(a){var d=this;if(d.enabled&&d.apiEnabled){a.id=d.tmpl.id;var f=d.hashify(a),g=c.empty(f),h=e.extend({},a,{item:a.item instanceof b.Item?a.item.id:a.item});history.pushState(g?null:h,"",g?location.pathname+location.search:f)}},update:function(a,b){var c=this;c.enabled&&c.apiEnabled&&(b=c.isPushOrReplace(b)?b:c.pushOrReplace,c[b](a))},clear:function(){this.exists()&&this.replace({})},initial:function(){var a=this,b=a.parse();return c.empty(b)?a.get():e.extend({filter:[],page:1,item:null},b)},get:function(a){var c,d=this,f=d.tmpl,g={};return a instanceof b.Item&&(g.item=a),f.filter&&null!==(c=f.filter.getState())&&(g.filter=c),f.pages&&null!==(c=f.pages.getState())&&(g.page=c),e.extend({filter:[],page:1,item:null},g)},set:function(a){var b=this,d=b.tmpl;if(c.hash(a)){var f=e.extend({filter:[],page:1,item:null},a);d.items.reset();d.raise("before-state",[f]).isDefaultPrevented()||(d.filter&&d.filter.setState(f),d.pages?d.pages.setState(f):(d.items.detach(d.items.all()),d.items.create(d.items.available(),!0)),f.item&&(b.opt.scrollTo&&f.item.scrollTo(),c.empty(a.item)||(a.item=null,b.replace(a))),b.current=f,d.raise("after-state",[f]))}}}),b.template.configure("core",{state:{enabled:!1,scrollTo:!0,pushOrReplace:"replace",mask:"foogallery-gallery-{id}",values:"/",pair:":",array:"+",arraySeparator:",",itemKey:"i",filterKey:"f",pageKey:"p"}}),b.components.register("state",b.State)}(FooGallery.$,FooGallery,FooGallery.utils.is,FooGallery.utils.str,FooGallery.utils.obj),function(a,b,c,d,e,f){b.Items=b.Component.extend({construct:function(a){var b=this;b.ALLOW_CREATE=!0,b.ALLOW_APPEND=!0,b.ALLOW_LOAD=!0,b._super(a),b.maps={},b._fetched=null,b._arr=[],b._available=[];var d=b.tmpl.cls.item.caption;b.tmpl.sel.item.caption.all=c.selectify([d.elem,d.inner,d.title,d.description])},fromHash:function(a){return this.get(a)},toHash:function(a){return a instanceof b.Item?a.id:null},destroy:function(){var b=this,c=b.all(),d=[];c.length>0&&(b.tmpl.raise("destroy-items",[c]),d=a.map(c,function(a){return a.destroy()?a:null}),d.length>0&&b.tmpl.raise("destroyed-items",[d])),b.maps={},b._fetched=null,b._arr=[],b._available=[],b._super()},fetch:function(b){var c=this;if(!b&&d.promise(c._fetched))return c._fetched;var e=c.tmpl,f=e.sel,g=e.opt.items,h=a.Deferred(),i=c.make(e.$el.find(f.item.elem));return d.empty(g)?(i.push.apply(i,c.make(window[e.id+"-items"])),h.resolve(i)):d.array(g)?(i.push.apply(i,c.make(g)),h.resolve(i)):d.string(g)?a.get(g).then(function(a){i.push.apply(i,c.make(a)),h.resolve(i)},function(a,b,c){console.log("FooGallery: GET items error.",g,a,b,c),h.resolve(i)}):h.resolve(i),h.then(function(a){c.setAll(a)}),c._fetched=h.promise()},toJSON:function(a){return(a?this.all():this.available()).map(function(a){return a.toJSON()})},all:function(){return this._arr.slice()},count:function(a){return a?this.all().length:this.available().length},available:function(a){return d.fn(a)?this._available.filter(a,this):this._available.slice()},get:function(a){var b=d.number(a)?"index":"id";return this.maps[b][a]?this.maps[b][a]:null},setAll:function(a){this._arr=d.array(a)?a:[],this.maps=this.createMaps(this._arr),this._available=this.all()},setAvailable:function(a){this.maps=this.createMaps(this._arr),this._available=d.array(a)?a:[]},reset:function(){this.setAvailable(this.all())},find:function(a,b){if(b=d.fn(b)?b:function(){return!0},d.array(a))for(var c=0,e=a.length;c<e;c++)if(!0===b.call(this,a[c]))return a[c];return null},first:function(a){return this.find(this._available,a)},last:function(a){return this.find(this._available.slice().reverse(),a)},next:function(a,c,e){if(!(a instanceof b.Item))return null;e=!!d.boolean(e)&&e;var f=this._available.slice(),g=f.indexOf(a);if(-1!==g){var h=f.slice(0,g);return f=f.slice(g+1),e&&(f=f.concat(h)),this.find(f,c)}return null},prev:function(a,c,e){if(!(a instanceof b.Item))return null;e=!!d.boolean(e)&&e;var f=this._available.slice().reverse(),g=f.indexOf(a);if(-1!==g){var h=f.slice(0,g);return f=f.slice(g+1),e&&(f=f.concat(h)),this.find(f,c)}return null},
createMaps:function(b){b=d.array(b)?b:[];var c={id:{},index:{}};return a.each(b,function(a,b){d.empty(b.id)&&(b.id=""+(a+1)),b.index=a,c.id[b.id]=b,c.index[b.index]=b}),c},loadable:function(b){var e,f=this,g=f.tmpl.opt;return g.lazy&&(e=c.getViewportBounds(g.viewport)),f.ALLOW_LOAD&&d.array(b)?a.map(b,function(a){return a.isCreated&&a.isAttached&&!a.isLoading&&!a.isLoaded&&!a.isError&&(!g.lazy||g.lazy&&a.intersects(e))?a:null}):[]},creatable:function(c){return this.ALLOW_CREATE&&d.array(c)?a.map(c,function(a){return a instanceof b.Item&&!a.isCreated?a:null}):[]},appendable:function(c){return this.ALLOW_APPEND&&d.array(c)?a.map(c,function(a){return a instanceof b.Item&&a.isCreated&&!a.isAttached?a:null}):[]},detachable:function(c){return d.array(c)?a.map(c,function(a){return a instanceof b.Item&&a.isCreated&&a.isAttached?a:null}):[]},jquerify:function(b){return a(a.map(b,function(a){return a.$el.get()}))},make:function(c){var e=this,g=[];if(d.jq(c)||d.array(c)){var h=[],i=a.makeArray(c);if(0===i.length)return g;e.tmpl.raise("make-items",[i]).isDefaultPrevented()||(g=a.map(i,function(a){var c=e.type(a),g=f.extend(d.hash(a)?a:{},{type:c}),i=b.components.make(c,e.tmpl,g);return d.element(a)?i.parse(a)?(h.push(i),e.ALLOW_APPEND||i.detach(),i):null:i})),g.length>0&&e.tmpl.raise("made-items",[g]),h.length>0&&e.tmpl.raise("parsed-items",[h])}return g},type:function(c){var e;if(d.hash(c))e=c.type;else if(d.element(c)){var f=a(c),g=this.tmpl.sel.item;e=f.find(g.anchor).data("type")}return d.string(e)&&b.components.contains(e)?e:"image"},create:function(b,c){var e=this,f=[],g=e.creatable(b);if(g.length>0){e.tmpl.raise("create-items",[g]).isDefaultPrevented()||(f=a.map(g,function(a){return a.create()?a:null})),f.length>0&&e.tmpl.raise("created-items",[f])}return d.boolean(c)&&c?e.append(b):f},append:function(b){var c=this,d=[],e=c.appendable(b);if(e.length>0){c.tmpl.raise("append-items",[e]).isDefaultPrevented()||(d=a.map(e,function(a){return a.append()?a:null})),d.length>0&&c.tmpl.raise("appended-items",[d])}return d},detach:function(b){var c=this,d=[],e=c.detachable(b);if(e.length>0){c.tmpl.raise("detach-items",[e]).isDefaultPrevented()||(d=a.map(e,function(a){return a.detach()?a:null})),d.length>0&&c.tmpl.raise("detached-items",[d])}return d},load:function(b){var c=this;if(b=c.loadable(b),b.length>0){if(!c.tmpl.raise("load-items",[b]).isDefaultPrevented()){var d=a.map(b,function(a){return a.load()});return e.when(d).done(function(a){c.tmpl.raise("loaded-items",[a])})}}return e.resolveWith([])}}),b.components.register("items",b.Items)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d,e,f,g){b.Item=b.Component.extend({construct:function(a,b){var c=this;c._super(a),c.cls=a.cls.item,c.il8n=a.il8n.item,c.sel=a.sel.item,c.opt=f.extend({},a.opt.item,b),c.isAttached=!1,c.isCreated=!1,c.isDestroyed=!1,c.isLoading=!1,c.isLoaded=!1,c.isError=!1,c.isParsed=!1,c.$el=null,c.$inner=null,c.$anchor=null,c.$overlay=null,c.$wrap=null,c.$image=null,c.$caption=null,c.fixLayout=c.tmpl.opt.fixLayout,c.index=-1,c.type=c.opt.type,c.id=c.opt.id,c.productId=c.opt.productId,c.href=c.opt.href,c.src=c.opt.src,c.srcset=c.opt.srcset,c.width=c.opt.width,c.height=c.opt.height,c.title=c.opt.title,c.alt=c.opt.alt,c.caption=d.empty(c.opt.caption)?c.title:c.opt.caption,c.description=d.empty(c.opt.description)?c.alt:c.opt.description,c.attr=c.opt.attr,c.tags=c.opt.tags,c.maxWidth=c.opt.maxWidth,c.maxCaptionLength=c.opt.maxCaptionLength,c.maxDescriptionLength=c.opt.maxDescriptionLength,c.showCaptionTitle=c.opt.showCaptionTitle,c.showCaptionDescription=c.opt.showCaptionDescription,c.noLightbox=c.opt.noLightbox,c.panelHide=c.opt.panelHide,c.exif=c.opt.exif,c.hasExif=d.exif(c.exif),c._thumbUrl=null,c._load=null,c._undo={classes:"",style:"",loader:!1,wrap:!1,overlay:!1,placeholder:!1}},destroy:function(){var a=this;return a.tmpl.raise("destroy-item",[a]).isDefaultPrevented()||(a.isDestroyed=a.doDestroyItem()),a.isDestroyed&&(a.tmpl.raise("destroyed-item",[a]),a._super()),a.isDestroyed},doDestroyItem:function(){var a=this;return a.isParsed?(a.$anchor.add(a.$caption).off("click.foogallery"),a.append(),d.empty(a._undo.classes)?a.$el.removeAttr("class"):a.$el.attr("class",a._undo.classes),d.empty(a._undo.style)?a.$el.removeAttr("style"):a.$el.attr("style",a._undo.style),a._undo.overlay&&a.$overlay.remove(),a._undo.wrap&&(a.$anchor.append(a.$image),a.$wrap.remove()),a._undo.loader&&a.$el.find(a.sel.loader).remove(),a._undo.placeholder&&a.$image.prop("src")===b.EMPTY_IMAGE&&a.$image.removeAttr("src")):a.isCreated&&(a.detach(),a.$el.remove()),!0},parse:function(b){var c=this,d=a(b);return!c.tmpl.raise("parse-item",[c,d]).isDefaultPrevented()&&(c.isCreated=d.is(c.sel.elem))&&(c.isParsed=c.doParseItem(d),c.fixLayout&&c.fix()),c.isParsed&&c.tmpl.raise("parsed-item",[c]),c.isParsed},doParseItem:function(c){var e=this,g=e.tmpl.opt,h=e.cls,i=e.sel;if(e._undo.classes=c.attr("class")||"",e._undo.style=c.attr("style")||"",e.$el=c.data(b.DATA_ITEM,e),e.$inner=e.$el.children(i.inner),e.$anchor=e.$inner.children(i.anchor).on("click.foogallery",{self:e},e.onAnchorClick),e.$image=e.$anchor.find(i.image),e.$caption=e.$inner.children(i.caption.elem).on("click.foogallery",{self:e},e.onCaptionClick),!(e.$el.length&&e.$inner.length&&e.$anchor.length&&e.$image.length))return console.error("FooGallery Error: Invalid HTML markup. Check the item markup for additional elements or malformed HTML in the title or description.",e),e.isError=!0,e.tmpl.raise("error-item",[e]),0!==e.$el.length&&e.$el.remove(),!1;e.isAttached=e.$el.parent().length>0,e.isLoading=e.$el.is(i.loading),e.isLoaded=e.$el.is(i.loaded),e.isError=e.$el.is(i.error);var j=e.$anchor.attr("data-type",e.type).data();e.id=j.id||e.id,e.productId=j.productId||e.productId,e.tags=j.tags||e.tags,e.href=j.href||e.$anchor.attr("href")||e.href,e.src=e.$image.attr(g.src)||e.src,e.srcset=e.$image.attr(g.srcset)||e.srcset,e.width=parseInt(e.$image.attr("width"))||e.width,e.height=parseInt(e.$image.attr("height"))||e.height,e.title=e.$image.attr("title")||e.title,e.alt=e.$image.attr("alt")||e.alt,e.caption=j.title||j.captionTitle||e.caption||e.title,e.description=j.description||j.captionDesc||e.description||e.alt,e.noLightbox=e.$anchor.hasClass(h.noLightbox),e.panelHide=e.$anchor.hasClass(h.panelHide),d.exif(j.exif)&&(e.exif=f.extend(e.exif,j.exif),e.hasExif=!0),d.empty(e.caption)&&(e.caption=a.trim(e.$caption.find(i.caption.title).html())),d.empty(e.description)&&(e.description=a.trim(e.$caption.find(i.caption.description).html())),d.number(e.maxCaptionLength)&&e.maxCaptionLength>0&&!d.empty(e.caption)&&d.string(e.caption)&&e.caption.length>e.maxCaptionLength&&e.$caption.find(i.caption.title).html(e.caption.substr(0,e.maxCaptionLength)+"&hellip;"),d.number(e.maxDescriptionLength)&&e.maxDescriptionLength>0&&!d.empty(e.description)&&d.string(e.description)&&e.description.length>e.maxDescriptionLength&&e.$caption.find(i.caption.description).html(e.description.substr(0,e.maxDescriptionLength)+"&hellip;"),e.$overlay=e.$anchor.children(i.overlay),0===e.$overlay.length&&(e.$overlay=a("<span/>",{class:h.overlay}),e.$anchor.append(e.$overlay),e._undo.overlay=!0),e.$wrap=e.$anchor.children(i.wrap),0===e.$wrap.length&&(e.$wrap=a("<span/>",{class:h.wrap}),e.$anchor.append(e.$wrap.append(e.$image)),e._undo.wrap=!0),0===e.$el.children(i.loader).length&&(e.$el.append(a("<div/>",{class:h.loader})),e._undo.loader=!0);var k=e.$image.get(0);return d.empty(k.src)&&(k.src=b.EMPTY_IMAGE,e._undo.placeholder=!0),e.$el.addClass(e.getTypeClass()),e.hasExif&&e.$el.addClass(h.exif),!e.isCreated||!e.isAttached||e.isLoading||e.isLoaded||e.isError||e.$el.addClass(h.idle),!0},create:function(){var a=this;if(!a.isCreated&&d.string(a.href)&&d.string(a.src)&&d.number(a.width)&&d.number(a.height)){a.tmpl.raise("create-item",[a]).isDefaultPrevented()||(a.isCreated=a.doCreateItem()),a.isCreated&&a.tmpl.raise("created-item",[a])}return a.isCreated},doCreateItem:function(){var c=this,e=c.tmpl.opt,f=c.cls,g=c.attr,h=c.getTypeClass(),i=c.hasExif?f.exif:"";g.elem.class=[f.elem,h,i,f.idle].join(" "),g.inner.class=f.inner;var j=[f.anchor];c.noLightbox&&j.push(f.noLightbox),c.panelHide&&j.push(f.panelHide),g.anchor.class=j.join(" "),g.anchor.href=c.href,g.anchor["data-type"]=c.type,g.anchor["data-id"]=c.id,g.anchor["data-title"]=c.caption,g.anchor["data-description"]=c.description,d.empty(c.tags)||(g.anchor["data-tags"]=JSON.stringify(c.tags)),d.empty(c.productId)||(g.anchor["data-product-id"]=c.productId),g.image.class=f.image,g.image[e.src]=c.src,g.image[e.srcset]=c.srcset,g.image.width=c.width,g.image.height=c.height,g.image.title=c.title,g.image.alt=c.alt,c.$el=a("<div/>").attr(g.elem).data(b.DATA_ITEM,c),c.$inner=a("<figure/>").attr(g.inner).appendTo(c.$el),c.$anchor=a("<a/>").attr(g.anchor).appendTo(c.$inner).on("click.foogallery",{self:c},c.onAnchorClick),c.$overlay=a("<span/>",{class:f.overlay}).appendTo(c.$anchor),c.$wrap=a("<span/>",{class:f.wrap}).appendTo(c.$anchor),c.$image=a("<img/>").attr(g.image).appendTo(c.$wrap),f=c.cls.caption,g=c.attr.caption,g.elem.class=f.elem,c.$caption=a("<figcaption/>").attr(g.elem).on("click.foogallery",{self:c},c.onCaptionClick),g.inner.class=f.inner;var k=a("<div/>").attr(g.inner).appendTo(c.$caption),l=c.showCaptionTitle&&!d.empty(c.caption),m=c.showCaptionDescription&&!d.empty(c.description);if(l||m){if(g.title.class=f.title,g.description.class=f.description,l){var n=a("<div/>").attr(g.title),o=c.caption;d.number(c.maxCaptionLength)&&c.maxCaptionLength>0&&d.string(c.caption)&&c.caption.length>c.maxCaptionLength&&(o=c.caption.substr(0,c.maxCaptionLength)+"&hellip;"),n.get(0).innerHTML=o,k.append(n)}if(m){var p=a("<div/>").attr(g.description),q=c.description;d.number(c.maxDescriptionLength)&&c.maxDescriptionLength>0&&d.string(c.description)&&c.description.length>c.maxDescriptionLength&&(q=c.description.substr(0,c.maxDescriptionLength)+"&hellip;"),p.get(0).innerHTML=q,k.append(p)}}return c.$caption.appendTo(c.$inner),0===c.$el.find(c.sel.loader).length&&c.$el.append(a("<div/>",{class:c.cls.loader})),!0},append:function(){var a=this;if(a.isCreated&&!a.isAttached){a.tmpl.raise("append-item",[a]).isDefaultPrevented()||(a.tmpl.$el.append(a.$el),!a.fixLayout&&a.isParsed||a.fix(),a.isAttached=!0),a.isAttached&&a.tmpl.raise("appended-item",[a])}return a.isAttached},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.tmpl.raise("detach-item",[a]).isDefaultPrevented()||(a.$el.detach(),!a.fixLayout&&a.isParsed||a.unfix(),a.isAttached=!1),a.isAttached||a.tmpl.raise("detached-item",[a])}return!a.isAttached},load:function(){var b=this;if(d.promise(b._load))return b._load;if(!b.isCreated||!b.isAttached)return e.rejectWith("not created or attached");if(b.tmpl.raise("load-item",[b]).isDefaultPrevented())return e.rejectWith("default prevented");var c=b.cls,f=b.$image.get(0),g=f.src;return b.isLoading=!0,b.$el.removeClass(c.idle).removeClass(c.loaded).removeClass(c.error).addClass(c.loading),b._load=a.Deferred(function(a){f.onload=function(){f.onload=f.onerror=null,b.isLoading=!1,b.isLoaded=!0,b.$el.removeClass(c.loading).addClass(c.loaded),!b.fixLayout&&b.isParsed||b.unfix(),b.tmpl.raise("loaded-item",[b]),a.resolve(b)},f.onerror=function(){f.onload=f.onerror=null,b.isLoading=!1,b.isError=!0,b.$el.removeClass(c.loading).addClass(c.error),d.string(g)&&b.$image.prop("src",g),b.tmpl.raise("error-item",[b]),a.reject(b)},f.src=b.getThumbUrl(),f.complete&&f.onload()}).promise()},fix:function(){var a=this;if(null==a.tmpl)return a;if(a.isCreated&&!a.isLoading&&!a.isLoaded&&!a.isError){var b=a.width,c=a.height,e=a.$image.get(0);if(!isNaN(b)&&!isNaN(c)&&e){var f=d.fn(a.maxWidth)?a.maxWidth(a):a.$image.width();f<=0&&(f=b);var g=f/b,h=c*g;a.$image.css({width:f,height:h})}}return a},unfix:function(){var a=this;return null==a.tmpl?a:(a.isCreated&&a.$image.css({width:"",height:""}),a)},getThumbSrc:function(a,b){return c.src(this.src,this.srcset,this.width,this.height,a,b)},getThumbUrl:function(a){a=!!d.boolean(a)&&a;var b=this;return!a&&d.string(b._thumbUrl)?b._thumbUrl:b._thumbUrl=b.getThumbSrc(b.$anchor.innerWidth(),b.$anchor.innerHeight())},getTypeClass:function(){return this.cls.types.hasOwnProperty(this.type)?this.cls.types[this.type]:""},scrollTo:function(a){var b=this;if(b.isAttached){var d=b.bounds(),e=c.getViewportBounds();switch(a){case"top":d.left+=d.width/2-e.width/2,d.top-=e.height/5;break;default:d.left+=d.width/2-e.width/2,d.top+=d.height/2-e.height/2}window.scrollTo(d.left,d.top)}return b},bounds:function(){return this.isAttached?c.getElementBounds(this.$el):null},intersects:function(a){return!!this.isAttached&&this.bounds().intersects(a)},updateState:function(){this.tmpl.state.update(this.tmpl.state.get(this))},toJSON:function(){return{type:this.type,id:this.id,productId:this.productId,href:this.href,src:this.src,srcset:this.srcset,width:this.width,height:this.height,alt:this.alt,title:this.title,caption:this.caption,description:this.description,tags:this.tags.slice(),maxCaptionLength:this.maxCaptionLength,maxDescriptionLength:this.maxDescriptionLength,showCaptionTitle:this.showCaptionTitle,showCaptionDescription:this.showCaptionDescription,noLightbox:this.noLightbox,panelHide:this.panelHide,attr:f.extend({},this.attr)}},onAnchorClick:function(a){var b=a.data.self;b.tmpl.raise("anchor-click-item",[b]).isDefaultPrevented()?a.preventDefault():b.updateState()},onCaptionClick:function(b){var c=b.data.self;!c.tmpl.raise("caption-click-item",[c]).isDefaultPrevented()&&c.$anchor.length>0&&!a(b.target).is("a,:input")&&c.$anchor.get(0).click()}}),b.template.configure("core",{item:{type:"item",id:"",href:"",src:"",srcset:"",width:0,height:0,title:"",alt:"",caption:"",description:"",tags:[],maxWidth:null,maxCaptionLength:0,maxDescriptionLength:0,showCaptionTitle:!0,showCaptionDescription:!0,noLightbox:!1,panelHide:!1,exif:{aperture:null,camera:null,date:null,exposure:null,focalLength:null,iso:null,orientation:null},attr:{elem:{},inner:{},anchor:{},image:{},caption:{elem:{},inner:{},title:{},description:{}}}}},{item:{elem:"fg-item",inner:"fg-item-inner",exif:"fg-item-exif",anchor:"fg-thumb",overlay:"fg-image-overlay",wrap:"fg-image-wrap",image:"fg-image",loader:"fg-loader",idle:"fg-idle",loading:"fg-loading",loaded:"fg-loaded",error:"fg-error",noLightbox:"fg-no-lightbox",panelHide:"fg-panel-hide",types:{item:"fg-type-unknown"},caption:{elem:"fg-caption",inner:"fg-caption-inner",title:"fg-caption-title",description:"fg-caption-desc"}}},{item:{exif:{aperture:"Aperture",camera:"Camera",date:"Date",exposure:"Exposure",focalLength:"Focal Length",iso:"ISO",orientation:"Orientation"}}}),b.components.register("item",b.Item)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj,FooGallery.utils.str),function(a,b,c,d){b.Image=b.Item.extend({}),b.template.configure("core",null,{item:{types:{image:"fg-type-image"}}}),b.components.register("image",b.Image)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Video=b.Item.extend({construct:function(a,b){var c=this;c._super(a,b),c.cover=c.opt.cover},doParseItem:function(a){var b=this;return!!b._super(a)&&(b.cover=b.$anchor.data("cover")||b.cover,!0)},doCreateItem:function(){var a=this;return!!a._super()&&(a.$anchor.attr("data-cover",a.cover),!0)},toJSON:function(){var a=this._super();return a.cover=this.cover,a}}),b.template.configure("core",{item:{cover:""}},{item:{types:{video:"fg-type-video"}}}),b.components.register("video",b.Video)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Iframe=b.Item.extend({}),b.template.configure("core",null,{item:{types:{iframe:"fg-type-iframe"}}}),b.components.register("iframe",b.Iframe)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Html=b.Item.extend({}),b.template.configure("core",null,{item:{types:{html:"fg-type-html"}}}),b.components.register("html",b.Html)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Embed=b.Video.extend({}),b.template.configure("core",null,{item:{types:{embed:"fg-type-embed fg-type-video"}}}),b.components.register("embed",b.Embed)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Paging=b.Component.extend({construct:function(a){var b=this;b._super(a),b.opt=b.tmpl.opt.paging,b.cls=b.tmpl.cls.paging,b.il8n=b.tmpl.il8n.paging,b.sel=b.tmpl.sel.paging,b.pushOrReplace=b.opt.pushOrReplace,b.type=b.opt.type,b.theme=b.opt.theme,b.size=b.opt.size,b.position=b.opt.position,b.scrollToTop=b.opt.scrollToTop,b.current=0,b.total=0,b.ctrls=[],b._arr=[]},fromHash:function(a){var b=parseInt(a);return isNaN(b)?null:b},toHash:function(a){return d.number(a)&&a>0?a.toString():null},getState:function(){return this.isValid(this.current)?this.current:null},setState:function(a){this.rebuild(),a.item&&!this.contains(a.page,a.item)&&(a.page=this.find(a.item),a.page=0!==a.page?a.page:1),this.set(a.page,!1,!1,!0)},destroy:function(){var b=this;b._arr.splice(0,b._arr.length),a.each(b.ctrls.splice(0,b.ctrls.length),function(a,b){b.destroy()}),b._super()},build:function(){var a=this,c=a.tmpl.items.available();a.total=a.size>0&&c.length>0?Math.ceil(c.length/a.size):1;for(var d=0;d<a.total;d++)a._arr.push(c.splice(0,a.size));if(a.total>1&&b.paging.hasCtrl(a.type)){var e,f,g=a.position;"both"!==g&&"top"!==g||(e=b.paging.makeCtrl(a.type,a.tmpl,a,"top"),e.create()&&(e.append(),a.ctrls.push(e))),"both"!==g&&"bottom"!==g||(f=b.paging.makeCtrl(a.type,a.tmpl,a,"bottom"),f.create()&&(f.append(),a.ctrls.push(f)))}},rebuild:function(){var b=this;b.current=0,b.total=0,b._arr.splice(0,b._arr.length),a.each(b.ctrls.splice(0,b.ctrls.length),function(a,b){b.destroy()}),b.build()},all:function(){return this._arr.slice()},available:function(){return this.get(this.current)},items:function(){return this.get(this.current)},controls:function(b){var c=this;c.isValid(b)&&a.each(c.ctrls,function(a,c){c.update(b)})},isValid:function(a){return d.number(a)&&a>0&&a<=this.total},number:function(a){return this.isValid(a)?a:0===this.current?1:this.current},create:function(a,b){var c=this;a=c.number(a);var d=a-1;c.tmpl.items.detach(c.tmpl.items.all()),c.current=a,c.tmpl.items.create(c._arr[d],!0)},get:function(a){var b=this;return b.isValid(a)?(a=b.number(a),b._arr[a-1]):[]},set:function(a,b,c,e){var f=this;if(f.isValid(a)){var g,h=f.number(a);if(h!==f.current){var i=f.current,j=function(){if(c=!d.boolean(c)||c,e=!!d.boolean(e)&&e,c&&1===f.current&&!f.tmpl.state.exists()&&(g=f.tmpl.state.get(),f.tmpl.state.update(g,f.pushOrReplace)),f.controls(a),f.create(h,e),c&&(g=f.tmpl.state.get(),f.tmpl.state.update(g,f.pushOrReplace)),f.scrollToTop&&d.boolean(b)&&b){var j=f.get(f.current);j.length>0&&j[0].scrollTo("top")}f.tmpl.raise("after-page-change",[f.current,i,e])};return!f.tmpl.raise("before-page-change",[f.current,h,j,e]).isDefaultPrevented()&&(j(),!0)}}return!1},find:function(b){for(var c=this,d=0,e=c._arr.length;d<e;d++)if(-1!==a.inArray(b,c._arr[d]))return d+1;return 0},contains:function(b,c){var d=this.get(b);return-1!==a.inArray(c,d)},first:function(){this.goto(1)},last:function(){this.goto(this._arr.length)},prev:function(){this.goto(this.current-1)},next:function(){this.goto(this.current+1)},goto:function(a){var b=this;b.set(a,!0)&&b.tmpl.loadAvailable()}}),b.PagingControl=b.Component.extend({construct:function(a,b,c){var d=this;d._super(a),d.pages=b,d.position=c,d.$container=null},create:function(){var b=this;return b.$container=a("<nav/>",{class:b.pages.cls.container}).addClass(b.pages.theme),!0},destroy:function(){var a=this;a.$container.remove(),a.$container=null},append:function(){var a=this;"top"===a.position?a.$container.insertBefore(a.tmpl.$el):a.$container.insertAfter(a.tmpl.$el)},update:function(a){}}),b.paging.register("default",b.Paging,null,{type:"none",theme:"fg-light",size:30,pushOrReplace:"push",position:"none",scrollToTop:!0},{container:"fg-paging-container"},null,-100)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Infinite=b.Paging.extend({construct:function(a){var b=this;b._super(a),b.distance=b.opt.distance,b._created=[]},build:function(){this._super(),this._created=[]},available:function(){var a,b,e=this,f=[],g=e.get(e.current),h=c.getViewportBounds();if(!e.tmpl.initializing&&!d.empty(g)&&e._created.length<e.total&&(a=g[g.length-1].bounds(),a.top-h.bottom<e.distance))return e.set(e.current+1,!1),e.available();for(var i,j=0,k=e._created.length;j<k;j++)i=j+1,g=e.get(i),d.empty(g)||(b=g[0].bounds(),a=g[g.length-1].bounds(),(b.top-h.bottom<e.distance||a.bottom-h.top<e.distance)&&f.push.apply(f,g));return f},items:function(){for(var a,b,c=this,e=[],f=0,g=c._created.length;f<g;f++)a=f+1,b=c.get(a),d.empty(b)||e.push.apply(e,b);return e},create:function(b,c){var d=this;b=d.number(b),c&&d.tmpl.items.detach(d.tmpl.items.all());for(var e=0;e<b;e++){if(-1===a.inArray(e,d._created)){d.tmpl.items.create(d._arr[e],!0).length&&d._created.push(e)}}d.current=b}}),b.paging.register("infinite",b.Infinite,null,{type:"infinite",pushOrReplace:"replace",distance:200})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.LoadMore=b.Infinite.extend({construct:function(a){this._super(a),this.amount=this.opt.amount,this._count=this.opt.amount},build:function(){this._super(),this._count=this.amount},available:function(){var b,e,f=this,g=[],h=f.get(f.current),i=c.getViewportBounds();if(!d.empty(h)&&f._created.length!==f.total&&(b=h[h.length-1].bounds(),b.top-i.bottom<f.distance)){var j=f.current+1;if(f.isValid(j)&&f._count<f.amount)return f._count++,f.set(j,!1),f.available()}f._created.length===f.total&&(d.empty(f.ctrls)||a.each(f.ctrls.splice(0,f.ctrls.length),function(a,b){b.destroy()}));for(var k,l=0,m=f._created.length;l<m;l++)k=l+1,h=f.get(k),d.empty(h)||(e=h[0].bounds(),b=h[h.length-1].bounds(),(e.top-i.bottom<f.distance||b.bottom-i.top<f.distance)&&g.push.apply(g,h));return g},loadMore:function(){var a=this;a._count=0,a.tmpl.loadAvailable()}}),b.LoadMoreControl=b.PagingControl.extend({construct:function(b,c,d){this._super(b,c,d),this.$container=a(),this.$button=a()},create:function(){var b=this;return b.$container=a("<nav/>",{class:b.pages.cls.container}).addClass(b.pages.theme),b.$button=a("<button/>",{class:b.pages.cls.button,type:"button"}).html(b.pages.il8n.button).on("click.foogallery",{self:b},b.onButtonClick).appendTo(b.$container),!0},destroy:function(){var b=this;b.$button.off("click.foogallery",b.onButtonClick),b.$container.remove(),b.$container=a(),b.$button=a()},append:function(){var a=this;"top"===a.position?a.$container.insertBefore(a.tmpl.$el):a.$container.insertAfter(a.tmpl.$el)},onButtonClick:function(a){a.preventDefault(),a.data.self.pages.loadMore()}}),b.paging.register("loadMore",b.LoadMore,b.LoadMoreControl,{type:"loadMore",position:"bottom",pushOrReplace:"replace",amount:1,distance:200},{button:"fg-load-more"},{button:"Load More"})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Dots=b.Paging.extend({}),b.DotsControl=b.PagingControl.extend({construct:function(b,c,d){this._super(b,c,d),this.$container=a(),this.$list=a(),this.$items=a()},create:function(){for(var b,c=this,d=c.pages.cls,e=c.pages.il8n,f=[],g=a("<ul/>",{class:d.list}),h=0,i=c.pages.total;h<i;h++)f.push(b=c.createItem(h+1,e.page)),g.append(b);return c.$list=g,c.$container=a("<nav/>",{class:d.container}).addClass(c.pages.theme).append(g),c.$items=a(a.map(f,function(a){return a.get()})),!0},append:function(){var a=this;"top"===a.position?a.$container.insertBefore(a.tmpl.$el):a.$container.insertAfter(a.tmpl.$el)},destroy:function(){var b=this,c=b.pages.sel;b.$list.find(c.link).off("click.foogallery",b.onLinkClick),b.$container.remove(),b.$container=a(),b.$list=a(),b.$items=a()},update:function(a){this.setSelected(a-1)},setSelected:function(b){var c=this,e=c.pages.cls,f=c.pages.il8n,g=c.pages.sel;c.$items.filter(g.selected).removeClass(e.selected).each(function(b,c){var e=a(c),f=e.data("label"),h=e.find(g.reader);d.string(f)&&0!==h.length&&h.html(f)}),c.$items.eq(b).addClass(e.selected).each(function(b,c){var e=a(c),h=e.find(g.reader),i=h.html();d.string(i)&&0!==h.length&&(e.data("label",i),h.html(f.current))})},createItem:function(b,c,e,f,g){e=d.string(e)?e:b,c=d.string(c)?c:"";var h=this,i=h.pages.opt,j=h.pages.cls,k=a("<a/>",{class:j.link,href:"#page-"+b}).html(e).on("click.foogallery",{self:h,page:b},h.onLinkClick);d.empty(c)||k.attr("title",c.replace(/\{PAGE}/g,b).replace(/\{LIMIT}/g,i.limit+"")),g=d.string(g)?g:c,d.empty(g)||k.prepend(a("<span/>",{class:j.reader,text:g.replace(/\{PAGE}/g,"").replace(/\{LIMIT}/g,i.limit+"")}));var l=a("<li/>",{class:j.item}).append(k);return f=d.string(f)?f:"",d.empty(f)||l.addClass(f),l},onLinkClick:function(b){b.preventDefault();var c=b.data.self,d=b.data.page,e=c.pages.sel;a(this).closest(e.item).is(e.disabled)||(c.pages.set(d,!0),c.tmpl.loadAvailable())}}),b.paging.register("dots",b.Dots,b.DotsControl,{type:"dots",position:"both",pushOrReplace:"push"},{list:"fg-dots",item:"fg-dot-item",link:"fg-dot-link",disabled:"fg-disabled",selected:"fg-selected",visible:"fg-visible",reader:"fg-sr-only"},{current:"Current page",page:"Page {PAGE}"})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Pagination=b.Dots.extend({construct:function(a){this._super(a),this.limit=this.opt.limit,this.showFirstLast=this.opt.showFirstLast,this.showPrevNext=this.opt.showPrevNext,this.showPrevNextMore=0!==this.opt.limit&&this.opt.showPrevNextMore,this.pageKeywords=["first","prev","prevMore","nextMore","next","last"],this.sel.firstPrev=[this.sel.first,this.sel.prev].join(","),this.sel.nextLast=[this.sel.next,this.sel.last].join(","),this.range={index:-1,start:-1,end:-1,changed:!1,selected:!1}},build:function(){this._super(),this.range={index:-1,start:-1,end:-1,changed:!1,selected:!1}},controls:function(b){var c=this;c.isValid(b)&&(c.range=c.getControlRange(b),a.each(c.ctrls,function(a,b){b.update(c.range)}))},isValid:function(a){return this._super(a)||this.isKeyword(a)},isKeyword:function(b){return d.string(b)&&-1!==a.inArray(b,this.pageKeywords)},number:function(a){var b=this;return"first"===a&&(a=1),"prev"===a&&(a=b.current-1),"next"===a&&(a=b.current+1),"last"===a&&(a=b.total),"prevMore"!==a&&"nextMore"!==a||(a=b.current),b._super(a)},getControlRange:function(a){var b=this;switch(a){case"prevMore":return b._range(b.range.start-1,!1,!1);case"nextMore":return b._range(b.range.end+1,!0,!1);default:return a=b.number(a),b._range(a-1,a<=b.current)}},_range:function(a,b,c){var e=this,f={index:a,start:e.range.start,end:e.range.end,changed:!1,selected:!d.boolean(c)||c};if(e.total<=e.limit||0===e.limit)f.start=0,f.end=e.total-1;else if(a<f.start||a>f.end){var g=a+(e.limit-1),h=a-(e.limit-1);if(b)for(f.start=a,f.end=g;f.end>e.total;)f.start-=1,f.end-=1;else for(f.start=h,f.end=a;f.start<0;)f.start+=1,f.end+=1}return(f.changed=f.start!==e.range.start||f.end!==e.range.end)&&(e.range=f),f}}),b.PaginationControl=b.DotsControl.extend({construct:function(b,c,d){this._super(b,c,d),this.$buttons=a()},create:function(){var b=this;if(b._super()){var c,d=b.pages.total<=b.pages.limit||0===b.pages.limit,e=[];return!d&&b.pages.showPrevNextMore&&(e.push(c=b.createButton("prevMore")),b.$list.prepend(c)),b.pages.showPrevNext&&(e.push(c=b.createButton("prev")),b.$list.prepend(c)),b.pages.showFirstLast&&(e.push(c=b.createButton("first")),b.$list.prepend(c)),!d&&b.pages.showPrevNextMore&&(e.push(c=b.createButton("nextMore")),b.$list.append(c)),b.pages.showPrevNext&&(e.push(c=b.createButton("next")),b.$list.append(c)),b.pages.showFirstLast&&(e.push(c=b.createButton("last")),b.$list.append(c)),b.$buttons=a(a.map(e,function(a){return a.get()})),!0}return!1},destroy:function(){this._super(),this.$buttons=a()},update:function(a){var b=this,c=b.pages.sel;a.changed&&b.setVisible(a.start,a.end),a.selected&&(b.setSelected(a.index),b.toggleDisabled(b.$buttons.filter(c.firstPrev),a.index<=0),b.toggleDisabled(b.$buttons.filter(c.nextLast),a.index>=b.pages.total-1)),b.toggleDisabled(b.$buttons.filter(c.prevMore),a.start<=0),b.toggleDisabled(b.$buttons.filter(c.nextMore),a.end>=b.pages.total-1)},setVisible:function(a,b){var c=this,d=c.pages.cls;c.$items.removeClass(d.visible).slice(a,b+1).addClass(d.visible)},toggleDisabled:function(a,b){var c=this,d=c.pages.cls,e=c.pages.sel;b?a.addClass(d.disabled).find(e.link).attr("tabindex",-1):a.removeClass(d.disabled).find(e.link).removeAttr("tabindex")},createButton:function(a){var b=this,c=b.pages.cls,d=b.pages.il8n;return b.createItem(a,d.labels[a],d.buttons[a],c.button+" "+c[a])}}),b.paging.register("pagination",b.Pagination,b.PaginationControl,{type:"pagination",position:"both",pushOrReplace:"push",limit:5,showPrevNext:!0,showFirstLast:!0,showPrevNextMore:!0},{list:"fg-pages",item:"fg-page-item",button:"fg-page-button",link:"fg-page-link",first:"fg-page-first",prev:"fg-page-prev",prevMore:"fg-page-prev-more",nextMore:"fg-page-next-more",next:"fg-page-next",last:"fg-page-last",disabled:"fg-disabled",selected:"fg-selected",visible:"fg-visible",reader:"fg-sr-only"},{buttons:{first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;",prevMore:"&hellip;",nextMore:"&hellip;"},labels:{current:"Current page",page:"Page {PAGE}",first:"First page",prev:"Previous page",next:"Next page",last:"Last page",prevMore:"Show previous {LIMIT} pages",nextMore:"Show next {LIMIT} pages"}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Filtering=b.Component.extend({construct:function(a){var b=this;b._super(a),b.opt=b.tmpl.opt.filtering,b.cls=b.tmpl.cls.filtering,b.il8n=b.tmpl.il8n.filtering,b.sel=b.tmpl.sel.filtering,b.pushOrReplace=b.opt.pushOrReplace,b.type=b.opt.type,b.theme=b.opt.theme,b.position=b.opt.position,b.mode=b.opt.mode,b.sortBy=b.opt.sortBy,b.sortInvert=b.opt.sortInvert,b.min=b.opt.min,b.limit=b.opt.limit,b.showCount=b.opt.showCount,b.adjustSize=b.opt.adjustSize,b.smallest=b.opt.smallest,b.largest=b.opt.largest,b.adjustOpacity=b.opt.adjustOpacity,b.lightest=b.opt.lightest,b.darkest=b.opt.darkest,b.current=[],b.ctrls=[],b.tags=[],b.isMultiLevel=!1},fromHash:function(a){var b=this,c=b.tmpl.state.opt;return-1===a.indexOf(c.arraySeparator)?[a.split(c.array).map(function(a){return decodeURIComponent(a.replace(/\+/g,"%20"))})]:a.split(c.arraySeparator).map(function(a){return d.empty(a)?[]:a.split(c.array).map(function(a){return decodeURIComponent(a.replace(/\+/g,"%20"))})})},toHash:function(b){var c=this,e=c.tmpl.state.opt,f=null;return d.array(b)&&(f=d.array(b[0])?a.map(b,function(b){return a.map(b,function(a){return encodeURIComponent(a)}).join(e.array)}).join(e.arraySeparator):a.map(b,function(a){return encodeURIComponent(a)}).join(e.array)),d.empty(f)?null:f},getState:function(){return d.array(this.current)&&!this.current.every(function(a){return 0===a.length})?this.current.slice():null},setState:function(a){this.rebuild(),this.set(a.filter,!1)},destroy:function(){var b=this;b.tags.splice(0,b.tags.length),a.each(b.ctrls.splice(0,b.ctrls.length),function(a,b){b.destroy()}),b._super()},count:function(b,c){b=d.array(b)?b:[],c=d.array(c)?c:[];for(var e,f={__ALL__:0},g=0===c.length,h=0,i=b.length;h<i;h++)if(!d.empty(e=b[h].tags)){f.__ALL__++;for(var j,k=0,l=e.length;k<l;k++)d.empty(j=e[k])||!g&&(g||-1===a.inArray(j,c))||(d.number(f[j])?f[j]++:f[j]=1)}for(var m=0,n=c.length;m<n;m++)f.hasOwnProperty(c[m])||(f[c[m]]=0);return f},createTagObjects:function(b,c,d,e){var f=this,g=[],h=f.count(b,c),i=1/0,j=0,k=-1;for(var l in h)if(h.hasOwnProperty(l)){var m=h[l],n="__ALL__"===l;(f.min<=0||m>=f.min)&&(c.length>0?k=a.inArray(l,c):k++,g.push({level:d,index:k,value:n?"":l,text:n?e:l,count:m,percent:1,size:f.largest,opacity:f.darkest}),m<i&&(i=m),m>j&&(j=m))}if(f.limit>0&&g.length>f.limit&&(g.sort(function(a,b){return b.count-a.count}),g=g.slice(0,f.limit)),
!f.isMultiLevel&&(!0===f.adjustSize||!0===f.adjustOpacity))for(var o,p=f.largest-f.smallest,q=f.darkest-f.lightest,r=0,s=g.length;r<s;r++)o=g[r],o.percent=(o.count-i)/(j-i),o.size=f.adjustSize?Math.round(p*o.percent+f.smallest):f.largest,o.opacity=f.adjustOpacity?q*o.percent+f.lightest:f.darkest;switch(f.sortBy){case"none":f.sort(g,"index",!1);break;default:f.sort(g,f.sortBy,f.sortInvert)}return g},showControl:function(){return!this.tags.every(function(a){return 0===a.length})},build:function(){var c=this,e=c.tmpl.items.all();if(c.isMultiLevel=c.opt.tags.length>0&&d.object(c.opt.tags[0]),e.length>0&&(c.isMultiLevel?a.each(c.opt.tags,function(a,b){c.tags.push(c.createTagObjects(e,b.tags,a,b.all||c.il8n.all))}):c.tags.push(c.createTagObjects(e,c.opt.tags,0,c.il8n.all))),c.showControl()&&b.filtering.hasCtrl(c.type)){var f,g,h=c.position;"both"!==h&&"top"!==h||(f=b.filtering.makeCtrl(c.type,c.tmpl,c,"top"),f.create()&&(f.append(),c.ctrls.push(f))),"both"!==h&&"bottom"!==h||(g=b.filtering.makeCtrl(c.type,c.tmpl,c,"bottom"),g.create()&&(g.append(),c.ctrls.push(g)))}},rebuild:function(){var b=this;b.tags.splice(0,b.tags.length),a.each(b.ctrls.splice(0,b.ctrls.length),function(a,b){b.destroy()}),b.build()},controls:function(b){var c=this;a.each(c.ctrls,function(a,c){c.update(b)})},hasAll:function(a,b){return b.every(function(b){return 0===b.length||d.array(a.tags)&&b.every(function(b){return-1!==a.tags.indexOf(b)})})},hasSome:function(a,b){return b.every(function(b){return 0===b.length||d.array(a.tags)&&b.some(function(b){return-1!==a.tags.indexOf(b)})})},set:function(b,c){d.string(b)&&(b=[[b]]),d.array(b)||(b=[]);var e,f=this;if(!f.arraysEqual(f.current,b)){var g=f.current.slice(),h=function(){if(c=!d.boolean(c)||c,c&&!f.tmpl.state.exists()&&(e=f.tmpl.state.get(),f.tmpl.state.update(e,f.pushOrReplace)),d.empty(b))f.tmpl.items.reset();else{var h=f.tmpl.items.all();h="intersect"===f.mode?a.map(h,function(a){return f.hasAll(a,b)?a:null}):a.map(h,function(a){return f.hasSome(a,b)?a:null}),f.tmpl.items.setAvailable(h)}f.current=b.slice(),f.controls(b),f.tmpl.pages?(f.tmpl.pages.rebuild(),f.tmpl.pages.set(1,null,null,!0)):(f.tmpl.items.detach(f.tmpl.items.all()),f.tmpl.items.create(f.tmpl.getAvailable(),!0)),c&&(e=f.tmpl.state.get(),f.tmpl.state.update(e,f.pushOrReplace)),f.tmpl.raise("after-filter-change",[f.current,g])};return!f.tmpl.raise("before-filter-change",[f.current,b,h]).isDefaultPrevented()&&(h(),!0)}return!1},arraysEqual:function(a,b){if(a.length!==b.length)return!1;a=a.slice(),b=b.slice(),a.sort(),b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0},sort:function(a,b,c){a.sort(function(a,e){if(a.hasOwnProperty(b)&&e.hasOwnProperty(b)){if(!d.string(a[b])||!d.string(e[b]))return c?e[b]-a[b]:a[b]-e[b];var f=a[b].toUpperCase(),g=e[b].toUpperCase();if(c){if(g<f)return-1;if(g>f)return 1}else{if(f<g)return-1;if(f>g)return 1}}return 0})},apply:function(a){var b=this;b.set(a,!b.tmpl.pages)&&b.tmpl.loadAvailable()}}),b.FilteringControl=b.Component.extend({construct:function(a,b,c){var d=this;d._super(a),d.filter=b,d.position=c,d.$container=null},create:function(){var b=this;return b.$container=a("<nav/>",{class:b.filter.cls.container}).addClass(b.filter.theme),!0},destroy:function(){var a=this;a.$container.remove(),a.$container=null},append:function(){var a=this;"top"===a.position?a.$container.insertBefore(a.tmpl.$el):a.$container.insertAfter(a.tmpl.$el)},update:function(a){}}),b.filtering.register("default",b.Filtering,null,{type:"none",theme:"fg-light",pushOrReplace:"push",position:"none",mode:"single",sortBy:"value",sortInvert:!1,tags:[],min:0,limit:0,showCount:!1,adjustSize:!1,adjustOpacity:!1,smallest:12,largest:16,lightest:.5,darkest:1},{container:"fg-filtering-container"},null,-100)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Tags=b.Filtering.extend({}),b.TagsControl=b.FilteringControl.extend({construct:function(b,c,d){this._super(b,c,d),this.$container=a(),this.lists=[]},create:function(){var b=this,c=b.filter.cls;b.$container=a("<nav/>",{class:c.container}).addClass(b.filter.theme);for(var d=0,e=b.filter.tags.length;d<e;d++)b.lists.push(b.createList(b.filter.tags[d]).appendTo(b.$container));return b.filter.isMultiLevel||!0!==b.filter.showCount||b.$container.addClass(c.showCount),!0},createList:function(b){for(var c=this,d=c.filter.cls,e=a("<ul/>",{class:d.list}),f=0,g=b.length;f<g;f++)e.append(c.createItem(b[f]).toggleClass(d.selected,0===f));return e},destroy:function(){var b=this,c=b.filter.sel;b.lists.forEach(function(a,d){a.find(c.link).off("click.foogallery",b.onLinkClick)}),b.$container.remove(),b.$container=a(),b.lists=[]},append:function(){var a=this;"top"===a.position?a.$container.insertBefore(a.tmpl.$el):a.$container.insertAfter(a.tmpl.$el)},update:function(b){var c=this,e=c.filter.cls,f=c.filter.sel;c.lists.forEach(function(c,g){c.find(f.item).removeClass(e.selected).each(function(){var c=a(this),f=c.data("tag");d.string(f)||(f+="");var h=d.empty(f);c.toggleClass(e.selected,h&&d.empty(b[g])||!h&&-1!==a.inArray(f,b[g]))})})},createItem:function(b){var c=this,e=c.filter.cls,f=a("<li/>",{class:e.item}).attr("data-tag",b.value),g=a("<a/>",{href:"#tag-"+b.value,class:e.link}).on("click.foogallery",{self:c,tag:b},c.onLinkClick).css("font-size",b.size).css("opacity",b.opacity).append(a("<span/>",{text:d.string(b.text)?b.text:b.value,class:e.text})).appendTo(f);return c.filter.isMultiLevel||!0!==c.filter.showCount||g.append(a("<span/>",{text:b.count,class:e.count})),f},onLinkClick:function(b){b.preventDefault();var c,e=b.data.self,f=b.data.tag,g=e.filter.current.map(function(a){return d.array(a)?a.slice():a});if(d.empty(f.value))g[f.level]=[];else switch(e.filter.mode){case"union":case"intersect":d.array(g[f.level])||(g[f.level]=[]),c=a.inArray(f.value,g[f.level]),-1===c?g[f.level].push(f.value):g[f.level].splice(c,1);break;case"single":default:g[f.level]=[f.value]}g.every(d.empty)&&(g=[]),e.filter.apply(g)}}),b.filtering.register("tags",b.Tags,b.TagsControl,{type:"tags",position:"top",pushOrReplace:"push"},{showCount:"fg-show-count",list:"fg-tag-list",item:"fg-tag-item",link:"fg-tag-link",text:"fg-tag-text",count:"fg-tag-count",selected:"fg-selected"},{all:"All",none:"No items found."},-100)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d,e,f,g){var h=0;b.Panel=b.EventComponent.extend({construct:function(a,f,g,i){var j=this;j.instanceId=++h,j._super(a,"panel-"),j.opt=e.extend({},j.tmpl.opt.panel,f),j.cls=e.extend({},j.tmpl.cls.panel,g),j.il8n=e.extend({},j.tmpl.il8n.panel,i);var k=j.cls.states;j.cls.states.all=Object.keys(k).map(function(a){return k[a]}).join(" "),j.cls.states.allLoading=[k.idle,k.loading,k.loaded,k.error].join(" "),j.cls.states.allProgress=[k.idle,k.started,k.stopped,k.paused].join(" "),j.sel=c.selectify(j.cls),j.videoSources=b.Panel.Video.sources.load(),j.buttons=new b.Panel.Buttons(j),j.content=new b.Panel.Content(j),j.info=new b.Panel.Info(j),j.thumbs=new b.Panel.Thumbs(j),j.cart=new b.Panel.Cart(j),j.areas=[j.content,j.info,j.thumbs,j.cart],j.$el=null,j.isCreated=!1,j.isDestroyed=!1,j.isDestroying=!1,j.isAttached=!1,j.isLoading=!1,j.isLoaded=!1,j.isError=!1,j.isInline=!1,j.isMaximized=!1,j.isFullscreen=!1,j.hasTransition=!d.empty(j.cls.transition[j.opt.transition]),j.currentItem=null,j.prevItem=null,j.nextItem=null,j.lastResize={breakpoint:null,orientation:null,prevBreakpoint:null,prevOrientation:null},j.__media={},j.__loading=null,j.tmpl.destroying||j.tmpl.destroyed||j.tmpl.on({"after-filter-change":j.onItemsChanged},j)},isVisible:function(a){return a instanceof b.Item&&!a.noLightbox&&!a.panelHide},onItemsChanged:function(a,b){this.thumbs.isCreated&&b.initialized&&(this.thumbs.doCreateThumbs(b.items.available(this.isVisible)),this.isAttached&&this.load(b.items.first(this.isVisible)))},create:function(){var a=this;if(!a.isCreated){a.trigger("create",[a]).isDefaultPrevented()||(a.isCreated=a.doCreate()),a.isCreated&&a.trigger("created",[a])}return a.isCreated},doCreate:function(){var a=this;return a.$el=a.createElem(),a.opt.keyboard&&a.$el.attr("tabindex",-1).on("keydown.foogallery",{self:a},a.onKeyDown),a.areas.forEach(function(b){b.appendTo(a.$el)}),a.buttons.appendTo(a.content.$el),!0},createElem:function(){var b=this,c=b.cls.transition[b.opt.transition]||"";b.hasTransition=!d.empty(c);var e=[b.cls.elem,c,d.string(b.opt.theme)?b.opt.theme:b.tmpl.getCSSClass("theme","fg-dark"),d.string(b.opt.loadingIcon)?b.opt.loadingIcon:b.tmpl.getCSSClass("loadingIcon"),d.string(b.opt.hoverIcon)?b.opt.hoverIcon:b.tmpl.getCSSClass("hoverIcon"),d.string(b.opt.videoIcon)?b.opt.videoIcon:b.tmpl.getCSSClass("videoIcon"),d.boolean(b.opt.stickyVideoIcon)&&b.opt.stickyVideoIcon?b.cls.stickyVideoIcon:b.tmpl.getCSSClass("stickyVideoIcon"),d.string(b.opt.insetShadow)?b.opt.insetShadow:b.tmpl.getCSSClass("insetShadow"),d.string(b.opt.filter)?b.opt.filter:b.tmpl.getCSSClass("filter"),d.string(b.opt.hoverColor)?b.opt.hoverColor:b.tmpl.getCSSClass("hoverColor"),d.boolean(b.opt.hoverScale)&&b.opt.hoverScale?b.cls.hoverScale:b.tmpl.getCSSClass("hoverScale"),d.string(b.opt.button)?b.opt.button:"",d.string(b.opt.highlight)?b.opt.highlight:"",b.opt.stackSideAreas?b.cls.stackSideAreas:"",b.opt.preserveButtonSpace?b.cls.preserveButtonSpace:"",b.opt.fitMedia?b.cls.fitMedia:"",b.opt.noMobile?b.cls.noMobile:"",b.opt.hoverButtons?b.cls.hoverButtons:"",b.opt.classNames];return a("<div/>").addClass(e.join(" "))},destroy:function(){var b=this,c=b._super.bind(b);return b.isDestroyed?f.resolved:(b.isDestroying=!0,a.Deferred(function(a){if(b.isLoading&&d.promise(b.__loading))b.__loading.always(function(){var c=b.trigger("destroy",[b]);b.isDestroying=!1,c.isDefaultPrevented()||(b.isDestroyed=b.doDestroy()),b.isDestroyed&&b.trigger("destroyed",[b]),a.resolve()});else{var c=b.trigger("destroy",[b]);b.isDestroying=!1,c.isDefaultPrevented()||(b.isDestroyed=b.doDestroy()),b.isDestroyed&&b.trigger("destroyed",[b]),a.resolve()}}).then(function(){c()}).promise())},doDestroy:function(){var a=this;return a.buttons.destroy(),a.areas.reverse(),a.areas.forEach(function(a){a.destroy()}),a.detach(),a.isCreated&&a.$el.remove(),!0},appendTo:function(a){var b=this;if((b.isCreated||b.create())&&!b.isAttached){b.trigger("append",[b,a]).isDefaultPrevented()||(b.isAttached=b.doAppendTo(a)),b.isAttached&&b.trigger("appended",[b,a])}return b.isAttached},doAppendTo:function(c){var d=this,e=a(c),f=d.buttons.get("maximize");return d.isInline=!e.is("body"),d.$el.appendTo(e),f.set(!d.isInline,d.isInline&&f.isEnabled()),b.breakpoints.register(d.$el,d.opt.breakpoints,function(a,b,c,e,f){d.lastResize={breakpoint:b,orientation:c,prevBreakpoint:e,prevOrientation:f},d.areas.forEach(function(a){a.resize()}),d.buttons.resize()}),b.breakpoints.check(d.$el),d.areas.forEach(function(a){a.listen()}),d.$el.parent().length>0},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.trigger("detach",[a]).isDefaultPrevented()||(a.isAttached=!a.doDetach()),a.isAttached||a.trigger("detached",[a])}return!a.isAttached},doDetach:function(){var a=this;return a.areas.forEach(function(a){a.stopListening()}),b.breakpoints.remove(a.$el),a.$el.detach(),!0},resize:function(){b.breakpoints.check(this.$el)},getMedia:function(a){return a instanceof b.Item?this.__media.hasOwnProperty(a.id)?this.__media[a.id]:this.__media[a.id]=b.Panel.media.make(a.type,this,a):null},getItem:function(a){var c=this,d=a;return d instanceof b.Item||(d=c.currentItem),d instanceof b.Item||(d=c.tmpl.items.first(c.isVisible)),a instanceof b.Item&&!c.isVisible(a)&&((d=c.tmpl.items.next(a,c.isVisible,c.opt.loop))instanceof b.Item||(d=c.tmpl.items.prev(a,c.isVisible,c.opt.loop))),d},load:function(c){var d=this;return(c=d.getItem(c))instanceof b.Item?c===d.currentItem?f.rejectWith("item is currently loaded"):(d.isLoading=!0,d.isLoaded=!1,d.isError=!1,d.__loading=a.Deferred(function(a){if(!d.isCreated||!d.isAttached)return void a.rejectWith("not created or attached");var e=d.getMedia(c);return e instanceof b.Panel.Media?d.trigger("load",[d,e,c]).isDefaultPrevented()?void a.rejectWith("default prevented"):(d.currentItem=c,d.prevItem=d.tmpl.items.prev(c,d.isVisible,d.opt.loop),d.nextItem=d.tmpl.items.next(c,d.isVisible,d.opt.loop),void d.doLoad(e).then(a.resolve).fail(a.reject)):void a.rejectWith("no media to load")}).always(function(){d.isLoading=!1}).then(function(){d.isLoaded=!0,d.trigger("loaded",[d,c]),c.updateState()}).fail(function(){d.isError=!0,d.trigger("error",[d,c])}).promise()):f.rejectWith("no item to load")},doLoad:function(b){var c=this,d=[];return c.buttons.beforeLoad(b),c.areas.forEach(function(a){d.push(a.load(b))}),a.when.apply(a,d).then(function(){c.buttons.afterLoad(b)}).promise()},open:function(a,b){var c=this;return a=c.getItem(a),c.trigger("open",[c,a,b]).isDefaultPrevented()?f.rejectWith("default prevented"):c.doOpen(a,b).then(function(){c.trigger("opened",[c,a,b])})},doOpen:function(c,e){var f=this;return a.Deferred(function(a){if(!(c instanceof b.Item))return void a.rejectWith("item not instanceof FooGallery.Item");e=d.empty(e)?"body":e,f.isAttached||f.appendTo(e),f.isAttached?f.load(c).then(a.resolve).fail(a.reject):a.rejectWith("not attached")}).promise()},next:function(){var a=this,c=a.currentItem,d=a.nextItem;return d instanceof b.Item?a.trigger("next",[a,c,d]).isDefaultPrevented()?f.rejectWith("default prevented"):a.doNext(d).then(function(){a.trigger("after-next",[a,c,d])}):f.rejectWith("no next item")},doNext:function(a){return this.load(a)},prev:function(){var a=this,c=a.currentItem,d=a.prevItem;return d instanceof b.Item?a.trigger("prev",[a,c,d]).isDefaultPrevented()?f.rejectWith("default prevented"):a.doPrev(d).then(function(){a.trigger("after-prev",[a,c,d])}):f.rejectWith("no prev item")},doPrev:function(a){return this.load(a)},close:function(a){var b=this;return b.trigger("close",[b,b.currentItem]).isDefaultPrevented()?f.rejectWith("default prevented"):b.doClose(a).then(function(){b.trigger("closed",[b])})},doClose:function(b,c){c=!d.boolean(c)||c;var e=this;return a.Deferred(function(c){e.content.close(b).then(function(){var d=[];d.push(e.cart.close(b)),d.push(e.thumbs.close(b)),d.push(e.info.close(b)),a.when.apply(a,d).then(c.resolve).fail(c.reject)})}).always(function(){e.currentItem=null,e.buttons.close(),c&&e.detach(),e.tmpl.state.clear()}).promise()},trapFocus:function(){this.isCreated&&this.$el.on("keydown",{self:this},this.onTrapFocusKeydown)},releaseFocus:function(){this.isCreated&&this.$el.off("keydown",this.onTrapFocusKeydown)},onTrapFocusKeydown:function(b){if(9===b.keyCode){var c=b.data.self,d=a(b.target),e=d.parents("[role=dialog]");if(e.length){var f=e.find(c.opt.focusable.include).not(c.opt.focusable.exclude),g=f.first(),h=f.last(),i=b.shiftKey?g:h,j=b.shiftKey?h:g;i.length&&d.is(i)&&(b.preventDefault(),j.focus())}}},onKeyDown:function(a){var b=a.data.self;switch(a.which){case 39:case 40:b.next();break;case 37:case 38:b.prev();break;case 27:var c;b.isFullscreen?(c=b.buttons.get("fullscreen"),c.exit()):b.isMaximized&&b.isInline?(c=b.buttons.get("maximize"),c.exit()):b.opt.buttons.close&&b.close()}}}),b.template.configure("core",{panel:{classNames:"",theme:null,button:null,highlight:null,loadingIcon:null,hoverIcon:null,videoIcon:null,stickyVideoIcon:null,hoverColor:null,hoverScale:null,insetShadow:null,filter:null,noMobile:!1,hoverButtons:!1,icons:"default",transition:"none",loop:!0,autoProgress:0,fitMedia:!1,keyboard:!0,noScrollbars:!0,swipe:!0,stackSideAreas:!0,preserveButtonSpace:!0,info:"bottom",infoVisible:!1,infoOverlay:!0,infoAutoHide:!0,exif:"none",cart:"none",cartVisible:!1,thumbs:"none",thumbsVisible:!0,thumbsCaptions:!0,thumbsSmall:!1,thumbsBestFit:!0,focusable:{include:"a[href], area[href], input, select, textarea, button, iframe, object, embed, [tabindex], [contenteditable]",exclude:"[tabindex=-1], [disabled], :hidden"},buttons:{prev:!0,next:!0,close:!0,maximize:!0,fullscreen:!0,autoProgress:!0,info:!0,thumbs:!1,cart:!1},breakpoints:{medium:{width:480,height:480},large:{width:768,height:640},"x-large":{width:1024,height:768}}}},{panel:{elem:"fg-panel",maximized:"fg-panel-maximized",fullscreen:"fg-panel-fullscreen",fitMedia:"fg-panel-fit-media",noScrollbars:"fg-panel-no-scroll",stackSideAreas:"fg-panel-area-stack",preserveButtonSpace:"fg-panel-preserve-button-space",hoverButtons:"fg-panel-hover-buttons",stickyVideoIcon:"fg-video-sticky",hoverScale:"fg-hover-scale",noMobile:"fg-panel-no-mobile",loader:"fg-loader",states:{idle:"fg-idle",loading:"fg-loading",loaded:"fg-loaded",error:"fg-error",visible:"fg-visible",reverse:"fg-reverse",selected:"fg-selected",disabled:"fg-disabled",hidden:"fg-hidden",started:"fg-started",stopped:"fg-stopped",paused:"fg-paused",noTransitions:"fg-no-transitions"},buttons:{container:"fg-panel-buttons",prev:"fg-panel-button fg-panel-button-prev",next:"fg-panel-button fg-panel-button-next",autoProgress:"fg-panel-button fg-panel-button-progress",close:"fg-panel-button fg-panel-button-close",fullscreen:"fg-panel-button fg-panel-button-fullscreen",maximize:"fg-panel-button fg-panel-button-maximize",info:"fg-panel-button fg-panel-button-info",thumbs:"fg-panel-button fg-panel-button-thumbs",cart:"fg-panel-button fg-panel-button-cart"},transition:{fade:"fg-panel-fade",horizontal:"fg-panel-horizontal",vertical:"fg-panel-vertical"},area:{elem:"fg-panel-area",inner:"fg-panel-area-inner"},content:{},sideArea:{toggle:"fg-panel-area-toggle",button:"fg-panel-area-button",visible:"fg-panel-area-visible",position:{top:"fg-panel-area-top",right:"fg-panel-area-right",bottom:"fg-panel-area-bottom",left:"fg-panel-area-left"}},info:{overlay:"fg-panel-info-overlay"},cart:{},thumbs:{prev:"fg-panel-thumbs-button fg-panel-thumbs-prev",next:"fg-panel-thumbs-button fg-panel-thumbs-next",viewport:"fg-panel-thumbs-viewport",stage:"fg-panel-thumbs-stage",noCaptions:"fg-panel-thumbs-no-captions",small:"fg-panel-thumbs-small",spacer:"fg-panel-thumb-spacer",thumb:{elem:"fg-panel-thumb",media:"fg-panel-thumb-media",overlay:"fg-panel-thumb-overlay",wrap:"fg-panel-thumb-wrap",image:"fg-panel-thumb-image",caption:"fg-panel-thumb-caption",title:"fg-panel-thumb-title",description:"fg-panel-thumb-description"}}}},{panel:{buttons:{prev:"Previous Media",next:"Next Media",close:"Close Modal",maximize:"Toggle Maximize",fullscreen:"Toggle Fullscreen",autoProgress:"Auto Progress",info:"Toggle Information",thumbs:"Toggle Thumbnails",cart:"Toggle Cart"}}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.fn,FooGallery.utils.transition),function(a,b,c,d,e){b.Panel.Buttons=d.Class.extend({construct:function(a){this.panel=a,this.opt=a.opt.buttons,this.cls=a.cls.buttons,this.sel=a.sel.buttons,this.il8n=a.il8n.buttons,this.$el=null,this.isCreated=!1,this.isAttached=!1,this.__registered=[],this.registerCore()},registerCore:function(){this.register(new b.Panel.Button(this.panel,"prev",{icon:"arrow-left",label:this.il8n.prev,click:this.panel.prev.bind(this.panel),beforeLoad:function(a){this.disable(null==this.panel.prevItem)}}),10),this.register(new b.Panel.Button(this.panel,"next",{icon:"arrow-right",label:this.il8n.next,click:this.panel.next.bind(this.panel),beforeLoad:function(a){this.disable(null==this.panel.nextItem)}}),20),this.register(new b.Panel.AutoProgress(this.panel),30),this.register(new b.Panel.Maximize(this.panel),180),this.register(new b.Panel.Fullscreen(this.panel),190),this.register(new b.Panel.Button(this.panel,"close",{icon:"close",label:this.il8n.close,click:this.panel.close.bind(this.panel)}),200)},register:function(a,c){return a instanceof b.Panel.Button?this.__registered.push({name:a.name,button:a,priority:e.number(c)?c:99})-1:-1},get:function(a){for(var b=null,c=0,d=this.__registered.length;c<d;c++)if(this.__registered[c].name===a){b=this.__registered[c].button;break}return b},each:function(a,b){var c=this;b&&c.__registered.sort(function(a,b){return a.priority-b.priority}),c.__registered.forEach(function(b){a.call(c,b.button)})},toggle:function(a,b){var c=this.get(a);null!=c&&c.toggle(b)},disable:function(a,b){var c=this.get(a);null!=c&&c.disable(b)},destroy:function(){var a=this;return a.panel.trigger("buttons-destroy",[a]).isDefaultPrevented()||(a.isCreated=!a.doDestroy()),a.isCreated||a.panel.trigger("buttons-destroyed",[a]),!a.isCreated},doDestroy:function(){var a=this;return a.each(function(a){a.destroy()}),a.isCreated&&(a.detach(),a.$el.remove()),!0},create:function(){var a=this;if(!a.isCreated){a.panel.trigger("buttons-create",[a]).isDefaultPrevented()||(a.isCreated=a.doCreate()),a.isCreated&&a.panel.trigger("buttons-created",[a])}return a.isCreated},doCreate:function(){var b=this;return b.$el=a("<div/>").addClass(b.cls.container),b.each(function(a){a.appendTo(b.$el)},!0),!0},appendTo:function(a){var b=this;if(b.isCreated||b.create(),b.isCreated&&!b.isAttached){b.panel.trigger("buttons-append",[b,a]).isDefaultPrevented()||(b.isAttached=b.doAppendTo(a)),b.isAttached&&b.panel.trigger("buttons-appended",[b,a])}return b.isAttached},doAppendTo:function(a){return this.$el.appendTo(a),this.$el.parent().length>0},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.panel.trigger("buttons-detach",[a]).isDefaultPrevented()||(a.isAttached=!a.doDetach()),a.isAttached||a.panel.trigger("buttons-detached",[a])}return!a.isAttached},doDetach:function(){return this.$el.detach(),!0},beforeLoad:function(a){this.each(function(b){b.beforeLoad(a)})},afterLoad:function(a){this.each(function(b){b.afterLoad(a)})},close:function(){this.each(function(a){a.close()})},resize:function(){this.each(function(a){a.resize()})}})}(FooGallery.$,FooGallery,FooGallery.icons,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d,e,f){b.Panel.Button=d.Class.extend({construct:function(b,c,d){this.panel=b,this.name=c,this.opt=f.extend({icon:null,label:null,visible:!!b.opt.buttons[c],disabled:!1,click:a.noop,beforeLoad:a.noop,afterLoad:a.noop,close:a.noop,resize:a.noop},d),this.cls={elem:b.cls.buttons[c],states:b.cls.states},this.$el=null,this.isVisible=this.opt.visible,this.isDisabled=this.opt.disabled,this.isCreated=!1,this.isAttached=!1},isEnabled:function(){return this.panel.opt.buttons.hasOwnProperty(this.name)&&this.panel.opt.buttons[this.name]},create:function(){var b=this;if(!b.isCreated){b.$el=a("<button/>",{type:"button","aria-label":b.opt.label,"aria-disabled":b.isDisabled,"aria-hidden":!b.isVisible}).addClass(b.cls.elem).on("click.foogallery",{self:b},b.onButtonClick),e.string(b.opt.icon)?b.$el.append(c.get(b.opt.icon,b.panel.opt.icons)):e.array(b.opt.icon)?b.opt.icon.forEach(function(a){b.$el.append(c.get(a,b.panel.opt.icons))}):e.fn(b.opt.icon)&&b.$el.append(b.opt.icon.call(this)),b.isCreated=!0;var d=b.isEnabled();b.toggle(d),b.disable(!d)}return b.isCreated},destroy:function(){return this.isCreated&&(this.$el.off("click.foogallery").remove(),this.isCreated=!1),!this.isCreated},appendTo:function(a){return!this.isCreated&&!this.create()||this.isAttached||this.$el.appendTo(a),this.isAttached},detach:function(){return this.isCreated&&this.isAttached&&this.$el.detach(),!this.isAttached},toggle:function(a){this.isCreated&&(this.isVisible=e.boolean(a)?a:!this.isVisible,this.$el.toggleClass(this.cls.states.hidden,!this.isVisible).attr("aria-hidden",!this.isVisible))},disable:function(a){this.isCreated&&(this.isDisabled=e.boolean(a)?a:!this.isDisabled,this.$el.toggleClass(this.cls.states.disabled,this.isDisabled).attr({"aria-disabled":this.isDisabled,disabled:this.isDisabled}))},beforeLoad:function(a){this.opt.beforeLoad.call(this,a)},afterLoad:function(a){this.opt.afterLoad.call(this,a)},close:function(){this.opt.close.call(this)},click:function(){this.opt.click.call(this)},resize:function(){this.opt.resize.call(this)},onButtonClick:function(a){a.preventDefault(),a.data.self.click()}})}(FooGallery.$,FooGallery,FooGallery.icons,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj),function(a,b,c){b.Panel.SideAreaButton=b.Panel.Button.extend({construct:function(a){this._super(a.panel,a.name,{icon:a.opt.icon,label:a.opt.label,autoHideArea:a.opt.autoHide,click:a.toggle.bind(a)}),this.area=a,this.__isVisible=null,this.__autoHide=null},beforeLoad:function(a){var b=this.area.isEnabled(),d=b&&this.area.canLoad(a);d||null!=this.__isVisible?d&&c.boolean(this.__isVisible)&&(this.area.toggle(this.__isVisible),this.__isVisible=null):(this.__isVisible=this.area.isVisible,this.area.toggle(!1)),b?this.disable(!d):this.toggle(d),this.checkAutoHide(b,d),this.opt.beforeLoad.call(this,a)},checkAutoHide:function(a,b){if(a&&b&&!0===this.opt.autoHideArea){var d=this.panel.lastResize;null==this.__autoHide&&c.empty(d.breakpoint)?(this.__autoHide=this.area.isVisible,this.area.toggle(!1),this.area.button.toggle(!0)):c.boolean(this.__autoHide)&&!c.empty(d.breakpoint)&&(this.area.button.toggle(this.area.button.isEnabled()&&this.area.opt.toggle),this.area.toggle(this.__autoHide),this.__autoHide=null)}},resize:function(){var a=this.area.isEnabled(),b=a&&this.area.canLoad(this.area.currentMedia);this.checkAutoHide(a,b)}})}(FooGallery.$,FooGallery,FooGallery.utils.is),function(a,b,c){b.Panel.AutoProgress=b.Panel.Button.extend({construct:function(a){var b=this;b.__stopped=!1,b.__timer=new c.Timer,b._super(a,"autoProgress",{icon:"auto-progress",label:a.il8n.buttons.autoProgress}),b.$icon=null,b.$circle=null,b.circumference=0},isEnabled:function(){return this._super()&&this.panel.opt.autoProgress>0},create:function(){if(this._super()){this.$icon=this.$el.find("svg"),this.$circle=this.$icon.find("circle");var a=parseFloat(this.$circle.attr("r"));this.circumference=2*a*Math.PI,this.$circle.css({"stroke-dasharray":this.circumference+" "+this.circumference,"stroke-dashoffset":this.circumference}),this.__timer.on({"start resume":this.onStartOrResume,pause:this.onPause,stop:this.onStop,tick:this.onTick,"complete reset":this.onCompleteOrReset,complete:this.onComplete},this)}return this.isCreated},close:function(){this.__timer.pause(),this._super()},destroy:function(){return this.__timer.destroy(),this._super()},beforeLoad:function(a){this.isEnabled()&&this.__timer.reset(),this._super(a)},afterLoad:function(a){this.isEnabled()&&(this.__timer.countdown(this.panel.opt.autoProgress),this.__stopped&&this.__timer.pause()),this._super(a)},click:function(){this.__timer.isRunning?(this.__stopped=!0,this.__timer.pause()):this.__timer.canResume?(this.__stopped=!1,this.__timer.resume()):(this.__stopped=!1,this.__timer.restart()),this._super()},onStartOrResume:function(){this.$icon.removeClass(this.cls.states.allProgress).addClass(this.cls.states.started)},onPause:function(){this.$icon.removeClass(this.cls.states.allProgress).addClass(this.cls.states.paused)},onStop:function(){this.$icon.removeClass(this.cls.states.allProgress).addClass(this.cls.states.stopped)},onTick:function(a,b,c){var d=b/c*100;this.$circle.css("stroke-dashoffset",this.circumference-d/100*this.circumference)},onCompleteOrReset:function(){this.$icon.removeClass(this.cls.states.allProgress)},onComplete:function(){this.panel.next()}})}(FooGallery.$,FooGallery,FooGallery.utils),function(a,b,c){b.Panel.Fullscreen=b.Panel.Button.extend({construct:function(a){this._super(a,"fullscreen",{icon:["expand","shrink"],label:a.il8n.buttons.fullscreen})},create:function(){return!!this._super()&&(this.$el.attr("aria-pressed",!1),!0)},click:function(){var a=this,b=a.panel.$el.get(0);c.toggle(b).then(function(){c.element()===b?(c.on("change error",a.onFullscreenChange,a),a.enter()):(c.off("change error",a.onFullscreenChange,a),a.exit())}),a._super()},onFullscreenChange:function(){c.element()!==this.panel.$el.get(0)&&this.exit()},enter:function(){this.panel.isFullscreen||(this.panel.isFullscreen=!0,this.panel.$el.addClass(this.panel.cls.fullscreen),this.panel.isMaximized||(this.panel.$el.attr({role:"dialog","aria-modal":!0}).focus(),this.panel.trapFocus()),this.isCreated&&this.$el.attr("aria-pressed",!0),this.panel.buttons.toggle("maximize",!1))},exit:function(){this.panel.isFullscreen&&(this.panel.$el.removeClass(this.panel.cls.fullscreen),this.panel.isMaximized||(this.panel.$el.attr({role:null,"aria-modal":null}).focus(),this.panel.releaseFocus()),this.isCreated&&this.$el.attr("aria-pressed",!1),this.panel.buttons.toggle("maximize",this.panel.isInline&&this.panel.buttons.opt.maximize),this.panel.isFullscreen=!1)}})}(FooGallery.$,FooGallery,FooGallery.utils.fullscreen),function(a,b,c,d){b.Panel.Maximize=b.Panel.Button.extend({construct:function(b){this._super(b,"maximize",{icon:"maximize",label:b.il8n.buttons.maximize}),this.scrollPosition=[],this.$placeholder=a("<span/>")},create:function(){return!!this._super()&&(this.$el.attr("aria-pressed",!1),!0)},click:function(){this.set(!this.panel.isMaximized),this._super()},close:function(){this.exit(),this._super()},set:function(a,b){a?this.enter():this.exit(),b=c.boolean(b)?b:this.isVisible,this.toggle(b)},enter:function(){this.panel.isMaximized||(this.panel.isMaximized=!0,this.$placeholder.insertAfter(this.panel.$el),this.panel.$el.appendTo("body").addClass(this.panel.cls.maximized).attr({role:"dialog","aria-modal":!0}).focus(),this.isCreated&&this.$el.attr("aria-pressed",!0),this.panel.trapFocus(),this.panel.opt.noScrollbars&&(this.scrollPosition=[window.scrollX,window.scrollY],a("html").addClass(this.panel.cls.noScrollbars)))},exit:function(){this.panel.isMaximized&&(this.panel.isMaximized=!1,this.panel.$el.removeClass(this.panel.cls.maximized).attr({role:null,"aria-modal":null}).insertBefore(this.$placeholder).focus(),this.$placeholder.detach(),this.isCreated&&this.$el.attr("aria-pressed",!1),this.panel.releaseFocus(),this.panel.opt.noScrollbars&&(a("html").removeClass(this.panel.cls.noScrollbars).prop("clientWidth"),c.array(this.scrollPosition)&&2===this.scrollPosition.length&&window.scrollTo(this.scrollPosition[0],this.scrollPosition[1]),this.scrollPosition=[]))}})}(FooGallery.$,FooGallery,FooGallery.utils.is,FooGallery.utils.fullscreen),function(a,b,c,d,e,f,g){b.Panel.Area=c.Class.extend({construct:function(a,b,d,e){this.panel=a,this.name=b,this.opt=f.extend({waitForUnload:!0},d),this.cls=f.extend({elem:this.__cls(a.cls.area.elem,b,!0),inner:this.__cls(a.cls.area.inner,b,!0)},e),this.sel=c.selectify(this.cls),this.currentMedia=null,this.$el=null,this.$inner=null,this.isCreated=!1,this.isAttached=!1},__cls:function(a,b,c){var d=a.replace(/-area($|-)/,"-"+b+"$1");return c?[a,d].join(" "):d},create:function(){var a=this;if(!a.isCreated){a.panel.trigger("area-create",[a]).isDefaultPrevented()||(a.isCreated=a.doCreate()),a.isCreated&&a.panel.trigger("area-created",[a])}return a.isCreated},doCreate:function(){return this.$el=a("<div/>").addClass(this.cls.elem),this.$inner=a("<div/>").addClass(this.cls.inner).appendTo(this.$el),!0},destroy:function(){var a=this;if(a.isCreated){a.panel.trigger("area-destroy",[a]).isDefaultPrevented()||(a.isCreated=!a.doDestroy()),a.isCreated||a.panel.trigger("area-destroyed",[a])}return!a.isCreated},doDestroy:function(){return this.currentMedia instanceof b.Panel.Media&&this.currentMedia.detach(),this.$el.remove(),!0},appendTo:function(a){var b=this;if(b.isCreated||b.create(),b.isCreated&&!b.isAttached){b.panel.trigger("area-append",[b,a]).isDefaultPrevented()||(b.isAttached=b.doAppendTo(a)),b.isAttached&&b.panel.trigger("area-appended",[b,a])}return b.isAttached},doAppendTo:function(a){return this.$el.appendTo(a),this.$el.parent().length>0},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.panel.trigger("area-detach",[a]).isDefaultPrevented()||(a.isAttached=!a.doDetach()),a.isAttached||a.panel.trigger("area-detached",[a])}return!a.isAttached},doDetach:function(){return this.$el.detach(),!0},load:function(c){var d=this;return c instanceof b.Panel.Media?a.Deferred(function(a){var e=d.shouldReverseTransition(d.currentMedia,c);if(d.panel.trigger("area-load",[d,c,e]).isDefaultPrevented())return void a.rejectWith("default prevented");var f=d.currentMedia instanceof b.Panel.Media,g=d.currentMedia
;d.opt.waitForUnload&&f?(d.panel.trigger("area-unload",[d,g]),d.doUnload(g,e).then(function(){d.panel.trigger("area-unloaded",[d,g]),d.currentMedia=c,d.panel.trigger("area-load",[d,c]),d.doLoad(c,e).then(a.resolve).fail(a.reject)}).fail(a.reject)):(f&&(d.panel.trigger("area-unload",[d,g]),d.doUnload(g,e).then(function(){d.panel.trigger("area-unloaded",[d,g])})),d.currentMedia=c,d.panel.trigger("area-load",[d,c]),d.doLoad(c,e).then(a.resolve).fail(a.reject))}).then(function(){d.panel.trigger("area-loaded",[d,c])}).fail(function(){d.panel.trigger("area-error",[d,c])}).promise():e.rejectWith("unable to load media")},doLoad:function(a,b){return e.resolved},doUnload:function(a,b){return e.resolved},close:function(a){var c=this;if(c.currentMedia instanceof b.Panel.Media){var d=c.currentMedia;if(!a)return c.panel.trigger("area-unload",[c,d]),c.doUnload(d,!1).then(function(){c.panel.trigger("area-unloaded",[c,d]),c.currentMedia=null});c.panel.trigger("area-unload",[c,d]),c.doUnload(d,!1).then(function(){c.panel.trigger("area-unloaded",[c,d])}),c.currentMedia=null}return e.resolved},shouldReverseTransition:function(a,c){if(!(a instanceof b.Panel.Media&&c instanceof b.Panel.Media))return!0;var d=a.item.index<c.item.index,e=this.panel.tmpl.items.last(this.panel.isVisible);return e instanceof b.Item&&(0===c.item.index&&a.item.index===e.index||c.item.index===e.index&&0===a.item.index)&&(d=!d),d},listen:function(){},stopListening:function(){},resize:function(){}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj,FooGallery.utils.str),function(a,b,c,d){b.Panel.Content=b.Panel.Area.extend({construct:function(a){this._super(a,"content",{waitForUnload:!1},a.cls.content),this.robserver=null},doCreate:function(){var a=this;return!!a._super()&&(a.panel.opt.swipe&&a.$inner.fgswipe({data:{self:a},swipe:a.onSwipe,allowPageScroll:!0}),a.robserver=new ResizeObserver(c.throttle(function(){a.resize()},50)),a.robserver.observe(a.$inner.get(0)),!0)},doDestroy:function(){return this.robserver instanceof ResizeObserver&&this.robserver.disconnect(),this.$inner.fgswipe("destroy"),this._super()},doLoad:function(b,c){var e=this,f=e.panel.cls.states;return a.Deferred(function(g){b.isCreated||b.create(),b.$el.toggleClass(f.reverse,c),b.appendTo(e.$inner);var h=[];e.panel.hasTransition?h.push(d.start(b.$el,f.visible,!0,350)):b.$el.addClass(f.visible),h.push(b.load()),a.when.apply(a,h).then(g.resolve).fail(g.reject)}).promise()},doUnload:function(b,c){var e=this,f=e.panel.cls.states;return a.Deferred(function(g){var h=[];b.isCreated&&(b.$el.toggleClass(f.reverse,!c),e.panel.hasTransition?h.push(d.start(b.$el,f.visible,!1,350)):b.$el.removeClass(f.visible)),h.push(b.unload()),a.when.apply(a,h).then(g.resolve).fail(g.reject)}).always(function(){b.isCreated&&b.$el.removeClass(f.reverse),b.detach()}).promise()},onSwipe:function(a,b){var c=b.self;"E"===a.direction&&c.panel.prev(),"W"===a.direction&&c.panel.next()},resize:function(){this.currentMedia instanceof b.Panel.Media&&this.currentMedia.resize()}})}(FooGallery.$,FooGallery,FooGallery.utils.fn,FooGallery.utils.transition),function(a,b,c,d,e,f,g){b.Panel.SideArea=b.Panel.Area.extend({construct:function(a,b,c,d){var e=this,f=a.cls.sideArea;e._super(a,b,g.extend({icon:null,label:null,position:null,visible:!0,autoHide:!1,toggle:!!a.opt.buttons[b]},c),g.extend({toggle:this.__cls(f.toggle,b,!0),visible:this.__cls(f.visible,b),position:{top:this.__cls(f.position.top,b),right:this.__cls(f.position.right,b),bottom:this.__cls(f.position.bottom,b),left:this.__cls(f.position.left,b)}},d)),e.isVisible=e.opt.visible,e.allPositionClasses=Object.keys(e.cls.position).map(function(a){return e.cls.position[a]}).join(" "),e.button=e.registerButton()},registerButton:function(){var a=new b.Panel.SideAreaButton(this);return this.panel.buttons.register(a),a},doCreate:function(){return!!this._super()&&(this.opt.toggle&&a("<button/>",{type:"button"}).addClass(this.cls.toggle).append(c.get("circle-close",this.panel.opt.icons)).on("click.foogallery",{self:this},this.onToggleClick).appendTo(this.$inner),this.isEnabled()&&(this.panel.$el.toggleClass(this.cls.visible,this.isVisible),this.setPosition(this.opt.position)),!0)},isEnabled:function(){return this.cls.position.hasOwnProperty(this.opt.position)},canLoad:function(a){return a instanceof b.Panel.Media},getPosition:function(){return this.isEnabled()?this.cls.position[this.opt.position]:null},setPosition:function(a){this.opt.position=this.cls.position.hasOwnProperty(a)?a:null,e.jq(this.panel.$el)&&this.panel.$el.removeClass(this.allPositionClasses).addClass(this.getPosition())},toggle:function(a){this.isVisible=e.boolean(a)?a:!this.isVisible,e.jq(this.panel.$el)&&this.panel.$el.toggleClass(this.cls.visible,this.isVisible)},onToggleClick:function(a){a.preventDefault(),a.data.self.toggle()}})}(FooGallery.$,FooGallery,FooGallery.icons,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d){b.Panel.Info=b.Panel.SideArea.extend({construct:function(a){this._super(a,"info",{icon:"info",label:a.il8n.buttons.info,position:a.opt.info,overlay:a.opt.infoOverlay,visible:a.opt.infoVisible,autoHide:a.opt.infoAutoHide,waitForUnload:!1},a.cls.info),this.allPositionClasses+=" "+this.cls.overlay},getPosition:function(){var a=this._super();return null!=a&&this.opt.overlay?a+" "+this.cls.overlay:a},setPosition:function(a,b){c.boolean(b)&&(this.opt.overlay=b),this._super(a)},canLoad:function(a){return this._super(a)&&a.caption.canLoad()},doLoad:function(a,b){return this.canLoad(a)&&(a.caption.appendTo(this.$inner),a.caption.load()),d.resolved},doUnload:function(a,b){return a.caption.unload(),a.caption.detach(),d.resolved}})}(FooGallery.$,FooGallery,FooGallery.utils.is,FooGallery.utils.fn),function(a,b,c,d,e,f,g){b.Panel.Thumbs=b.Panel.SideArea.extend({construct:function(a){this._super(a,"thumbs",{icon:"thumbs",label:a.il8n.buttons.thumbs,position:a.opt.thumbs,captions:a.opt.thumbsCaptions,small:a.opt.thumbsSmall,bestFit:a.opt.thumbsBestFit,toggle:!1,waitForUnload:!1},a.cls.thumbs),this.iobserver=null,this.robserver=null,this.$prev=null,this.$next=null,this.$viewport=null,this.$stage=null,this.$dummy=null,this.__items=[],this.__animationFrameId=null,this.info=this.getInfo(),this.selectedIndex=0,this.scrollIndex=0,this.lastIndex=0},isHorizontal:function(){return-1!==["top","bottom"].indexOf(this.opt.position)},doCreate:function(){var b=this;return!(!b.isEnabled()||!b._super())&&(b.opt.captions||b.panel.$el.addClass(b.cls.noCaptions),b.opt.small&&b.panel.$el.addClass(b.cls.small),b.$prev=a("<button/>",{type:"button"}).addClass(b.cls.prev).append(c.get("arrow-left",b.panel.opt.icons)).on("click.foogallery",{self:b},b.onPrevClick).prependTo(b.$inner),b.$viewport=a("<div/>").addClass(b.cls.viewport).appendTo(b.$inner),b.$next=a("<button/>",{type:"button"}).addClass(b.cls.next).append(c.get("arrow-right",b.panel.opt.icons)).on("click.foogallery",{self:b},b.onNextClick).appendTo(b.$inner),b.$stage=a("<div/>").addClass(b.cls.stage).appendTo(b.$viewport),b.$dummy=a("<div/>").addClass(b.cls.thumb.elem).appendTo(b.$viewport),b.iobserver=new IntersectionObserver(function(a){a.forEach(function(a){a.isIntersecting&&(b.iobserver.unobserve(a.target),b.loadThumbElement(a.target))})},{root:b.$inner.get(0),rootMargin:"82px 300px"}),b.robserver=new ResizeObserver(f.throttle(function(a){var c=a[0].contentRect,d=b.info.viewport,e=Math.floor(Math.abs(c.width-d.width)),f=Math.floor(Math.abs(c.height-d.height));b.isVisible&&(e>1||f>1)&&b.resize()},50)),b.doCreateThumbs(b.panel.tmpl.items.available(b.panel.isVisible)),!0)},doCreateThumbs:function(b){if(!e.empty(b)){var c=this;c.iobserver instanceof IntersectionObserver&&c.iobserver.takeRecords().forEach(function(a){c.iobserver.unobserve(a.target)}),c.__items=b,c.selectedIndex=0,c.scrollIndex=0,c.lastIndex=c.__items.length-1,c.$stage.empty(),b.forEach(function(a){var b=c.doCreateThumb(a).appendTo(c.$stage);c.iobserver.observe(b.get(0))}),c.$stage.append(a("<div/>").addClass(c.cls.spacer))}},doCreateThumb:function(b){var c=this,d=c.cls.thumb;return a("<figure/>").addClass(d.elem).addClass(b.getTypeClass()).addClass(c.panel.cls.states.idle).append(a("<div/>").addClass(d.media).append(a("<div/>").addClass(d.overlay),a("<div/>").addClass(d.wrap).append(a("<img/>",{title:b.title,alt:b.alt}).attr({draggable:!1}).addClass(d.image)),a("<div/>").addClass(c.panel.cls.loader)),a("<div/>").addClass(d.caption).append(a("<div/>").addClass(d.title).html(b.caption),a("<div/>").addClass(d.description).html(b.description))).data("item",b).on("click",{self:c,item:b},c.onThumbClick)},doDestroy:function(){return this.stopListening(),this.iobserver instanceof IntersectionObserver&&this.iobserver.disconnect(),this.robserver instanceof ResizeObserver&&this.robserver.disconnect(),this._super()},doLoad:function(a,b){if(this.isCreated){var c=this.__items.indexOf(a.item);-1!==c&&(this.makeVisible(c),this.$stage.find(this.sel.thumb.elem).removeClass(this.panel.cls.states.selected).eq(c).addClass(this.panel.cls.states.selected),this.selectedIndex=c)}return f.resolved},makeVisible:function(a,b){a<=this.scrollIndex?this.goto(a,b):a>=this.scrollIndex+this.info.count&&this.goto(a,b)},listen:function(){var a=this;a.stopListening(),a.isCreated&&(a.resize(),a.robserver.observe(a.$viewport.get(0)),a.$inner.fgswipe({data:{self:a},swipe:a.onSwipe,allowPageScroll:!0}).on("DOMMouseScroll.foogallery-panel-thumbs mousewheel.foogallery-panel-thumbs",{self:a},a.onMouseWheel))},stopListening:function(){this.isCreated&&(this.$inner.fgswipe("destroy").off(".foogallery-panel-thumbs"),this.$stage.find(this.sel.thumb).css({width:"",minWidth:"",height:"",minHeight:""}),this.robserver.unobserve(this.$viewport.get(0)))},loadThumbElement:function(b){var c=this,d=a(b),e=d.data("item"),f=d.find(c.sel.thumb.media),g=d.find(c.sel.thumb.image),h=g.get(0),i=c.panel.cls.states;d.removeClass(i.allLoading).addClass(i.loading),h.onload=function(){h.onload=h.onerror=null,d.removeClass(i.allLoading).addClass(i.loaded)},h.onerror=function(){h.onload=h.onerror=null,d.removeClass(i.allLoading).addClass(i.error)},h.src=e.getThumbSrc(f.width(),f.height()),h.complete&&h.onload()},goto:function(b,c){var d=this;if(!d.isCreated)return f.rejectWith("thumbs not created");b=b<0?0:b>d.lastIndex?d.lastIndex:b;var e=d.panel.cls.states,h=b>=d.scrollIndex+d.info.count,i=h?b-(d.info.count-1):b,j=d.lastIndex-(d.info.count-1);return i<0&&(i=0),j<0&&(j=0),i>j&&(i=j),a.Deferred(function(a){var b=d.$stage.find(d.sel.thumb.elem).eq(i);if(b.length>0){var f,h,j=i>d.scrollIndex,k=d.__items.length>=d.info.count;d.info.isHorizontal?(f=-b.prop("offsetLeft"),j&&(f+=d.info.remaining.width),k&&d.info.stage.width-Math.abs(f)<d.info.viewport.width&&(f=d.info.viewport.width-d.info.stage.width),h="translateX("+(f-1)+"px)"):(f=-b.prop("offsetTop"),j&&(f+=d.info.remaining.height),k&&d.info.stage.height-Math.abs(f)<d.info.viewport.height&&(f=d.info.viewport.height-d.info.stage.height),h="translateY("+(f-1)+"px)"),d.panel.hasTransition&&!c?g.start(d.$stage,function(a){a.css("transform",h)},null,350).then(function(){a.resolve()}).fail(a.reject):(d.$stage.addClass(e.noTransitions).css("transform",h),d.$stage.prop("offsetHeight"),d.$stage.removeClass(e.noTransitions),a.resolve())}else a.resolve()}).always(function(){d.scrollIndex=i,d.$prev.toggleClass(e.disabled,i<=0),d.$next.toggleClass(e.disabled,i>=j)}).promise()},getInfo:function(){var a=this.isHorizontal(),b={width:0,height:0},c={width:0,height:0},d={width:0,height:0},e={horizontal:0,vertical:0},f={width:0,height:0},g={width:0,height:0},h=0,i=0,j=this.__items.length;return this.isCreated&&(b={width:this.$viewport.innerWidth()+1,height:this.$viewport.innerHeight()+1},d={width:this.$dummy.outerWidth(),height:this.$dummy.outerHeight()},e={horizontal:Math.floor(b.width/d.width),vertical:Math.floor(b.height/d.height)},f={width:b.width/Math.min(j,e.horizontal),height:b.height/Math.min(j,e.vertical)},h=this.opt.bestFit?f.width:d.width,i=this.opt.bestFit?f.height:d.height,c={width:a?this.__items.length*h:h,height:a?i:this.__items.length*i},g={width:Math.floor(b.width-e.horizontal*h),height:Math.floor(b.height-e.vertical*i)}),{isHorizontal:a,viewport:b,stage:c,original:d,adjusted:f,remaining:g,counts:e,count:a?e.horizontal:e.vertical,width:h,height:i}},resize:function(){this.isCreated&&(this.info=this.getInfo(),this.opt.bestFit&&(this.info.isHorizontal?this.$stage.find(this.sel.thumb.elem).css({width:this.info.width,minWidth:this.info.width,height:"",minHeight:""}):this.$stage.find(this.sel.thumb.elem).css({height:this.info.height,minHeight:this.info.height,width:"",minWidth:""})),this.goto(this.scrollIndex,!0))},onThumbClick:function(a){a.preventDefault(),a.data.self.panel.load(a.data.item)},onPrevClick:function(a){a.preventDefault();var b=a.data.self;b.goto(b.scrollIndex-(b.info.count-1||1))},onNextClick:function(a){a.preventDefault();var b=a.data.self;b.goto(b.scrollIndex+(b.info.count-1||1))},onSwipe:function(a,b){var c=b.self,d=1;c.info.isHorizontal?(d=Math.ceil(a.distance/c.info.width),"E"===a.direction&&c.goto(c.scrollIndex-d),"W"===a.direction&&c.goto(c.scrollIndex+d)):(d=Math.ceil(a.distance/c.info.height),"S"===a.direction&&c.goto(c.scrollIndex-d),"N"===a.direction&&c.goto(c.scrollIndex+d))},onMouseWheel:function(a){var b=a.data.self,c=Math.max(-1,Math.min(1,a.originalEvent.wheelDelta||-a.originalEvent.detail));c>0?(b.goto(b.scrollIndex-1),a.preventDefault()):c<0&&(b.goto(b.scrollIndex+1),a.preventDefault())}})}(FooGallery.$,FooGallery,FooGallery.icons,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.transition),function(a,b,c,d){b.Panel.Cart=b.Panel.SideArea.extend({construct:function(a){this._super(a,"cart",{icon:"cart",label:a.il8n.buttons.cart,position:a.opt.cart,visible:a.opt.cartVisible,waitForUnload:!1},a.cls.cart)},canLoad:function(a){return this._super(a)&&a.product.canLoad()},doLoad:function(a,b){return this.canLoad(a)&&(a.product.appendTo(this.$inner),a.product.load()),c.resolved},doUnload:function(a,b){return a.product.unload(),a.product.detach(),c.resolved}})}(FooGallery.$,FooGallery,FooGallery.utils.fn,FooGallery.utils.transition),function(a,b,c,d,e,f,g,h){b.Panel.Media=c.Class.extend({construct:function(a,c){var d=this;d.panel=a,d.item=c,d.opt=f.extend({},a.opt.media),d.cls=f.extend({},a.cls.media),d.sel=f.extend({},a.sel.media),d.caption=new b.Panel.Media.Caption(a,d),d.product=new b.Panel.Media.Product(a,d),d.$el=null,d.$content=null,d.isCreated=!1,d.isAttached=!1,d.isLoading=!1,d.isLoaded=!1,d.isError=!1},getSize:function(a,b,c,e){var f=this,g={};return d.string(a)&&d.string(b)?(g[a]=d.size(c)?c:null,g[b]=d.size(e)?e:null,f.item.isCreated?(g[a]=f.item.$anchor.data(a)||g[a],g[b]=f.item.$anchor.data(b)||g[b],g):g):g},getSizes:function(){var a=this,b=a.getSize("width","height",a.opt.width,a.opt.height),c=a.getSize("maxWidth","maxHeight",a.opt.maxWidth,a.opt.maxHeight),d=a.getSize("minWidth","minHeight",a.opt.minWidth,a.opt.minHeight);return f.extend(b,c,d)},destroy:function(){var a=this;return a.panel.trigger("media-destroy",[a]).isDefaultPrevented()||(a.isCreated=!a.doDestroy()),a.isCreated||a.panel.trigger("media-destroyed",[a]),!a.isCreated},doDestroy:function(){var a=this;return a.isCreated&&(a.caption.destroy(),a.detach(),a.$el.remove()),!0},create:function(){var a=this;if(!a.isCreated&&d.string(a.item.href)){a.panel.trigger("media-create",[a]).isDefaultPrevented()||(a.isCreated=a.doCreate()),a.isCreated&&a.panel.trigger("media-created",[a])}return a.isCreated},doCreate:function(){var b=this;return b.$el=a("<div/>").addClass([b.cls.elem,b.cls.type].join(" ")).append(a("<div/>").addClass(b.panel.cls.loader)),b.$content=b.doCreateContent().addClass(b.cls.content).css(b.getSizes()).appendTo(b.$el),!0},doCreateContent:function(){return a()},appendTo:function(a){var b=this;if(b.isCreated||b.create(),b.isCreated&&!b.isAttached){b.panel.trigger("media-append",[b,a]).isDefaultPrevented()||(b.isAttached=b.doAppendTo(a)),b.isAttached&&b.panel.trigger("media-appended",[b,a])}return b.isAttached},doAppendTo:function(a){return this.$el.appendTo(a),this.$el.parent().length>0},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.panel.trigger("media-detach",[a]).isDefaultPrevented()||(a.isAttached=!a.doDetach()),a.isAttached||a.panel.trigger("media-detached",[a])}return!a.isAttached},doDetach:function(){return this.$el.detach(),!0},load:function(){var b=this,c=b.panel.cls.states;return a.Deferred(function(a){if(b.panel.trigger("media-load",[b]).isDefaultPrevented())return void a.rejectWith("default prevented");b.$el.removeClass(c.allLoading).addClass(c.loading),b.doLoad().then(a.resolve).fail(a.reject)}).always(function(){b.$el.removeClass(c.loading)}).then(function(){b.$el.addClass(c.loaded),b.panel.trigger("media-loaded",[b])}).fail(function(){b.$el.addClass(c.loaded),b.panel.trigger("media-error",[b])}).promise()},doLoad:function(){return e.resolved},unload:function(){var b=this;return a.Deferred(function(a){return b.isCreated&&b.isAttached?b.panel.trigger("media-unload",[b]).isDefaultPrevented()?void a.rejectWith("default prevented"):void b.doUnload().then(a.resolve).fail(a.reject):void a.rejectWith("not created or attached")}).then(function(){b.panel.trigger("media-unloaded",[b])}).promise()},doUnload:function(){return e.resolved},resize:function(){}}),b.template.configure("core",{panel:{media:{width:null,height:null,minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,attrs:{}}}},{panel:{media:{elem:"fg-media",type:"fg-media-unknown",content:"fg-media-content",caption:{elem:"fg-media-caption",title:"fg-media-caption-title",description:"fg-media-caption-description",exif:{elem:"fg-media-caption-exif",auto:"fg-media-caption-exif-auto",full:"fg-media-caption-exif-full",partial:"fg-media-caption-exif-partial",minimal:"fg-media-caption-exif-minimal",prop:"fg-media-caption-exif-prop",icon:"fg-media-caption-exif-icon",content:"fg-media-caption-exif-content",label:"fg-media-caption-exif-label",value:"fg-media-caption-exif-value",tooltip:"fg-media-caption-exif-tooltip",tooltipPointer:"fg-media-caption-exif-tooltip-pointer",showTooltip:"fg-media-caption-exif-show-tooltip"}},product:{elem:"fg-media-product",inner:"fg-media-product-inner",header:"fg-media-product-header",body:"fg-media-product-body",footer:"fg-media-product-footer"}}}}),b.Panel.media=new c.Factory}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj,FooGallery.utils.str,FooGallery.utils.transition),function(a,b,c,d,e,f,g,h,i){var j=!!window.matchMedia&&window.matchMedia("(hover: hover)").matches;b.Panel.Media.Caption=d.Class.extend({construct:function(a,b){var c=this;c.panel=a,c.media=b,c.opt=a.opt,c.cls=b.cls.caption,c.sel=b.sel.caption,c.$el=null,c.isCreated=!1,c.isAttached=!1,c.hasTitle=!1,c.hasDescription=!1,c.hasExif=!1},canLoad:function(){return this.hasTitle=!e.empty(this.media.item.caption),this.hasDescription=!e.empty(this.media.item.description),this.hasExif=this.media.item.hasExif&&-1!==a.inArray(this.opt.exif,["auto","full","partial","minimal"]),this.hasTitle||this.hasDescription||this.hasExif},create:function(){if(!this.isCreated){this.panel.trigger("caption-create",[this]).isDefaultPrevented()||(this.isCreated=this.doCreate(),this.isCreated&&this.panel.trigger("caption-created",[this]))}return this.isCreated},doCreate:function(){if(this.$el=a("<div/>").addClass(this.cls.elem),this.hasTitle&&this.$el.append(a("<div/>").addClass(this.cls.title).html(this.media.item.caption)),this.hasDescription&&this.$el.append(a("<div/>").addClass(this.cls.description).html(this.media.item.description)),this.hasExif){var b=this.media.item.exif,d=a("<div/>",{class:this.cls.exif.elem}).addClass(this.cls.exif[this.opt.exif]);for(var f in b)if(b.hasOwnProperty(f)&&!e.empty(b[f])){var g="exif-"+h.kebab(f),i=this.media.item.il8n.exif[f],k=b[f],l=a("<div/>",{class:this.cls.exif.prop}).append(a("<div/>",{class:this.cls.exif.icon}).append(c.get(g,this.opt.icons)),a("<div/>",{class:this.cls.exif.content}).append(a("<div/>",{class:this.cls.exif.label}).text(i),a("<div/>",{class:this.cls.exif.value}).text(k)),a("<span/>",{class:this.cls.exif.tooltip}).text(i+": "+k).append(a("<span/>",{class:this.cls.exif.tooltipPointer})));j||l.on("click",{self:this},this.onExifClick),d.append(l)}this.$el.append(d)}return!0},onExifClick:function(b){b.preventDefault();var c=b.data.self,d=a(this),e=d.find(c.sel.exif.tooltip),f=a(c.sel.exif.showTooltip);if(a(c.sel.exif.prop).removeClass(c.cls.exif.showTooltip).find(c.sel.exif.tooltip).css("left","").find(c.sel.exif.tooltipPointer).css("left",""),!f.is(d)){e.css("display","inline-block");var g=e.offset().left,h=g+e.outerWidth(),i=Math.ceil(h-window.innerWidth);i>0&&e.css("left","calc(50% - "+i+"px)").find(c.sel.exif.tooltipPointer).css("left","calc(50% + "+i+"px)"),g<0&&(g=Math.abs(g),e.css("left","calc(50% + "+g+"px)").find(c.sel.exif.tooltipPointer).css("left","calc(50% - "+g+"px)")),e.css("display",""),d.addClass(c.cls.exif.showTooltip)}},destroy:function(){if(this.isCreated){this.panel.trigger("caption-destroy",[this]).isDefaultPrevented()||(this.isCreated=!this.doDestroy(),this.isCreated||this.panel.trigger("caption-destroyed",[this]))}return!this.isCreated},doDestroy:function(){return this.$el.remove(),!0},appendTo:function(a){var b=this;if(b.isCreated||b.create(),b.isCreated&&!b.isAttached){b.panel.trigger("caption-append",[b,a]).isDefaultPrevented()||(b.isAttached=b.doAppendTo(a)),b.isAttached&&b.panel.trigger("caption-appended",[b,a])}return b.isAttached},doAppendTo:function(a){return this.$el.appendTo(a),this.$el.parent().length>0},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.panel.trigger("caption-detach",[a]).isDefaultPrevented()||(a.isAttached=!a.doDetach()),a.isAttached||a.panel.trigger("caption-detached",[a])}return!a.isAttached},doDetach:function(){return this.$el.detach(),!0},load:function(){var b=this,c=b.panel.cls.states;return a.Deferred(function(a){if(b.panel.trigger("caption-load",[b]).isDefaultPrevented())return void a.rejectWith("default prevented");b.$el.removeClass(c.allLoading).addClass(c.loading),b.doLoad().then(a.resolve).fail(a.reject)}).always(function(){b.$el.removeClass(c.loading)}).then(function(){b.$el.addClass(c.loaded),b.panel.trigger("caption-loaded",[b])}).fail(function(){b.$el.addClass(c.loaded),b.panel.trigger("caption-error",[b])}).promise()},doLoad:function(){return f.resolved},unload:function(){var b=this;return a.Deferred(function(a){return b.isCreated&&b.isAttached?b.panel.trigger("caption-unload",[b]).isDefaultPrevented()?void a.rejectWith("default prevented"):void b.doUnload().then(a.resolve).fail(a.reject):void a.rejectWith("not created or attached")}).then(function(){b.panel.trigger("caption-unloaded",[b])}).promise()},doUnload:function(){return f.resolved}})}(FooGallery.$,FooGallery,FooGallery.icons,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj,FooGallery.utils.str,FooGallery.utils.transition),function(a,b,c,d,e,f,g){b.Panel.Media.Product=c.Class.extend({construct:function(a,b){var c=this;c.panel=a,c.media=b,c.opt=a.opt,c.cls=b.cls.product,c.sel=b.sel.product,c.$el=null,c.$inner=null,c.$header=null,c.$body=null,c.$footer=null,c.isCreated=!1,c.isAttached=!1,c.__loaded=null,c.__requestId=null},canLoad:function(){return!d.empty(this.media.item.productId)},create:function(){if(!this.isCreated){this.panel.trigger("product-create",[this]).isDefaultPrevented()||(this.isCreated=this.doCreate(),this.isCreated&&this.panel.trigger("product-created",[this]))}return this.isCreated},doCreate:function(){return this.$el=a("<div/>").addClass(this.cls.elem).append(a("<div/>").addClass(this.panel.cls.loader)),this.$inner=a("<div/>").addClass(this.cls.inner).appendTo(this.$el),this.$header=a("<div/>").addClass(this.cls.header).text("Add To Cart").appendTo(this.$inner),this.$body=a("<div/>").addClass(this.cls.body).appendTo(this.$inner),this.$footer=a("<div/>").addClass(this.cls.footer).append(a("<div/>").addClass("fg-panel-button fg-product-button").text("Add to Cart"),a("<div/>").addClass("fg-panel-button fg-product-button").text("View Cart")).appendTo(this.$inner),!0},destroy:function(){if(this.isCreated){this.panel.trigger("product-destroy",[this]).isDefaultPrevented()||(this.isCreated=!this.doDestroy(),this.isCreated||this.panel.trigger("product-destroyed",[this]))}return!this.isCreated},doDestroy:function(){return this.$el.remove(),!0},appendTo:function(a){var b=this;if(b.isCreated||b.create(),b.isCreated&&!b.isAttached){b.panel.trigger("product-append",[b,a]).isDefaultPrevented()||(b.isAttached=b.doAppendTo(a)),b.isAttached&&b.panel.trigger("product-appended",[b,a])}return b.isAttached},doAppendTo:function(a){return this.$el.appendTo(a),this.$el.parent().length>0},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.panel.trigger("product-detach",[a]).isDefaultPrevented()||(a.isAttached=!a.doDetach()),a.isAttached||a.panel.trigger("product-detached",[a])}return!a.isAttached},doDetach:function(){return this.$el.detach(),!0},load:function(){var b=this,c=b.panel.cls.states;return a.Deferred(function(a){if(b.panel.trigger("product-load",[b]).isDefaultPrevented())return void a.rejectWith("default prevented");b.$el.removeClass(c.allLoading).addClass(c.loading),b.doLoad().then(a.resolve).fail(a.reject)}).always(function(){b.$el.removeClass(c.loading)}).then(function(){b.$el.addClass(c.loaded),b.panel.trigger("product-loaded",[b])}).fail(function(){b.$el.addClass(c.loaded),b.panel.trigger("product-error",[b])}).promise()},doLoad:function(){var b=this;return null!=b.__loaded?b.__loaded:b.__loaded=a.Deferred(function(a){b.__requestId=setTimeout(function(){b.$body.append("loaded!"),a.resolve()},3e3)}).promise()},unload:function(){var b=this;return a.Deferred(function(a){return b.isCreated&&b.isAttached?b.panel.trigger("product-unload",[b]).isDefaultPrevented()?void a.rejectWith("default prevented"):void b.doUnload().then(a.resolve).fail(a.reject):void a.rejectWith("not created or attached")}).then(function(){b.panel.trigger("product-unloaded",[b])}).promise()},doUnload:function(){return e.resolved}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj,FooGallery.utils.transition),function(a,b,c,d,e){b.Panel.Image=b.Panel.Media.extend({construct:function(a,b){this._super(a,b),d.extend(this.opt,a.opt.image),d.extend(this.cls,a.cls.image),d.extend(this.sel,a.sel.image),this.allFullClasses=[this.cls.fullWidth,this.cls.fullHeight].join(" ")},doCreateContent:function(){return a("<img/>").attr(this.opt.attrs)},resize:function(){var a=this;if(a.isCreated&&a.panel.opt.fitMedia){var b=a.$content.get(0);if(b.naturalWidth&&b.naturalHeight){var c,d=b.naturalWidth>=b.naturalHeight,f=d,g=a.$el.innerWidth(),h=a.$el.innerHeight();d?(c=g/b.naturalWidth,b.naturalHeight*c<h&&(f=!1)):(c=h/b.naturalHeight,b.naturalWidth*c<g&&(f=!0)),e.requestFrame(function(){a.$content.removeClass(a.allFullClasses).addClass(f?a.cls.fullWidth:a.cls.fullHeight)})}}},doLoad:function(){var b=this;return a.Deferred(function(a){var c=b.$content.get(0);c.onload=function(){c.onload=c.onerror=null,a.resolve(b)},c.onerror=function(){c.onload=c.onerror=null,a.rejectWith("error loading image")},c.src=b.item.href,c.complete&&c.onload()}).then(function(){b.resize()}).promise()}}),b.Panel.media.register("image",b.Panel.Image),b.template.configure("core",{panel:{image:{attrs:{draggable:!1}}}},{panel:{image:{type:"fg-media-image",fullWidth:"fg-media-full-width",fullHeight:"fg-media-full-height"}}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.obj,FooGallery.utils.animation),function(a,b,c,d){b.Panel.Iframe=b.Panel.Media.extend({construct:function(a,b){this._super(a,b),d.extend(this.opt,a.opt.iframe),d.extend(this.cls,a.cls.iframe),d.extend(this.sel,a.sel.iframe)},doCreateContent:function(){return a("<iframe/>").attr(this.opt.attrs)},doLoad:function(){var b=this;return a.Deferred(function(a){b.$content.off("load error").on({load:function(){b.$content.off("load error"),a.resolve(b)},error:function(){b.$content.off("load error"),a.reject(b)}}),b.$content.attr("src",b.item.href)}).promise()}}),b.Panel.media.register("iframe",b.Panel.Iframe),b.template.configure("core",{panel:{iframe:{attrs:{src:"",frameborder:"no",allow:"autoplay; fullscreen",allowfullscreen:!0}}}},{panel:{iframe:{type:"fg-media-iframe"}}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.obj),function(a,b,c,d,e){b.Panel.Html=b.Panel.Media.extend({construct:function(a,b){this._super(a,b),d.extend(this.opt,a.opt.html),d.extend(this.cls,a.cls.html),d.extend(this.sel,a.sel.html),this.$target=null},doCreate:function(){return!!this._super()&&(!(!e.startsWith(this.item.href,"#")||0===(this.$target=a(this.item.href)).length)||(this.$target=null,!1))},doCreateContent:function(){return a("<div/>").attr(this.opt.attrs)},doAppendTo:function(a){return!!this._super(a)&&(this.$content.append(this.$target.contents()),!0)},doDetach:function(){return this.$target.append(this.$content.contents()),this._super()}}),b.Panel.media.register("html",b.Panel.Html),b.template.configure("core",{panel:{html:{}}},{panel:{html:{type:"fg-media-html"}}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.obj,FooGallery.utils.str),function(a,b,c,d,e){b.Panel.Embed=b.Panel.Html.extend({construct:function(a,b){this._super(a,b),d.extend(this.opt,a.opt.embed),d.extend(this.cls,a.cls.embed),d.extend(this.sel,a.sel.embed)}}),b.Panel.media.register("embed",b.Panel.Embed),b.template.configure("core",{panel:{embed:{}}},{panel:{embed:{type:"fg-media-embed"}}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.obj,FooGallery.utils.str),function(a,b,c,d,e,f){b.Panel.Video=b.Panel.Media.extend({construct:function(a,b){this._super(a,b),e.extend(this.opt,a.opt.video),e.extend(this.cls,a.cls.video),e.extend(this.sel,a.sel.video),this.urls=[],this.isSelfHosted=!1},parseHref:function(){for(var a,b,c=this,e=c.item.href.split(","),g=[],h=0,i=e.length;h<i;h++)if(!d.empty(e[h])){a=f.parts(e[h]),b=null;for(var j=0,k=c.panel.videoSources.length;j<k;j++)if(c.panel.videoSources[j].canPlay(a)){b=c.panel.videoSources[j],g.push({parts:a,source:b,embed:b.getEmbedUrl(a,c.opt.autoPlay)});break}}return g},doCreateContent:function(){return this.urls=this.parseHref(),this.isSelfHosted=a.map(this.urls,function(a){return!!a.source.selfHosted||null}).length>0,this.isSelfHosted?a("<video/>",this.opt.attrs.video):a("<iframe/>",this.opt.attrs.iframe)},doLoad:function(){var b=this;return a.Deferred(function(a){if(0===b.urls.length)return void a.rejectWith("no urls available");(b.isSelfHosted?b.loadSelfHosted():b.loadIframe()).then(a.resolve).fail(a.reject)}).promise()},loadSelfHosted:function(){var b=this;return a.Deferred(function(c){b.$content.off("loadeddata error"),b.$content.find("source").remove(),d.empty(b.item.cover)||b.$content.attr("poster",b.item.cover),b.$content.on({loadeddata:function(){if(b.$content.off("loadeddata error"),this.volume=b.opt.volume,b.opt.autoPlay){var a=this.play();void 0!==a&&a.catch(function(){console.log("Unable to autoplay video due to policy changes: https://developers.google.com/web/updates/2017/09/autoplay-policy-changes")})}c.resolve(b)},error:function(){b.$content.off("loadeddata error"),c.reject(b)}});var e=a.map(b.urls,function(b){return a("<source/>",{src:b.embed,mimeType:b.source.mimeType})});b.$content.append(e),b.$content.prop("readyState")>0&&b.$content.get(0).load()}).promise()},loadIframe:function(){var b=this;return a.Deferred(function(a){d.empty(b.item.cover)||b.$content.css("background-image","url('"+b.item.cover+"')"),b.$content.off("load error").on({load:function(){b.$content.off("load error"),a.resolve(b)},error:function(){b.$content.off("load error"),a.reject(b)}}),b.$content.attr("src",b.urls[0].embed)}).promise()}}),b.Panel.media.register("video",b.Panel.Video),
b.template.configure("core",{panel:{video:{autoPlay:!1,volume:.2,attrs:{iframe:{src:"",frameborder:"no",allow:"autoplay; fullscreen",allowfullscreen:!0},video:{controls:!0,preload:!1,controlsList:"nodownload"}}}}},{panel:{video:{type:"fg-media-video"}}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.url),function(a,b,c,d,e,f){var g=document.createElement("video");b.Panel.Video.Source=c.Class.extend({construct:function(b,c,e,f,h){this.mimeType=b,this.regex=c,this.selfHosted=!!d.boolean(e)&&e,this.embedParams=d.array(f)?f:[],this.autoPlayParam=d.hash(h)?h:{},this.canPlayType=!this.selfHosted||!d.fn(g.canPlayType)||-1!==a.inArray(g.canPlayType(this.mimeType),["probably","maybe"])},canPlay:function(a){return this.canPlayType&&this.regex.test(a.href)},mergeParams:function(a,b){for(var c,f=this,g=0,h=f.embedParams.length;g<h;g++)c=f.embedParams[g],a.search=e.param(a.search,c.key,c.value);return d.empty(f.autoPlayParam)||(a.search=e.param(a.search,f.autoPlayParam.key,b?f.autoPlayParam.value:"")),a.search},getId:function(a){var b=a.href.match(/.*\/(.*?)($|\?|#)/);return b&&b.length>=2?b[1]:null},getEmbedUrl:function(a,b){return a.search=this.mergeParams(a,b),f.join("/",location.protocol,"//",a.hostname,a.pathname)+a.search+a.hash}}),b.Panel.Video.sources=new c.Factory}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.url,FooGallery.utils.str),function(a){a.Panel.Video.Dailymotion=a.Panel.Video.Source.extend({construct:function(){this._super("video/daily",/(www.)?dailymotion\.com|dai\.ly/i,!1,[{key:"wmode",value:"opaque"},{key:"info",value:"0"},{key:"logo",value:"0"},{key:"related",value:"0"}],{key:"autoplay",value:"1"})},getId:function(a){return/\/video\//i.test(a.href)?a.href.split(/\/video\//i)[1].split(/[?&]/)[0].split(/[_]/)[0]:a.href.split(/dai\.ly/i)[1].split(/[?&]/)[0]},getEmbedUrl:function(a,b){var c=this.getId(a);return a.search=this.mergeParams(a,b),"https://www.dailymotion.com/embed/video/"+c+a.search+a.hash}}),a.Panel.Video.sources.register("video/daily",a.Panel.Video.Dailymotion)}(FooGallery),function(a){a.Panel.Video.Mp4=a.Panel.Video.Source.extend({construct:function(){this._super("video/mp4",/\.mp4/i,!0)}}),a.Panel.Video.sources.register("video/mp4",a.Panel.Video.Mp4),a.Panel.Video.Webm=a.Panel.Video.Source.extend({construct:function(){this._super("video/webm",/\.webm/i,!0)}}),a.Panel.Video.sources.register("video/webm",a.Panel.Video.Webm),a.Panel.Video.Wmv=a.Panel.Video.Source.extend({construct:function(){this._super("video/wmv",/\.wmv/i,!0)}}),a.Panel.Video.sources.register("video/wmv",a.Panel.Video.Wmv),a.Panel.Video.Ogv=a.Panel.Video.Source.extend({construct:function(){this._super("video/ogg",/\.ogv|\.ogg/i,!0)}}),a.Panel.Video.sources.register("video/ogg",a.Panel.Video.Ogv)}(FooGallery),function(a){a.Panel.Video.Vimeo=a.Panel.Video.Source.extend({construct:function(){this._super("video/vimeo",/(player.)?vimeo\.com/i,!1,[{key:"badge",value:"0"},{key:"portrait",value:"0"}],{key:"autoplay",value:"1"})},getEmbedUrl:function(a,b){var c=this.getId(a);return a.search=this.mergeParams(a,b),"https://player.vimeo.com/video/"+c+a.search+a.hash}}),a.Panel.Video.sources.register("video/vimeo",a.Panel.Video.Vimeo)}(FooGallery),function(a,b,c){a.Panel.Video.Wistia=a.Panel.Video.Source.extend({construct:function(){this._super("video/wistia",/(.+)?(wistia\.(com|net)|wi\.st)\/.*/i,!1,[],{iframe:{key:"autoPlay",value:"1"},playlists:{key:"media_0_0[autoPlay]",value:"1"}})},getType:function(a){return/playlists\//i.test(a)?"playlists":"iframe"},mergeParams:function(a,d){for(var e,f=this,g=0,h=f.embedParams.length;g<h;g++)e=f.embedParams[g],a.search=c.param(a.search,e.key,e.value);if(!b.empty(f.autoPlayParam)){var i=f.autoPlayParam[f.getType(a.href)];a.search=c.param(a.search,i.key,d?i.value:"")}return a.search},getId:function(a){return/embed\//i.test(a.href)?a.href.split(/embed\/.*?\//i)[1].split(/[?&]/)[0]:a.href.split(/medias\//)[1].split(/[?&]/)[0]},getEmbedUrl:function(a,b){var c=this.getId(a);return a.search=this.mergeParams(a,b),"https://fast.wistia.net/embed/"+this.getType(a.href)+"/"+c+a.search+a.hash}}),a.Panel.Video.sources.register("video/wistia",a.Panel.Video.Wistia)}(FooGallery,FooGallery.utils.is,FooGallery.utils.url),function(a){a.Panel.Video.YouTube=a.Panel.Video.Source.extend({construct:function(){this._super("video/youtube",/(www.)?youtube|youtu\.be/i,!1,[{key:"modestbranding",value:"1"},{key:"rel",value:"0"},{key:"wmode",value:"transparent"},{key:"showinfo",value:"0"}],{key:"autoplay",value:"1"})},getId:function(a){return/embed\//i.test(a.href)?a.href.split(/embed\//i)[1].split(/[?&]/)[0]:a.href.split(/v\/|v=|youtu\.be\//i)[1].split(/[?&]/)[0]},getEmbedUrl:function(a,b){var c=this.getId(a);return a.search=this.mergeParams(a,b),"https://www.youtube-nocookie.com/embed/"+c+a.search+a.hash}}),a.Panel.Video.sources.register("video/youtube",a.Panel.Video.YouTube)}(FooGallery),function(a){a.Panel.Video.TED=a.Panel.Video.Source.extend({construct:function(){this._super("video/ted",/(www.)?ted\.com/i,!1,[],{key:"autoplay",value:"1"})},getEmbedUrl:function(a,b){var c=this.getId(a);return a.search=this.mergeParams(a,b),"https://embed.ted.com/talks/"+c+a.search+a.hash}}),a.Panel.Video.sources.register("video/ted",a.Panel.Video.TED)}(FooGallery),function(a,b){a.Panel.Video.Facebook=a.Panel.Video.Source.extend({construct:function(){this._super("video/facebook",/(www.)?facebook\.com\/.*?\/videos\//i,!1,[{key:"show_text",value:"0"},{key:"show_caption",value:"0"}],{key:"autoplay",value:"1"})},getEmbedUrl:function(a,c){return"https://www.facebook.com/plugins/video.php"+b.param(this.mergeParams(a,c),"href",encodeURI(a.origin+a.pathname))+a.hash}}),a.Panel.Video.sources.register("video/facebook",a.Panel.Video.Facebook)}(FooGallery,FooGallery.utils.url),function(a,b,c,d){b.Lightbox=b.Panel.extend({construct:function(a,c){var d=this;d._super(a,c),d.opt.enabled&&d.tmpl instanceof b.Template&&!d.tmpl.destroying&&!d.tmpl.destroyed&&d.tmpl.on({"after-state":d.onAfterState,"anchor-click-item":d.onAnchorClickItem,destroyed:d.onDestroyedTemplate},d)},onAnchorClickItem:function(a,b,c){c.noLightbox||(a.preventDefault(),this.open(c))},onDestroyedTemplate:function(a,b){this.destroy()},onAfterState:function(a,c,d){d.item instanceof b.Item&&!d.item.noLightbox&&this.open(d.item)}}),b.template.configure("core",{lightbox:{enabled:!1}},{}),b.Template.override("construct",function(a,e){this._super(a,e);var f=this.$el.data("foogalleryLightbox"),g=this.opt.lightbox.enabled||c.hash(f)||this.$el.length>0&&this.$el.get(0).hasAttribute("data-foogallery-lightbox");this.opt.lightbox=d.extend({},this.opt.panel,this.opt.lightbox,{enabled:g},f),this.lightbox=g?new b.Lightbox(this,this.opt.lightbox):null})}(FooGallery.$,FooGallery,FooGallery.utils.is,FooGallery.utils.obj);