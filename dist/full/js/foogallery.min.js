/*
* FooGallery - The Most Intuitive and Extensible Gallery Creation and Management Tool Ever Created for WordPress
* @version 1.2.10
* @link 
* @copyright Steven Usher & Brad Vincent 2015
* @license Released under the GPLv3 license.
*/

!function(a,b){b.$=a}(jQuery,window.FooGallery=window.FooGallery||{}),function(a){if(!a)return void console.warn("jQuery must be included in the page prior to the FooGallery.utils library.");var b={$:a,version:"0.1.0"};b.versionCompare=function(a,b){function c(a){for(var b=a.split("."),c=[],d=0,e=b.length;d<e;d++)c[d]=parseInt(b[d]),isNaN(c[d])&&(c[d]=0);return c}if(!/[\d.]/.test(a)||!/[\d.]/.test(b))return NaN;for(var d=c(a),e=c(b);d.length<e.length;)d.push(0);for(;e.length<d.length;)e.push(0);for(var f=0;f<d.length;++f){if(e.length===f)return 1;if(d[f]!==e[f])return d[f]>e[f]?1:-1}return d.length!==e.length?-1:0},!function(){try{return!!window.FooGallery.utils}catch(a){return!1}}()?window.FooGallery.utils=b:b.versionCompare(b.version,window.FooGallery.utils.version)>0?(console.warn("An older version of FooGallery.utils ("+window.FooGallery.utils.version+") already exists in the page, version "+b.version+" will override it."),window.FooGallery.utils=b):console.warn("A newer version of FooGallery.utils ("+window.FooGallery.utils.version+") already exists in the page, version "+b.version+" will not register itself.")}(jQuery),function(a,b){"0.1.0"===b.version&&(b.is={},b.is.array=function(a){return"[object Array]"===Object.prototype.toString.call(a)},b.is.boolean=function(a){return"[object Boolean]"===Object.prototype.toString.call(a)},b.is.element=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:!!a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},b.is.empty=function(a){if(b.is.undef(a)||null===a)return!0;if(b.is.number(a)&&0===a)return!0;if(b.is.boolean(a)&&!1===a)return!0;if(b.is.string(a)&&0===a.length)return!0;if(b.is.array(a)&&0===a.length)return!0;if(b.is.jq(a)&&0===a.length)return!0;if(b.is.hash(a)){for(var c in a)if(a.hasOwnProperty(c))return!1;return!0}return!1},b.is.error=function(a){return"[object Error]"===Object.prototype.toString.call(a)},b.is.fn=function(a){return a===window.alert||"[object Function]"===Object.prototype.toString.call(a)},b.is.hash=function(a){return b.is.object(a)&&a.constructor===Object&&!a.nodeType&&!a.setInterval},b.is.jq=function(c){return!b.is.undef(a)&&c instanceof a},b.is.number=function(a){return"[object Number]"===Object.prototype.toString.call(a)&&!isNaN(a)},b.is.object=function(a){return"[object Object]"===Object.prototype.toString.call(a)&&!b.is.undef(a)&&null!==a},b.is.promise=function(a){return b.is.object(a)&&b.is.fn(a.then)&&b.is.fn(a.promise)},b.is.size=function(a){return!!(b.is.string(a)&&!b.is.empty(a)||b.is.number(a))&&/^(auto|none|(?:[\d.]*)+?(?:%|px|mm|q|cm|in|pt|pc|em|ex|ch|rem|vh|vw|vmin|vmax)?)$/.test(a)},b.is.string=function(a){return"[object String]"===Object.prototype.toString.call(a)},b.is.undef=function(a){return void 0===a})}(FooGallery.utils.$,FooGallery.utils),function(a,b,c){if("0.1.0"===b.version){b.fn={};var d=Function.prototype.toString;b.fn.CONTAINS_SUPER=/xyz/.test(d.call(function(){xyz}))?/\b_super\b/:/.*/,b.fn.addOrOverride=function(a,e,f){if(c.object(a)&&c.string(e)&&!c.empty(e)&&c.fn(f)){var g=a[e],h=c.fn(g)&&b.fn.CONTAINS_SUPER.test(d.call(f));a[e]=h?function(a,b){return function(){var c=this._super;this._super=a;var d=b.apply(this,arguments);return this._super=c,d}}(g,f):f}},b.fn.apply=function(a,b){function d(){return a.apply(this,b)}return b=c.array(b)?b:[],d.prototype=a.prototype,new d},b.fn.arg2arr=function(a){return Array.prototype.slice.call(a)},b.fn.debounce=function(a,c){var d;return function(){var e=b.fn.arg2arr(arguments);clearTimeout(d),d=setTimeout(function(){a.apply(this,e)},c)}},b.fn.throttle=function(a,c){var d,e;return function(){var f=this,g=b.fn.arg2arr(arguments);d?(clearTimeout(e),e=setTimeout(function(){Date.now()-d>=c&&(a.apply(f,g),d=Date.now())},c-(Date.now()-d))):(a.apply(f,g),d=Date.now())}},b.fn.check=function(d,e,f,g){function h(a){return function(){return a.apply(d,arguments)}}return f=c.fn(f)?f:a.noop,d=c.object(d)?d:window,e=c.string(e)?b.fn.fetch(e,g):e,h(c.fn(e)?e:f)},b.fn.fetch=function(b,d){return!c.string(b)||c.empty(b)?null:(d=c.object(d)?d:window,a.each(b.split("."),function(a,b){if(!d[b])return!1;d=d[b]}),c.fn(d)?d:null)},b.fn.enqueue=function(d,e,f,g){function h(a,b){try{return n.push(a),b.apply(a,i)}catch(a){return j.reject(a,n),j}}var i=b.fn.arg2arr(arguments),j=a.Deferred(),k=a.Deferred(),l=k.promise(),m=[],n=[],o=!0;return d=i.shift(),e=i.shift(),a.each(d,function(a,d){c.fn(d[e])&&(l=l.then(function(){if(!o){var a=b.fn.arg2arr(arguments);m.push(a)}return o=!1,h(d,d[e])}))}),l.then(function(){if(!o){var a=b.fn.arg2arr(arguments);m.push(a)}o=!1,j.resolve(m)}),l.fail(function(){var a=b.fn.arg2arr(arguments);a.push(n),j.reject.apply(j,a)}),k.resolve(),j.promise()},b.fn.when=function(b){if(!c.array(b)||c.empty(b))return a.when();for(var d=a.Deferred(),e=[],f=b.length,g=0;g<b.length;g++)b[g].then(function(a){e.push(a)}).always(function(){--f||d.resolve(e)});return d.promise()},b.fn.rejectWith=function(c,d){var e=a.Deferred(),f=b.fn.arg2arr(arguments);return e.reject.apply(e,f).promise()},b.fn.resolveWith=function(c,d){var e=a.Deferred(),f=b.fn.arg2arr(arguments);return e.resolve.apply(e,f).promise()},b.fn.resolved=a.Deferred().resolve().promise(),b.fn.rejected=a.Deferred().reject().promise()}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(a,b){if("0.1.0"===a.version){a.url={};var c=document.createElement("a");a.url.parts=function(a){return c.href=a,{hash:c.hash,host:c.host,hostname:c.hostname,href:c.href,origin:c.origin,pathname:c.pathname,port:c.port,protocol:c.protocol,search:c.search}},a.url.full=function(a){return!b.string(a)||b.empty(a)?null:(c.href=a,c.href)},a.url.param=function(a,c,d){if(!b.string(a)||!b.string(c)||b.empty(c))return a;var e,f,g,h;return b.undef(d)?(e=new RegExp("[?|&]"+c+"=([^&;]+?)(&|#|;|$)"),f=e.exec(a)||[,""],g=f[1].replace(/\+/g,"%20"),b.string(g)&&!b.empty(g)?decodeURIComponent(g):null):(""===d||null===d?(e=new RegExp("^([^#]*?)(([^#]*)&)?"+c+"(=[^&#]*)?(&|#|$)"),g=a.replace(e,"$1$3$5").replace(/^([^#]*)((\?)&|\?(#|$))/,"$1$3$4")):(e=new RegExp("([?&])"+c+"[^&]*"),h=c+"="+encodeURIComponent(d),(g=a.replace(e,"$1"+h))!==a||e.test(g)||(g+=(-1!==g.indexOf("?")?"&":"?")+h)),g)}}}(FooGallery.utils,FooGallery.utils.is),function(a,b,c){"0.1.0"===a.version&&(a.str={},a.str.camel=function(a){return b.empty(a)?a:a.toUpperCase()===a?a.toLowerCase():a.replace(/^([A-Z])|[-\s_]+(\w)/g,function(a,c,d){return b.string(d)?d.toUpperCase():c.toLowerCase()})},a.str.contains=function(a,c,d){return!(!b.string(a)||b.empty(a)||!b.string(c)||b.empty(c))&&(c.length<=a.length&&-1!==(d?a.toUpperCase().indexOf(c.toUpperCase()):a.indexOf(c)))},a.str.containsWord=function(a,c,d){if(!b.string(a)||b.empty(a)||!b.string(c)||b.empty(c)||a.length<c.length)return!1;for(var e=a.split(/\W/),f=0,g=e.length;f<g;f++)if(d?e[f].toUpperCase()==c.toUpperCase():e[f]==c)return!0;return!1},a.str.endsWith=function(a,c){return!b.string(a)||b.empty(a)||!b.string(c)||b.empty(c)?a==c:a.slice(a.length-c.length)==c},a.str.escapeRegExp=function(a){return b.empty(a)?a:a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},a.str.fnv1a=function(a){if(!b.string(a)||b.empty(a))return null;var c,d,e=2166136261;for(c=0,d=a.length;c<d;c++)e^=a.charCodeAt(c),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0},a.str.from=function(c,d){return!b.string(c)||b.empty(c)||!b.string(d)||b.empty(d)?null:a.str.contains(c,d)?c.substring(c.indexOf(d)+d.length):null},a.str.join=function(d,e,f){if(!b.string(d)||!b.string(e))return null;var g=c.arg2arr(arguments);d=g.shift();var h,i,j=g.shift();for(h=0,i=g.length;h<i;h++)e=g[h],b.empty(e)||(a.str.endsWith(j,d)&&(j=j.slice(0,j.length-d.length)),a.str.startsWith(e,d)&&(e=e.slice(d.length)),j+=d+e);return j},a.str.startsWith=function(a,c){return!b.empty(a)&&!b.empty(c)&&a.slice(0,c.length)==c},a.str.until=function(c,d){return b.empty(c)||b.empty(d)?c:a.str.contains(c,d)?c.substring(0,c.indexOf(d)):c},a.str.format=function(a,d,e){var f=c.arg2arr(arguments);if(a=f.shift(),b.empty(a)||b.empty(f))return a;1===f.length&&(b.array(f[0])||b.object(f[0]))&&(f=f[0]);for(var g in f)a=a.replace(new RegExp("\\{"+g+"\\}","gi"),f[g]);return a})}(FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn),function(a,b,c,d,e){if("0.1.0"===b.version){b.obj={};var f=function(){};b.obj.create=function(a){if(!c.object(a))throw TypeError("Argument must be an object");f.prototype=a;var b=new f;return f.prototype=null,b},b.obj.extend=function(e,f,g){e=c.object(e)?e:{};var h=d.arg2arr(arguments);return h.shift(),a.each(h,function(a,c){b.obj.merge(e,c)}),e},b.obj.merge=function(a,d){a=c.hash(a)?a:{},d=c.hash(d)?d:{};for(var e in d)d.hasOwnProperty(e)&&(c.hash(d[e])?(a[e]=c.hash(a[e])?a[e]:{},b.obj.merge(a[e],d[e])):c.array(d[e])?a[e]=d[e].slice():a[e]=d[e]);return a},b.obj.mergeValid=function(d,e,f,g){if(!c.hash(f)||!c.hash(e))return d;e=c.hash(e)?e:{},g=c.hash(g)?g:{};var h,i,j;for(h in e)e.hasOwnProperty(h)&&c.fn(e[h])&&(i=c.array(g[h])?g[h]:c.string(g[h])?[g[h]]:[h],a.each(i,function(a,g){if(j=b.obj.prop(f,g),!c.undef(j))return e[h](j)?(b.obj.prop(d,h,j),!1):void 0}));return d},b.obj.prop=function(b,d,f){if(c.object(b)&&!c.empty(d)){var g,h;if(c.undef(f))return e.contains(d,".")?(g=d.split("."),h=g.length-1,a.each(g,function(a,d){if(a===h)f=b[d];else{if(!c.hash(b[d]))return!1;b=b[d]}})):c.undef(b[d])||(f=b[d]),f;e.contains(d,".")?(g=d.split("."),h=g.length-1,a.each(g,function(a,d){a===h?b[d]=f:b=c.hash(b[d])?b[d]:b[d]={}})):c.undef(b[d])||(b[d]=f)}}}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.str),function(a,b,c){if("0.1.0"===b.version){b.ready=function(a){function c(){try{a.call(window,b.$)}catch(a){console.error(a)}}(Function("/*@cc_on return true@*/")()?"complete"===document.readyState:"loading"!==document.readyState)?c():document.addEventListener("DOMContentLoaded",c,!1)};var d=0;b.uniqueId=function(a,b){var e=a.attr("id");return c.empty(e)&&(b=c.string(b)&&!c.empty(b)?b:"uid-",e=b+ ++d,a.attr("id",e).data("__uniqueId__",!0)),e},b.removeUniqueId=function(a){a.data("__uniqueId__")&&a.removeAttr("id").removeData("__uniqueId__")},b.selectify=function(a){if(c.empty(a))return null;if(c.hash(a)){var d,e={};for(var f in a)a.hasOwnProperty(f)&&(d=b.selectify(a[f]))&&(e[f]=d);return e}return c.string(a)||c.array(a)?(c.string(a)&&(a=[a]),a.map(function(a){return c.string(a)?"."+a.split(/\s/g).join("."):null}).join(",")):null},b.src=function(a,b,d,e,f,g,h){if(!c.string(a))return null;if(!c.string(b))return a;var i=b.replace(/(\s[\d.]+[whx]),/g,"$1 @,@ ").split(" @,@ "),j=i.map(function(a){return{url:/^\s*(\S*)/.exec(a)[1],w:parseFloat((/\S\s+(\d+)w/.exec(a)||[0,1/0])[1]),h:parseFloat((/\S\s+(\d+)h/.exec(a)||[0,1/0])[1]),x:parseFloat((/\S\s+([\d.]+)x/.exec(a)||[0,1])[1])}});if(!j.length)return a;j.unshift({url:a,w:j[0].w!==1/0&&j[0].h===1/0?d:1/0,h:j[0].h!==1/0&&j[0].w===1/0?e:1/0,x:1});var k=c.number(h)?h:window.devicePixelRatio||1,l={w:f*k,h:g*k,x:k},m=["w","h","x"];return m.forEach(function(a){var b=Math.max.apply(null,j.map(function(b){return b[a]}));j=j.filter(function(c){return c[a]>=l[a]||c[a]===b})}),m.forEach(function(a){var b=Math.min.apply(null,j.map(function(b){return b[a]}));j=j.filter(function(c){return c[a]===b})}),j[0].url},b.scrollParent=function(b,d,e){if(b=c.jq(b)?b:a(b),d=c.string(d)&&/^(x|y|xy|yx)$/i.test(d)?d:"xy",e=c.jq(e)?e:a(!!b.length&&b[0].ownerDocument||document),!b.length)return e;var f=b.css("position"),g="absolute"===f,h=/hidden/i,i=/x/i,j=/y/i,k=b.parentsUntil(e).filter(function(b,c){var e=a(this);if(g&&"static"===e.css("position"))return!1;var f=j.test(d)&&c.scrollHeight>c.clientHeight&&!h.test(e.css("overflow-y")),k=i.test(d)&&c.scrollWidth>c.clientWidth&&!h.test(e.css("overflow-x"));return f||k}).eq(0);return"fixed"!==f&&k.length?k:e}}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(a,b,c){if("0.1.0"===b.version){b.transition={};var d=document.createElement("div");b.transition.supported=function(a){var b=a.style;return c.string(b.transition)||c.string(b.WebkitTransition)||c.string(b.MozTransition)||c.string(b.msTransition)||c.string(b.OTransition)}(d),b.transition.end=function(a){var b=a.style;return c.string(b.transition)?"transitionend":c.string(b.WebkitTransition)?"webkitTransitionEnd":c.string(b.MozTransition)?"transitionend":c.string(b.msTransition)?"msTransitionEnd":c.string(b.OTransition)?"oTransitionEnd":null}(d),b.transition.duration=function(a,b){if(b=c.number(b)?b:0,!c.jq(a))return b;var d=a.css("transition-duration");if(/^([\d\.]*)+?(ms|s)$/i.test(d)){var e=d.match(/^([\d\.]*)+?(ms|s)$/i),f=parseFloat(e[1]);return"s"===e[2].toLowerCase()&&(f*=1e3),f}return b},b.transition.start=function(d,e,f,g){var h=a.Deferred();if(d=d.first(),b.transition.supported){var i=d.data("transition_safety");c.hash(i)&&c.number(i.timer)&&(clearTimeout(i.timer),d.removeData("transition_safety").off(b.transition.end+".utils"),i.deferred.reject()),g=c.number(g)?g:b.transition.duration(d)+50,i={deferred:h,timer:setTimeout(function(){d.removeData("transition_safety").off(b.transition.end+".utils"),h.resolve()},g)},d.data("transition_safety",i),d.on(b.transition.end+".utils",function(a){d.is(a.target)&&(clearTimeout(i.timer),d.removeData("transition_safety").off(b.transition.end+".utils"),h.resolve())})}return setTimeout(function(){c.fn(e)?e.apply(d.get(0),[d]):d.toggleClass(e,f),b.transition.supported||h.resolve()},20),h.promise()}}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d,e){"0.1.0"===b.version&&(b.Class=function(){},b.Class.extend=function(a){function f(){if(!c.fn(this.construct))throw new SyntaxError('FooGallery.utils.Class objects must be constructed with the "new" keyword.');this.construct.apply(this,arguments)}a=c.hash(a)?a:{};var g=d.create(this.prototype);for(var h in a)a.hasOwnProperty(h)&&e.addOrOverride(g,h,a[h]);return g.construct=c.fn(g.construct)?g.construct:function(){},f.prototype=g,f.prototype.constructor=c.fn(g.__ctor__)?g.__ctor__:f,f.extend=b.Class.extend,f.override=b.Class.override,f},b.Class.override=function(a,b){e.addOrOverride(this.prototype,a,b)})}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.fn),function(a,b){"0.1.0"===a.version&&(a.Event=a.Class.extend({construct:function(a){this.type=a,this.defaultPrevented=!1},preventDefault:function(){this.defaultPrevented=!0}}),a.EventClass=a.Class.extend({construct:function(){this.__handlers={}},destroy:function(){this.__handlers={}},on:function(a,c,d){if(!b.string(a)||!b.fn(c))return this;d=b.undef(d)?this:d;var e,f=this,g=f.__handlers;return a.split(" ").forEach(function(a){b.array(g[a])||(g[a]=[]),(e=g[a].some(function(a){return a.fn===c&&a.thisArg===d}))||g[a].push({fn:c,thisArg:d})}),f},off:function(a,c,d){if(!b.string(a))return this;c=b.fn(c)?c:null,d=b.undef(d)?this:d;var e=this,f=e.__handlers;return a.split(" ").forEach(function(a){b.array(f[a])&&(null!=c?(f[a]=f[a].filter(function(a){return!(a.fn===c&&a.thisArg===d)}),0===f[a].length&&delete f[a]):delete f[a])}),e},trigger:function(c,d){var e=c instanceof a.Event;if(!e&&!b.string(c))return null;d=b.array(d)?d:[];var f=this,g=f.__handlers,h=[],i=function(a){h.push(a),b.array(g[a.type])&&g[a.type].forEach(function(b){b.fn.apply(b.thisArg,[a].concat(d))})};return e?i(c):c.split(" ").forEach(function(b){i(new a.Event(b))}),b.empty(h)?null:1===h.length?h[0]:h}}))}(FooGallery.utils,FooGallery.utils.is),function(a,b,c){if("0.1.0"===b.version){b.Bounds=b.Class.extend({construct:function(){var a=this;a.top=0,a.right=0,a.bottom=0,a.left=0,a.width=0,a.height=0},inflate:function(a){var b=this;return c.number(a)&&(b.top-=a,b.right+=a,b.bottom+=a,b.left-=a,b.width+=2*a,b.height+=2*a),b},intersects:function(a){var b=this;return b.left<=a.right&&a.left<=b.right&&b.top<=a.bottom&&a.top<=b.bottom}});var d;b.getViewportBounds=function(c){d||(d=a(window));var e=new b.Bounds;return e.top=d.scrollTop(),e.left=d.scrollLeft(),e.width=d.width(),e.height=d.height(),e.right=e.left+e.width,e.bottom=e.top+e.height,e.inflate(c),e},b.getElementBounds=function(d){c.jq(d)||(d=a(d));var e=new b.Bounds;if(0!==d.length){var f=d.offset();e.top=f.top,e.left=f.left,e.width=d.width(),e.height=d.height()}return e.right=e.left+e.width,e.bottom=e.top+e.height,e}}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){"0.1.0"===b.version&&(b.Factory=b.Class.extend({construct:function(){this.registered={}},contains:function(a){return!c.undef(this.registered[a])},load:function(b,e,f){var g,h,i=this,j=d.arg2arr(arguments),k=[],l=[];b=j.shift()||{};for(g in i.registered)if(i.registered.hasOwnProperty(g)){var m=i.registered[g];b.hasOwnProperty(g)&&(h=b[g],c.string(h)&&(h=d.fetch(b[g])),c.fn(h)&&(m={name:g,klass:h,priority:i.registered[g].priority})),k.push(m)}for(g in b)b.hasOwnProperty(g)&&!i.registered.hasOwnProperty(g)&&(h=b[g],c.string(h)&&(h=d.fetch(b[g])),c.fn(h)&&k.push({name:g,klass:h,priority:0}));return k.sort(function(a,b){return b.priority-a.priority}),a.each(k,function(a,b){c.fn(b.klass)&&l.push(d.apply(b.klass,j))}),l},make:function(a,b,e){var f,g=this,h=d.arg2arr(arguments);return a=h.shift(),f=g.registered[a],c.hash(f)&&c.fn(f.klass)?d.apply(f.klass,h):null},names:function(b){b=!!c.boolean(b)&&b;var d,e=[];if(b){var f=[];for(d in this.registered)this.registered.hasOwnProperty(d)&&f.push(this.registered[d]);f.sort(function(a,b){return b.priority-a.priority}),a.each(f,function(a,b){e.push(b.name)})}else for(d in this.registered)this.registered.hasOwnProperty(d)&&e.push(d);return e},register:function(a,b,d){if(!c.string(a)||c.empty(a)||!c.fn(b))return!1;d=c.number(d)?d:0;var e=this.registered[a];return this.registered[a]={name:a,klass:b,priority:c.undef(e)?d:e.priority},!0}}))}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn),function(a,b,c){if("0.1.0"===a.version){var d=!1;try{d=!!window.localStorage}catch(a){d=!1}a.Debugger=a.Class.extend({construct:function(a){this.key=a,this.enabled=!!d&&!!localStorage.getItem(this.key)},enable:function(){d&&(this.enabled=!0,localStorage.setItem(this.key,this.enabled))},disable:function(){d&&(this.enabled=!1,localStorage.removeItem(this.key))},log:function(a,c){this.enabled&&console.log.apply(console,b.arg2arr(arguments))},logf:function(a,d,e){if(this.enabled){var f=b.arg2arr(arguments);a=f.shift(),d=f.shift(),f.unshift(c.format(a,d)),this.log.apply(this,f)}}})}}(FooGallery.utils,FooGallery.utils.fn,FooGallery.utils.str),function(a,b,c,d,e){b.debug=new c.Debugger("__FooGallery__"),b.emptyImage="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",b.dataTemplate="__FooGallery__",b.dataItem="__FooGalleryItem__",b.get=function(c){return a(c).data(b.dataTemplate)},b.init=function(a,c){return b.template.make(a,c).initialize()},b.initAll=function(c){return e.when(a(".foogallery").map(function(a,d){return b.init(c,d)}).get())},a.fn.foogallery=function(c,e){return this.each(function(f,g){if(d.string(c)){var h=a.data(g,b.dataTemplate);if(h instanceof b.Template)switch(c){case"layout":return void h.layout();case"destroy":return void h.destroy()}}else b.template.make(c,g).initialize().then(function(a){d.fn(e)&&e(a)})})},b.isCached=function(a){var b=new Image;b.src=a;var c=b.complete;return b.src="",b=null,c}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn),function(a,b){a.icon=function(c,d){var e=a.icon.getSet(d);return b.string(c)&&e.hasOwnProperty(c)?e[c]:null},a.icon.sets={default:{close:'<svg class="fg-icon fg-icon-close fg-icon-default" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M13.957 3.457l-1.414-1.414-4.543 4.543-4.543-4.543-1.414 1.414 4.543 4.543-4.543 4.543 1.414 1.414 4.543-4.543 4.543 4.543 1.414-1.414-4.543-4.543z"></path></svg>',prev:'<svg class="fg-icon fg-icon-prev fg-icon-default" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M10.5 16l1.5-1.5-6.5-6.5 6.5-6.5-1.5-1.5-8 8 8 8z"></path></svg>',next:'<svg class="fg-icon fg-icon-next fg-icon-default" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M5.5 0l-1.5 1.5 6.5 6.5-6.5 6.5 1.5 1.5 8-8-8-8z"></path></svg>',expand:'<svg class="fg-icon fg-icon-expand fg-icon-default" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M2 5h-2v-4c0-0.552 0.448-1 1-1h4v2h-3v3z"></path><path d="M16 5h-2v-3h-3v-2h4c0.552 0 1 0.448 1 1v4z"></path><path d="M15 16h-4v-2h3v-3h2v4c0 0.552-0.448 1-1 1z"></path><path d="M5 16h-4c-0.552 0-1-0.448-1-1v-4h2v3h3v2z"></path></svg>',shrink:'<svg class="fg-icon fg-icon-shrink fg-icon-default" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M3 0h2v4c0 0.552-0.448 1-1 1h-4v-2h3v-3z"></path><path d="M11 0h2v3h3v2h-4c-0.552 0-1-0.448-1-1v-4z"></path><path d="M12 11h4v2h-3v3h-2v-4c0-0.552 0.448-1 1-1z"></path><path d="M0 11h4c0.552 0 1 0.448 1 1v4h-2v-3h-3v-2z"></path></svg>',caption:'<svg class="fg-icon fg-icon-caption fg-icon-default" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M3 4h10v1h-10zM3 6h8v1h-8zM3 8h4v1h-4zM14.5 1h-13c-0.825 0-1.5 0.675-1.5 1.5v8c0 0.825 0.675 1.5 1.5 1.5h2.5v4l4.8-4h5.7c0.825 0 1.5-0.675 1.5-1.5v-8c0-0.825-0.675-1.5-1.5-1.5zM14 10h-5.924l-3.076 2.73v-2.73h-3v-7h12v7z"></path></svg>'},set1:{close:'<svg class="fg-icon fg-icon-close fg-icon-set1" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"></path></svg>',prev:'<svg class="fg-icon fg-icon-prev fg-icon-set1" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M10.5 16l3-3-5-5 5-5-3-3-8 8z"></path></svg>',next:'<svg class="fg-icon fg-icon-next fg-icon-set1" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M5.5 0l-3 3 5 5-5 5 3 3 8-8z"></path></svg>',expand:'<svg class="fg-icon fg-icon-expand fg-icon-set1" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M16 0h-6.5l2.5 2.5-3 3 1.5 1.5 3-3 2.5 2.5z"></path><path d="M16 16v-6.5l-2.5 2.5-3-3-1.5 1.5 3 3-2.5 2.5z"></path><path d="M0 16h6.5l-2.5-2.5 3-3-1.5-1.5-3 3-2.5-2.5z"></path><path d="M0 0v6.5l2.5-2.5 3 3 1.5-1.5-3-3 2.5-2.5z"></path></svg>',shrink:'<svg class="fg-icon fg-icon-shrink fg-icon-set1" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M9 7h6.5l-2.5-2.5 3-3-1.5-1.5-3 3-2.5-2.5z"></path><path d="M9 9v6.5l2.5-2.5 3 3 1.5-1.5-3-3 2.5-2.5z"></path><path d="M7 9h-6.5l2.5 2.5-3 3 1.5 1.5 3-3 2.5 2.5z"></path><path d="M7 7v-6.5l-2.5 2.5-3-3-1.5 1.5 3 3-2.5 2.5z"></path></svg>',caption:'<svg class="fg-icon fg-icon-caption fg-icon-set1" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M14.5 1h-13c-0.825 0-1.5 0.675-1.5 1.5v8c0 0.825 0.675 1.5 1.5 1.5h2.5v4l4.8-4h5.7c0.825 0 1.5-0.675 1.5-1.5v-8c0-0.825-0.675-1.5-1.5-1.5zM7 9h-4v-1h4v1zM11 7h-8v-1h8v1zM13 5h-10v-1h10v1z"></path></svg>'},set2:{close:'<svg class="fg-icon fg-icon-close fg-icon-set2" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M12.207 10.793l-1.414 1.414-2.793-2.793-2.793 2.793-1.414-1.414 2.793-2.793-2.793-2.793 1.414-1.414 2.793 2.793 2.793-2.793 1.414 1.414-2.793 2.793 2.793 2.793z"></path></svg>',prev:'<svg class="fg-icon fg-icon-prev fg-icon-set2" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M6.293 13.707l-5-5c-0.391-0.39-0.391-1.024 0-1.414l5-5c0.391-0.391 1.024-0.391 1.414 0s0.391 1.024 0 1.414l-3.293 3.293h9.586c0.552 0 1 0.448 1 1s-0.448 1-1 1h-9.586l3.293 3.293c0.195 0.195 0.293 0.451 0.293 0.707s-0.098 0.512-0.293 0.707c-0.391 0.391-1.024 0.391-1.414 0z"></path></svg>',next:'<svg class="fg-icon fg-icon-next fg-icon-set2" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M9.707 13.707l5-5c0.391-0.39 0.391-1.024 0-1.414l-5-5c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414l3.293 3.293h-9.586c-0.552 0-1 0.448-1 1s0.448 1 1 1h9.586l-3.293 3.293c-0.195 0.195-0.293 0.451-0.293 0.707s0.098 0.512 0.293 0.707c0.391 0.391 1.024 0.391 1.414 0z"></path></svg>',expand:'<svg class="fg-icon fg-icon-expand fg-icon-set2" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M16 5.5v-5.5h-5.5z"></path><path d="M5.5 0h-5.5v5.5z"></path><path d="M16 16v-5.5l-5.5 5.5z"></path><path d="M0 16h5.5l-5.5-5.5z"></path></svg>',shrink:'<svg class="fg-icon fg-icon-shrink fg-icon-set2" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M10 0.5v5.5h5.5z"></path><path d="M0.5 6h5.5v-5.5z"></path><path d="M10 10v5.5l5.5-5.5z"></path><path d="M6 10h-5.5l5.5 5.5z"></path></svg>',caption:'<svg class="fg-icon fg-icon-caption fg-icon-set2" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M13.063 1h-10.125c-1.616 0-2.938 1.322-2.938 2.938v11.063l3-3h10.063c1.616 0 2.938-1.322 2.938-2.938v-5.125c0-1.616-1.322-2.938-2.938-2.938zM14 9.063c0 0.508-0.429 0.938-0.938 0.938h-11.063v-6.063c0-0.508 0.429-0.938 0.938-0.938h10.125c0.508 0 0.938 0.429 0.938 0.938v5.125zM4 5h8v1h-8zM4 7h6v1h-6z"></path></svg>'}},a.icon.getSet=function(b){return a.icon.isSetObject(b)?b:a.icon.isSetName(b)?a.icon.sets[b]:a.icon.sets.default},a.icon.isSetName=function(c){return b.string(c)&&a.icon.sets.hasOwnProperty(c)},a.icon.isSetObject=function(c){if(!b.hash(c))return!1;var d=Object.keys(a.icon.sets.default),e=Object.keys(c);return d.every(function(a){return e.includes(a)})}}(FooGallery,FooGallery.utils.is),function(a,b,c,d,e){var f="__FooGallerySwipe__",g="ontouchstart"in window,h=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!g,i=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!g,j=g||i;b.Swipe=c.Class.extend({construct:function(b,c){var d=this,f=".fgswipe";d.$el=a(b),d.opt=e.extend({threshold:20,allowPageScroll:!1,swipe:a.noop,data:{}},c),d.active=!1,d.startPoint=null,d.endPoint=null,d.events={start:(j?i?h?"MSPointerDown":"pointerdown":"touchstart":"mousedown")+f,move:(j?i?h?"MSPointerMove":"pointermove":"touchmove":"mousemove")+f,end:(j?i?h?"MSPointerUp":"pointerup":"touchend":"mouseup")+f,leave:(j?i?"mouseleave":null:"mouseleave")+f}},init:function(){var a=this;a.$el.on(a.events.start,{self:a},a.onStart),a.$el.on(a.events.move,{self:a},a.onMove),a.$el.on(a.events.end,{self:a},a.onEnd),d.string(a.events.leave)&&a.$el.on(a.events.leave,{self:a},a.onEnd),a.$el.data(f,a)},destroy:function(){var a=this;a.$el.off(a.events.start,a.onStart),a.$el.off(a.events.move,a.onMove),a.$el.off(a.events.end,a.onEnd),d.string(a.events.leave)&&a.$el.off(a.events.leave,a.onEnd),a.$el.removeData(f)},getAngle:function(a,b){var c=Math.atan2(a.x-b.x,a.y-b.y),d=Math.round(180*c/Math.PI);return 360-(d<0?360-Math.abs(d):d)},getDistance:function(a,b){var c=b.x-a.x,d=b.y-a.y;return c*=c,d*=d,Math.sqrt(c+d)},getDirection:function(a,b){var c=this,d=c.getAngle(a,b);return d>337.5||d<=22.5?"N":d>22.5&&d<=67.5?"NE":d>67.5&&d<=112.5?"E":d>112.5&&d<=157.5?"SE":d>157.5&&d<=202.5?"S":d>202.5&&d<=247.5?"SW":d>247.5&&d<=292.5?"W":d>292.5&&d<=337.5?"NW":"NONE"},getPoint:function(a){var b;return j&&!d.empty(b=a.originalEvent.touches||a.touches)?{x:b[0].pageX,y:b[0].pageY}:d.number(a.pageX)&&d.number(a.pageY)?{x:a.pageX,y:a.pageY}:null},getOffset:function(a){var b=this,c=b.$el.offset();return{left:a.x-c.left,top:a.y-c.top}},onStart:function(a){var b=a.data.self,c=b.getPoint(a);d.empty(c)||(b.active=!0,b.startPoint=b.endPoint=c)},onMove:function(b){var c=b.data.self,e=c.getPoint(b);if(c.active&&!d.empty(e))if(c.endPoint=e,c.opt.allowPageScroll){if(d.hash(c.opt.allowPageScroll)){var f=c.getDirection(c.startPoint,c.endPoint);c.opt.allowPageScroll.x||-1===a.inArray(f,["NE","E","SE","NW","W","SW"])||b.preventDefault(),c.opt.allowPageScroll.y||-1===a.inArray(f,["NW","N","NE","SW","S","SE"])||b.preventDefault()}}else b.preventDefault()},onEnd:function(a){var b=a.data.self;if(b.active){b.active=!1;var c={startPoint:b.startPoint,endPoint:b.endPoint,startOffset:b.getOffset(b.startPoint),endOffset:b.getOffset(b.endPoint),angle:b.getAngle(b.startPoint,b.endPoint),distance:b.getDistance(b.startPoint,b.endPoint),direction:b.getDirection(b.startPoint,b.endPoint)};if(b.opt.threshold>0&&c.distance<b.opt.threshold)return;b.opt.swipe.apply(this,[c,b.opt.data]),b.startPoint=null,b.endPoint=null}}}),a.fn.fgswipe=function(c){return this.each(function(){var e=a(this),g=e.data(f);if(g instanceof b.Swipe){if(d.string(c)&&d.fn(g[c]))return void g[c]();g.destroy()}d.hash(c)&&(g=new b.Swipe(this,c),g.init())})}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj),function(a,b,c,d,e,f){b.TemplateFactory=c.Factory.extend({construct:function(){this.registered={}},register:function(a,b,c,e,f,g){var h=this,i=h._super(a,b,g);if(i){var j=h.registered;j[a].opt=d.hash(c)?c:{},j[a].cls=d.hash(e)?e:{},j[a].il8n=d.hash(f)?f:{}}return i},make:function(b,c){c=d.jq(c)?c:a(c),b=f.extend({},b,c.data("foogallery"));var e=this,g=e.type(b,c);return e.contains(g)?(b=e.options(g,b),e._super(g,b,c)):null},type:function(b,e){e=d.jq(e)?e:a(e);var f=this,g=d.hash(b)&&d.hash(b)&&d.string(b.type)&&f.contains(b.type)?b.type:"core";if("core"===g&&e.length>0)for(var h=f.registered,i=f.names(!0),j=0,k=i.length;j<k;j++)if(h.hasOwnProperty(i[j])){var l=i[j],m=h[l].cls;if(d.string(m.container)){var n=c.selectify(m.container);if(e.is(n)){g=i[j];break}}}return g},configure:function(a,b,c,d){var e=this;if(e.contains(a)){var g=e.registered;f.extend(g[a].opt,b),f.extend(g[a].cls,c),f.extend(g[a].il8n,d)}},options:function(a,c){c=f.extend({type:a},c);var e=this,g=e.registered,h=g.core.opt,i=g.core.cls,j=g.core.il8n;return d.hash(c.cls)||(c.cls={}),d.hash(c.il8n)||(c.il8n={}),d.undef(b.filtering)||(c=b.filtering.merge(c)),d.undef(b.paging)||(c=b.paging.merge(c)),"core"!==a&&e.contains(a)?(c=f.extend({},h,g[a].opt,c),c.cls=f.extend({},i,g[a].cls,c.cls),c.il8n=f.extend({},j,g[a].il8n,c.il8n)):(c=f.extend({},h,c),c.cls=f.extend({},i,c.cls),c.il8n=f.extend({},j,c.il8n)),c}}),b.template=new b.TemplateFactory}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d,e){a.PagingFactory=b.Factory.extend({construct:function(){this.registered={}},register:function(a,b,d,e,f,g,h){var i=this,j=i._super(a,b,h);if(j){var k=i.registered;k[a].ctrl=c.fn(d)?d:null,k[a].opt=c.hash(e)?e:{},k[a].cls=c.hash(f)?f:{},k[a].il8n=c.hash(g)?g:{}}return j},type:function(a){var b,d=this;return c.hash(a)&&c.hash(b=a.paging)&&c.string(b.type)&&d.contains(b.type)?b.type:null},merge:function(a){a=e.extend({},a)
;var b=this,d=b.type(a),f=b.registered,g=f.default.opt,h=f.default.cls,i=f.default.il8n,j=c.hash(a.paging)?a.paging:{},k=c.hash(a.cls)&&c.hash(a.cls.paging)?e.extend({},a.cls.paging):{},l=c.hash(a.il8n)&&c.hash(a.il8n.paging)?e.extend({},a.il8n.paging):{};return c.hash(a.cls)||(a.cls={}),c.hash(a.il8n)||(a.il8n={}),"default"!==d&&b.contains(d)?(a.paging=e.extend({},g,f[d].opt,j,{type:d}),a.cls=e.extend(a.cls,{paging:h},{paging:f[d].cls},{paging:k}),a.il8n=e.extend(a.il8n,{paging:i},{paging:f[d].il8n},{paging:l})):(a.paging=e.extend({},g,j,{type:d}),a.cls=e.extend(a.cls,{paging:h},{paging:k}),a.il8n=e.extend(a.il8n,{paging:i},{paging:l})),a},configure:function(a,b,c,d){var f=this;if(f.contains(a)){var g=f.registered;e.extend(g[a].opt,b),e.extend(g[a].cls,c),e.extend(g[a].il8n,d)}},hasCtrl:function(a){var b=this,d=b.registered[a];return c.hash(d)&&c.fn(d.ctrl)},makeCtrl:function(a,b,d,e){var f=this,g=f.registered[a];return c.hash(g)&&c.fn(g.ctrl)?new g.ctrl(b,d,e):null}}),a.paging=new a.PagingFactory}(FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d,e){a.FilteringFactory=b.Factory.extend({construct:function(){this.registered={}},register:function(a,b,d,e,f,g,h){var i=this,j=i._super(a,b,h);if(j){var k=i.registered;k[a].ctrl=c.fn(d)?d:null,k[a].opt=c.hash(e)?e:{},k[a].cls=c.hash(f)?f:{},k[a].il8n=c.hash(g)?g:{}}return j},type:function(a){var b,d=this;return c.hash(a)&&c.hash(b=a.filtering)&&c.string(b.type)&&d.contains(b.type)?b.type:null},merge:function(a){a=e.extend({},a);var b=this,d=b.type(a),f=b.registered,g=f.default.opt,h=f.default.cls,i=f.default.il8n,j=c.hash(a.filtering)?a.filtering:{},k=c.hash(a.cls)&&c.hash(a.cls.filtering)?e.extend({},a.cls.filtering):{},l=c.hash(a.il8n)&&c.hash(a.il8n.filtering)?e.extend({},a.il8n.filtering):{};return c.hash(a.cls)||(a.cls={}),c.hash(a.il8n)||(a.il8n={}),"default"!==d&&b.contains(d)?(a.filtering=e.extend({},g,f[d].opt,j,{type:d}),a.cls=e.extend(a.cls,{filtering:h},{filtering:f[d].cls},{filtering:k}),a.il8n=e.extend(a.il8n,{filtering:i},{filtering:f[d].il8n},{filtering:l})):(a.filtering=e.extend({},g,j,{type:d}),a.cls=e.extend(a.cls,{filtering:h},{filtering:k}),a.il8n=e.extend(a.il8n,{filtering:i},{filtering:l})),a},configure:function(a,b,c,d){var f=this;if(f.contains(a)){var g=f.registered;e.extend(g[a].opt,b),e.extend(g[a].cls,c),e.extend(g[a].il8n,d)}},hasCtrl:function(a){var b=this,d=b.registered[a];return c.hash(d)&&c.fn(d.ctrl)},makeCtrl:function(a,b,d,e){var f=this,g=f.registered[a];return c.hash(g)&&c.fn(g.ctrl)?new g.ctrl(b,d,e):null}}),a.filtering=new a.FilteringFactory}(FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d,e,f){var g=0;b.Breakpoints=c.Class.extend({construct:function(a){var c=this;c.namespace=".foogallery-breakpoints-"+ ++g,c.opt=e.extend({},b.Breakpoints.defaults,a),c.registered=[]},init:function(){a(window).on("resize"+this.namespace,{self:this},f.debounce(this.onWindowResize,50))},destroy:function(){a(window).off(this.namespace),this.registered=[]},register:function(a,c,e,f){if(!d.jq(a)||!d.hash(c))return-1;var g=this,h=g.parse(c);return g.registered.push({$element:a,current:b.Breakpoints.NONE,orientation:null,breakpoints:h,classNames:h.map(function(a){return a.className}).concat([g.opt.prefix+"portrait",g.opt.prefix+"landscape"]).join(" "),callback:d.fn(e)?e:g.onBreakpointChanged,thisArg:d.undef(f)?g:f})-1},remove:function(a){if(d.jq(a)){var b=this;b.registered=b.registered.filter(function(b){return b.$element.get(0)!==a.get(0)})}},parse:function(a){var b=this,c=[];for(var e in a)if(a.hasOwnProperty(e)){var f,g;d.number(a[e])?f=g=a[e]:d.hash(a[e])&&(f=a[e].width||0,g=a[e].height||0),c.push({name:e,width:f,height:g,className:b.opt.prefix+e})}return c.sort(function(a,b){return a.width<b.width?-1:(a.width,b.width,0)}),c},check:function(a){var b=this;d.jq(a)?b.registered.filter(function(b){return b.$element.get(0)===a.get(0)}).forEach(b.checkRegistered,b):b.registered.forEach(b.checkRegistered,b)},checkRegistered:function(a){var b=this.getSize(a),c=a.orientation,d=this.opt.prefix+(b.height>b.width?"portrait":"landscape"),e=a.current,f=this.getCurrent(a,b);f===e&&d===c||(a.current=f,a.callback.call(a.thisArg,a,f.className,d,e.className,c))},onBreakpointChanged:function(a,b,c){a.$element.removeClass(a.classNames).addClass([b,c].join(" "))},getSize:function(a){var b,c;if(a.$element.is(":visible"))b=a.$element.width(),c=a.$element.height();else{var e=a.$element.parents(":visible:first");b=e.innerWidth(),c=e.innerHeight()}var f=d.number(b),g=d.number(c);return{width:f?b:0,height:g?c:0,isValid:f&&g}},getCurrent:function(a,c){if(!d.hash(c)||!c.isValid)return null;for(var e=0,f=a.breakpoints.length;e<f;e++)if(c.width<=a.breakpoints[e].width||c.height<=a.breakpoints[e].height)return a.breakpoints[e];return b.Breakpoints.NONE},onWindowResize:function(a){a.data.self.check()}}),b.Breakpoints.defaults={prefix:"fg-"},b.Breakpoints.NONE={name:"none",width:1/0,height:1/0,className:""}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.fn),function(a,b,c,d,e,f){var g=0;b.Template=c.Class.extend({construct:function(e,f){var h=this;h.namespace=".foogallery-"+ ++g,h.$el=d.jq(f)?f:a(f),h.$scrollParent=a(),h.opt=e,h.template=e.template,h.id=h.$el.prop("id")||e.id,h.cls=e.cls,h.il8n=e.il8n,h.sel=c.selectify(h.cls),h.items=b.components.make("items",h),h.pages=d.undef(b.paging)?null:b.paging.make(e.paging.type,h),h.filter=d.undef(b.filtering)?null:b.filtering.make(e.filtering.type,h),h.panel=b.components.make("panel",h),h.breakpoints=new b.Breakpoints,h.videoSources=d.undef(b.videoSources)?[]:b.videoSources.load(),h.state=b.components.make("state",h),h._initialize=null,h.initializing=!1,h.initialized=!1,h.destroying=!1,h.destroyed=!1,h._undo={classes:"",style:"",create:!1,children:!1}},initialize:function(f){var g=this;return d.promise(g._initialize)?g._initialize:(f=d.jq(f)?f:a(f),g._initialize=a.Deferred(function(h){if(g.initializing=!0,0===f.length&&0===g.$el.parent().length)return void h.reject("A parent element is required.");0===g.$el.length&&(g.$el=g.create(),g._undo.create=!0),f.length>0&&g.$el.appendTo(f),g.$scrollParent=c.scrollParent(g.$el);var i,j=a.Deferred(),k=j.promise();g.$el.length>0&&(i=g.$el.data(b.dataTemplate))instanceof b.Template?k=k.then(function(){return i.destroy().then(function(){g.$el.data(b.dataTemplate,g)})}):g.$el.data(b.dataTemplate,g),k.then(function(){if(g.destroying)return e.rejectWith("destroy in progress");d.empty(g.opt.on)||g.$el.on(g.opt.on),g._undo.classes=g.$el.attr("class"),g._undo.style=g.$el.attr("style"),g.$el.is(g.sel.container)||g.$el.addClass(g.cls.container);var a=c.selectify(g.opt.classes);return null==a||g.$el.is(a)||g.$el.addClass(g.opt.classes),0===g.$el.children().not(g.sel.item.elem).length&&(g.$el.append(g.createChildren()),g._undo.children=!0),g.raise("pre-init").isDefaultPrevented()?e.rejectWith("pre-init default prevented"):void 0}).then(function(){return g.destroying?e.rejectWith("destroy in progress"):g.opt.delay<=0?e.resolved:a.Deferred(function(a){g._delay=setTimeout(function(){g._delay=null,a.resolve()},g.opt.delay)}).promise()}).then(function(){return g.destroying?e.rejectWith("destroy in progress"):g.raise("init").isDefaultPrevented()?e.rejectWith("init default prevented"):g.items.fetch()}).then(function(){if(g.destroying)return e.rejectWith("destroy in progress");if(g.raise("post-init").isDefaultPrevented())return e.rejectWith("post-init default prevented");g.breakpoints.init();var b=g.state.parse();g.state.set(d.empty(b)?g.state.initial():b),g.$scrollParent.on("scroll"+g.namespace,{self:g},e.throttle(g.onWindowScroll,g.opt.throttle)),a(window).on("popstate"+g.namespace,{self:g},g.onWindowPopState)}).then(function(){return g.destroying?e.rejectWith("destroy in progress"):(g.raise("first-load"),g.loadAvailable())}).then(function(){if(g.destroying)return e.rejectWith("destroy in progress");g.initializing=!1,g.initialized=!0,g._check(1e3),g.raise("ready"),h.resolve(g)}).fail(function(a){h.reject(a)}),j.resolve()}).promise().fail(function(a){console.log("initialize failed",g,a),g.destroy()}))},create:function(){var b=this;return a("<div/>",{id:b.id,class:b.cls.container}).addClass(b.opt.classes)},createChildren:function(){return a()},destroy:function(){var b=this;return b.destroyed?e.resolved:(b.destroying=!0,a.Deferred(function(a){b.initializing&&d.promise(b._initialize)?b._initialize.always(function(){b.destroying=!1,b._destroy(),a.resolve()}):(b.destroying=!1,b._destroy(),a.resolve())}).promise())},_destroy:function(){var c=this;c.destroyed||(c.raise("destroy"),c.$scrollParent.off(c.namespace),a(window).off(c.namespace),c.state.destroy(),c.panel&&c.panel.destroy(),c.filter&&c.filter.destroy(),c.pages&&c.pages.destroy(),c.items.destroy(),c.breakpoints.destroy(),d.empty(c.opt.on)||c.$el.off(c.opt.on),c.raise("destroyed"),c.$el.removeData(b.dataTemplate),d.empty(c._undo.classes)?c.$el.removeAttr("class"):c.$el.attr("class",c._undo.classes),d.empty(c._undo.style)?c.$el.removeAttr("style"):c.$el.attr("style",c._undo.style),c._undo.children&&c.destroyChildren(),c._undo.create&&c.$el.remove(),c.$el=c.state=c.items=c.pages=null,c.destroyed=!0,c.initializing=!1,c.initialized=!1)},destroyChildren:function(){},getAvailable:function(){return this.pages?this.pages.available():this.items.available()},loadAvailable:function(){return this.items.load(this.getAvailable())},getItems:function(){return this.pages?this.pages.items():this.items.available()},getWidth:function(a){var b,c=this;return a=a||c.$el,b=a.is(":visible")?a.width():a.parents(":visible:first").innerWidth(),d.number(b)?b:0},getLoaderClass:function(){for(var a=this.$el.prop("className").split(" "),b=0,c=a.length;b<c;b++)if(f.startsWith(a[b],"fg-loading-"))return a[b];return null},_check:function(a){a=d.number(a)?a:0;var b=this;setTimeout(function(){!b.initialized||b.destroying&&b.destroyed||b.loadAvailable()},a)},raise:function(c,e){if(!d.string(c)||d.empty(c))return null;e=d.array(e)?e:[];var g=this,h=c.split(".")[0],i=f.camel("on-"+h),j=a.Event(h+".foogallery");return e.unshift(g),g.$el.trigger(j,e),b.debug.logf("{id}|{name}:",{id:g.id,name:h},e),d.fn(g[i])&&(e.unshift(j),g[i].apply(g.$el.get(0),e)),j},layout:function(){var a=this;null!==a._initialize&&a.raise("layout")},onWindowPopState:function(a){var b=a.data.self,c=a.originalEvent.state;d.empty(c)||c.id!==b.id||(b.state.set(c),b.loadAvailable())},onWindowScroll:function(a){a.data.self.loadAvailable()}}),b.template.register("core",b.Template,{id:null,type:"core",classes:"",on:{},lazy:!0,viewport:200,items:[],fixLayout:!0,delay:0,throttle:50,timeout:6e4,srcset:"data-srcset-fg",src:"data-src-fg",template:{},breakpoints:{small:414,medium:768}},{container:"foogallery",breakpoints:{small:"fg-small",medium:"fg-medium"}},{},-100)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.str),function(a,b){a.Component=b.Class.extend({construct:function(a){this.tmpl=a},destroy:function(){this.tmpl=null}}),a.components=new b.Factory}(FooGallery,FooGallery.utils),function(a,b,c,d){b.State=b.Component.extend({construct:function(a){var b=this;b._super(a),b.apiEnabled=!!window.history&&!!history.replaceState,b.opt=b.tmpl.opt.state,b.enabled=b.opt.enabled,b.pushOrReplace=b.isPushOrReplace(b.opt.pushOrReplace)?b.opt.pushOrReplace:"replace",b.defaultMask="foogallery-gallery-{id}";var c=d.escapeRegExp(b.tmpl.id),e=d.escapeRegExp(b.getMasked()),f=d.escapeRegExp(b.opt.values),g=d.escapeRegExp(b.opt.pair);b.regex={exists:new RegExp("^#"+c+"\\"+f+".+?"),masked:new RegExp("^#"+e+"\\"+f+".+?"),values:new RegExp("(\\w+)"+g+"([^"+f+"]+)","g")}},destroy:function(){var a=this;a.clear(),a.opt=a.regex={},a._super()},getIdNumber:function(){return this.tmpl.id.match(/\d+/g)[0]},getMasked:function(){var a=this,b=d.contains(a.opt.mask,"{id}")?a.opt.mask:a.defaultMask;return d.format(b,{id:a.getIdNumber()})},isPushOrReplace:function(b){return-1!==a.inArray(b,["push","replace"])},exists:function(){return this.regex.values.lastIndex=0,(this.regex.exists.test(location.hash)||this.regex.masked.test(location.hash))&&this.regex.values.test(location.hash)},parse:function(){var b=this,d={};if(b.exists())if(b.enabled){d.id=b.tmpl.id,b.regex.values.lastIndex=0;var e=location.hash.match(b.regex.values);a.each(e,function(e,f){var g=f.split(b.opt.pair);2===g.length&&(d[g[0]]=-1===g[1].indexOf(b.opt.array)?decodeURIComponent(g[1].replace(/\+/g,"%20")):a.map(g[1].split(b.opt.array),function(a){return decodeURIComponent(a.replace(/\+/g,"%20"))}),c.string(d[g[0]])&&!isNaN(d[g[0]])&&(d[g[0]]=parseInt(d[g[0]])))}),c.number(d.i)&&(d.i=d.i+"")}else b.apiEnabled?history.replaceState(null,"",location.pathname+location.search):location.hash="#";return d},hashify:function(b){var d=this;if(c.hash(b)){var e=[];return a.each(b,function(b,f){c.empty(f)||"id"===b||(f=c.array(f)?a.map(f,function(a){return encodeURIComponent(a)}).join(d.opt.array):encodeURIComponent(f),e.push(b+d.opt.pair+f))}),e.length>0&&e.unshift("#"+d.getMasked()),e.join(d.opt.values)}return""},replace:function(a){var b=this;if(b.enabled&&b.apiEnabled){a.id=b.tmpl.id;var d=b.hashify(a),e=c.empty(d);history.replaceState(e?null:a,"",e?location.pathname+location.search:d)}},push:function(a){var b=this;if(b.enabled&&b.apiEnabled){a.id=b.tmpl.id;var d=b.hashify(a),e=c.empty(d);history.pushState(e?null:a,"",e?location.pathname+location.search:d)}},update:function(a,b){var c=this;c.enabled&&c.apiEnabled&&(b=c.isPushOrReplace(b)?b:c.pushOrReplace,c[b](a))},clear:function(){this.exists()&&this.replace({})},initial:function(){var a=this,b=a.tmpl,d={};return b.filter&&!c.empty(b.filter.current)&&(d.f=b.filter.current),b.pages&&b.pages.current>1&&(d.p=b.pages.current),d},get:function(a){var d=this,e=d.tmpl,f={};return a instanceof b.Item&&(f.i=a.id),e.filter&&!c.empty(e.filter.current)&&(f.f=e.filter.current),e.pages&&e.pages.isValid(e.pages.current)&&(f.p=e.pages.current),f},set:function(a){var b=this,d=b.tmpl;if(c.hash(a)){d.items.reset();var e={tags:d.filter&&!c.empty(a.f)?a.f:[],page:d.pages?d.pages.number(a.p):0,item:d.items.get(a.i)};d.raise("before-state",[e]).isDefaultPrevented()||(d.filter&&(d.filter.rebuild(),d.filter.set(e.tags,!1)),d.pages?(d.pages.rebuild(),e.item&&!d.pages.contains(e.page,e.item)&&(e.page=d.pages.find(e.item),e.page=0!==e.page?e.page:1),d.pages.set(e.page,!c.empty(a),!1,!0),e.item&&d.pages.contains(e.page,e.item)&&(b.opt.scrollTo&&e.item.scrollTo(),c.empty(a.i)||(a.i=null,b.replace(a)))):(d.items.detach(d.items.all()),d.items.create(d.items.available(),!0),e.item&&(b.opt.scrollTo&&e.item.scrollTo(),c.empty(a.i)||(a.i=null,b.replace(a)))),d.raise("after-state",[e]))}}}),b.template.configure("core",{state:{enabled:!1,scrollTo:!0,pushOrReplace:"replace",mask:"foogallery-gallery-{id}",values:"/",pair:":",array:"+"}}),b.components.register("state",b.State)}(FooGallery.$,FooGallery,FooGallery.utils.is,FooGallery.utils.str),function(a,b,c,d,e,f){b.Item=b.Component.extend({construct:function(a,c){var e=this;e._super(a),e.cls=a.cls.item,e.il8n=a.il8n.item,e.sel=a.sel.item,e.opt=f.extend({},a.opt.item,c),e.content=b.components.make(e.opt.type+"-content",a,e),e.isAttached=!1,e.isCreated=!1,e.isDestroyed=!1,e.isLoading=!1,e.isLoaded=!1,e.isError=!1,e.isParsed=!1,e.$el=null,e.$inner=null,e.$anchor=null,e.$wrap=null,e.$image=null,e.$caption=null,e.fixLayout=e.tmpl.opt.fixLayout,e.index=-1,e.type=e.opt.type,e.id=e.opt.id,e.href=e.opt.href,e.src=e.opt.src,e.srcset=e.opt.srcset,e.width=e.opt.width,e.height=e.opt.height,e.title=e.opt.title,e.alt=e.opt.alt,e.caption=d.empty(e.opt.caption)?e.title:e.opt.caption,e.description=d.empty(e.opt.description)?e.alt:e.opt.description,e.attr=e.opt.attr,e.tags=e.opt.tags,e.maxWidth=e.opt.maxWidth,e.maxCaptionLength=e.opt.maxCaptionLength,e.maxDescriptionLength=e.opt.maxDescriptionLength,e.showCaptionTitle=e.opt.showCaptionTitle,e.showCaptionDescription=e.opt.showCaptionDescription,e._thumbUrl=null,e._load=null,e._undo={classes:"",style:"",loader:!1,wrap:!1,placeholder:!1}},destroy:function(){var a=this;return a.tmpl.raise("destroy-item",[a]).isDefaultPrevented()||(a.isDestroyed=a.doDestroyItem()),a.isDestroyed&&(a.tmpl.raise("destroyed-item",[a]),a._super()),a.isDestroyed},doDestroyItem:function(){var a=this;return a.content instanceof b.ItemContent&&a.content.destroy(),a.isParsed?(a.$anchor.add(a.$caption).off("click.foogallery"),a.append(),d.empty(a._undo.classes)?a.$el.removeAttr("class"):a.$el.attr("class",a._undo.classes),d.empty(a._undo.style)?a.$el.removeAttr("style"):a.$el.attr("style",a._undo.style),a._undo.wrap&&a.$image.unwrap(),a._undo.loader&&a.$el.find(a.sel.loader).remove(),a._undo.placeholder&&a.$image.prop("src")==b.emptyImage&&a.$image.removeAttr("src")):a.isCreated&&(a.detach(),a.$el.remove()),!0},parse:function(b){var c=this,d=a(b);return!c.tmpl.raise("parse-item",[c,d]).isDefaultPrevented()&&(c.isCreated=d.is(c.sel.elem))&&(c.isParsed=c.doParseItem(d),c.fixLayout&&c.fix()),c.isParsed&&c.tmpl.raise("parsed-item",[c]),c.isParsed},doParseItem:function(c){var e=this,f=e.tmpl.opt,g=e.cls,h=e.sel;if(e._undo.classes=c.attr("class")||"",e._undo.style=c.attr("style")||"",e.$el=c.data(b.dataItem,e),e.$inner=e.$el.children(h.inner),e.$anchor=e.$inner.children(h.anchor).on("click.foogallery",{self:e},e.onAnchorClick),e.$image=e.$anchor.find(h.image),e.$caption=e.$inner.children(h.caption.elem).on("click.foogallery",{self:e},e.onCaptionClick),!(e.$el.length&&e.$inner.length&&e.$anchor.length&&e.$image.length))return console.error("FooGallery Error: Invalid HTML markup. Check the item markup for additional elements or malformed HTML in the title or description.",e),e.isError=!0,e.tmpl.raise("error-item",[e]),0!==e.$el.length&&e.$el.remove(),!1;e.isAttached=e.$el.parent().length>0,e.isLoading=e.$el.is(h.loading),e.isLoaded=e.$el.is(h.loaded),e.isError=e.$el.is(h.error);var i=e.$anchor.data();if(e.id=i.id||e.id,e.tags=i.tags||e.tags,e.href=i.href||e.$anchor.attr("href")||e.href,e.src=e.$image.attr(f.src)||e.src,e.srcset=e.$image.attr(f.srcset)||e.srcset,e.width=parseInt(e.$image.attr("width"))||e.width,e.height=parseInt(e.$image.attr("height"))||e.height,e.title=e.$image.attr("title")||e.title,e.alt=e.$image.attr("alt")||e.alt,e.caption=i.title||i.captionTitle||e.caption||e.title,e.description=i.description||i.captionDesc||e.description||e.alt,d.empty(e.caption)&&(e.caption=a.trim(e.$caption.find(h.caption.title).html())),d.empty(e.description)&&(e.description=a.trim(e.$caption.find(h.caption.description).html())),d.number(e.maxCaptionLength)&&e.maxCaptionLength>0&&!d.empty(e.caption)&&d.string(e.caption)&&e.caption.length>e.maxCaptionLength&&e.$caption.find(h.caption.title).html(e.caption.substr(0,e.maxCaptionLength)+"&hellip;"),d.number(e.maxDescriptionLength)&&e.maxDescriptionLength>0&&!d.empty(e.description)&&d.string(e.description)&&e.description.length>e.maxDescriptionLength&&e.$caption.find(h.caption.description).html(e.description.substr(0,e.maxDescriptionLength)+"&hellip;"),0===e.$anchor.children(h.wrap).length){var j=a("<span/>",{class:g.wrap});e.$anchor.append(j.append(e.$image)),e._undo.wrap=!0}0===e.$el.children(h.loader).length&&(e.$el.append(a("<div/>",{class:g.loader})),e._undo.loader=!0);var k=e.$image.get(0);return d.empty(k.src)&&(k.src=b.emptyImage,e._undo.placeholder=!0),!e.isCreated||!e.isAttached||e.isLoading||e.isLoaded||e.isError||e.$el.addClass(g.idle),!0},create:function(){var a=this;if(!a.isCreated&&d.string(a.href)&&d.string(a.src)&&d.number(a.width)&&d.number(a.height)){a.tmpl.raise("create-item",[a]).isDefaultPrevented()||(a.isCreated=a.doCreateItem()),a.isCreated&&a.tmpl.raise("created-item",[a])}return a.isCreated},doCreateItem:function(){var c=this,e=c.tmpl.opt,f=c.cls,g=c.attr;g.elem.class=f.elem+" "+f.idle,g.inner.class=f.inner,g.anchor.class=f.anchor,g.anchor.href=c.href,g.anchor["data-id"]=c.id,g.anchor["data-title"]=c.caption,g.anchor["data-description"]=c.description,d.empty(c.tags)||(g.anchor["data-tags"]=JSON.stringify(c.tags)),g.image.class=f.image,g.image.src=b.emptyImage,g.image[e.src]=c.src,g.image[e.srcset]=c.srcset,g.image.width=c.width,g.image.height=c.height,g.image.title=c.title,g.image.alt=c.alt,c.$el=a("<div/>").attr(g.elem).data(b.dataItem,c),c.$inner=a("<figure/>").attr(g.inner).appendTo(c.$el),c.$anchor=a("<a/>").attr(g.anchor).appendTo(c.$inner).on("click.foogallery",{self:c},c.onAnchorClick);var h=a("<span/>",{class:f.wrap}).appendTo(c.$anchor);c.$image=a("<img/>").attr(g.image).appendTo(h),f=c.cls.caption,g=c.attr.caption,g.elem.class=f.elem,c.$caption=a("<figcaption/>").attr(g.elem).on("click.foogallery",{self:c},c.onCaptionClick),g.inner.class=f.inner;var i=a("<div/>").attr(g.inner).appendTo(c.$caption),j=c.showCaptionTitle&&!d.empty(c.caption),k=c.showCaptionDescription&&!d.empty(c.description);if(j||k){if(g.title.class=f.title,g.description.class=f.description,j){var l=a("<div/>").attr(g.title),m=c.caption;d.number(c.maxCaptionLength)&&c.maxCaptionLength>0&&d.string(c.caption)&&c.caption.length>c.maxCaptionLength&&(m=c.caption.substr(0,c.maxCaptionLength)+"&hellip;"),l.get(0).innerHTML=m,i.append(l)}if(k){var n=a("<div/>").attr(g.description),o=c.description;d.number(c.maxDescriptionLength)&&c.maxDescriptionLength>0&&d.string(c.description)&&c.description.length>c.maxDescriptionLength&&(o=c.description.substr(0,c.maxDescriptionLength)+"&hellip;"),n.get(0).innerHTML=o,i.append(n)}}return c.$caption.appendTo(c.$inner),0===c.$el.find(c.sel.loader).length&&c.$el.append(a("<div/>",{class:c.cls.loader})),!0},append:function(){var a=this;if(a.isCreated&&!a.isAttached){a.tmpl.raise("append-item",[a]).isDefaultPrevented()||(a.tmpl.$el.append(a.$el),a.fixLayout&&a.fix(),a.isAttached=!0),a.isAttached&&a.tmpl.raise("appended-item",[a])}return a.isAttached},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.tmpl.raise("detach-item",[a]).isDefaultPrevented()||(a.$el.detach(),a.fixLayout&&a.unfix(),a.isAttached=!1),a.isAttached||a.tmpl.raise("detached-item",[a])}return!a.isAttached},load:function(){var b=this;if(d.promise(b._load))return b._load;if(!b.isCreated||!b.isAttached)return e.rejectWith("not created or attached");if(b.tmpl.raise("load-item",[b]).isDefaultPrevented())return e.rejectWith("default prevented");var c=b.cls,f=b.$image.get(0),g=f.src;return b.isLoading=!0,b.$el.removeClass(c.idle).removeClass(c.loaded).removeClass(c.error).addClass(c.loading),b._load=a.Deferred(function(a){f.onload=function(){f.onload=f.onerror=null,b.isLoading=!1,b.isLoaded=!0,b.$el.removeClass(c.loading).addClass(c.loaded),b.fixLayout&&b.unfix(),b.tmpl.raise("loaded-item",[b]),a.resolve(b)},f.onerror=function(){f.onload=f.onerror=null,b.isLoading=!1,b.isError=!0,b.$el.removeClass(c.loading).addClass(c.error),d.string(g)&&b.$image.prop("src",g),b.tmpl.raise("error-item",[b]),a.reject(b)},f.src=b.getThumbUrl(),f.complete&&f.onload()}).promise()},fix:function(){var a=this;if(null==a.tmpl)return a;if(a.isCreated&&!a.isLoading&&!a.isLoaded&&!a.isError){var b=a.width,c=a.height,e=a.$image.get(0);if(!isNaN(b)&&!isNaN(c)&&e){var f=d.fn(a.maxWidth)?a.maxWidth(a):a.$image.width();f<=0&&(f=b);var g=f/b,h=c*g;a.$image.css({width:f,height:h})}}return a},unfix:function(){var a=this;return null==a.tmpl?a:(a.isCreated&&a.$image.css({width:"",height:""}),a)},getThumbUrl:function(a){a=!!d.boolean(a)&&a;var b=this;return!a&&d.string(b._thumbUrl)?b._thumbUrl:b._thumbUrl=c.src(b.src,b.srcset,b.width,b.height,b.$anchor.innerWidth(),b.$anchor.innerHeight())},scrollTo:function(a){var b=this;if(b.isAttached){var d=b.bounds(),e=c.getViewportBounds();switch(a){case"top":d.left+=d.width/2-e.width/2,d.top-=e.height/5;break;default:d.left+=d.width/2-e.width/2,d.top+=d.height/2-e.height/2}window.scrollTo(d.left,d.top)}return b},bounds:function(){return this.isAttached?c.getElementBounds(this.$el):null},intersects:function(a){return!!this.isAttached&&this.bounds().intersects(a)},onAnchorClick:function(a){var b=a.data.self,c=b.tmpl.state.get(b);b.tmpl.state.update(c)},onCaptionClick:function(a){var b=a.data.self;b.$anchor.length>0&&b.$anchor.get(0).click()}}),b.template.configure("core",{item:{type:"item",id:"",href:"",src:"",srcset:"",width:0,height:0,title:"",alt:"",caption:"",description:"",tags:[],maxWidth:null,maxCaptionLength:0,maxDescriptionLength:0,showCaptionTitle:!0,showCaptionDescription:!0,attr:{elem:{},inner:{},anchor:{},image:{},caption:{elem:{},inner:{},title:{},description:{}}}}},{item:{elem:"fg-item",inner:"fg-item-inner",anchor:"fg-thumb",wrap:"fg-image-wrap",image:"fg-image",loader:"fg-loader",idle:"fg-idle",loading:"fg-loading",loaded:"fg-loaded",error:"fg-error",caption:{elem:"fg-caption",inner:"fg-caption-inner",title:"fg-caption-title",description:"fg-caption-desc"}}},{item:{}}),b.components.register("item",b.Item)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d,e,f,g){b.ItemContent=b.Component.extend({construct:function(a,b){var c=this;c._super(a),c.item=b,c.opt=f.extend({},c.tmpl.opt.content),c.cls=f.extend({},c.tmpl.cls.content),c.sel=f.extend({},c.tmpl.sel.content),c.$el=null,c.$loader=null,c.$inner=null,c.$item=null,c.$content=null,c.$caption=null,c.isCreated=!1,c.isDestroyed=!1,c.isAttached=!1,c.isLoading=!1,c.isLoaded=!1,c.isError=!1},getSize:function(a,b,c,e){var f=this,g={};return d.string(a)&&d.string(b)?(g[a]=d.size(c)?c:null,g[b]=d.size(e)?e:null,f.item.isCreated?(g[a]=f.item.$anchor.data(a)||g[a],g[b]=f.item.$anchor.data(b)||g[b],g):g):g},getSizes:function(){var a=this,b=a.getSize("width","height",a.opt.width,a.opt.height),c=a.getSize("maxWidth","maxHeight",a.opt.maxWidth,a.opt.maxHeight),d=a.getSize("minWidth","minHeight",a.opt.minWidth,a.opt.minHeight);return f.extend(b,c,d)},getCaptionPosition:function(){var a=this,b=[];return a.cls.position.hasOwnProperty(a.opt.caption)?(b.push(a.cls.position[a.opt.caption]),a.opt.captionOverlay&&b.push(a.cls.captionOverlay),b.join(" ")):null},setCaptionPosition:function(a,b){var c=this;if(c.cls.position.hasOwnProperty(a)&&(c.opt.caption=a,d.boolean(b)&&(c.opt.captionOverlay=b),c.isCreated)){var e=[c.cls.position.bottom,c.cls.position.top,c.cls.position.left,c.cls.position.right,c.cls.captionOverlay].join(" ");c.$el.removeClass(e).addClass(c.cls.position[a]),c.opt.captionOverlay&&c.$el.addClass(c.cls.captionOverlay)}},destroy:function(){var a=this;return a.tmpl.raise("destroy-content",[a]).isDefaultPrevented()||(a.isDestroyed=a.doDestroyContent()),a.isDestroyed&&(a.tmpl.raise("destroyed-content",[a]),a._super()),a.isDestroyed},doDestroyContent:function(){var a=this;return a.isCreated&&(a.detach(),a.$el.remove()),!0},create:function(){var a=this;if(!a.isCreated&&d.string(a.item.href)){a.tmpl.raise("create-content",[a]).isDefaultPrevented()||(a.isCreated=a.doCreateContent()),a.isCreated&&a.tmpl.raise("created-content",[a])}return a.isCreated},doCreateContent:function(){var a=this;return a.$el=a.createElem(),a.$inner=a.createInner().appendTo(a.$el),a.$item=a.createItem().appendTo(a.$inner),a.$caption=a.createCaption().appendTo(a.$inner),a.$content=a.createContent().appendTo(a.$item),a.$loader=a.createLoader(a.$item),!0},createContent:function(){var b=this,c=b.getSizes();return a("<img/>").addClass(b.cls.content).css(c)},createElem:function(){return a("<div/>").addClass(this.cls.elem).addClass(this.tmpl.getLoaderClass()).addClass(this.getCaptionPosition())},createInner:function(){return a("<div/>").addClass(this.cls.inner)},createItem:function(){return a("<div/>").addClass(this.cls.item)},createCaption:function(){return a("<div/>").addClass(this.cls.caption).append(a("<div/>").addClass(this.cls.title).html(this.item.caption),a("<div/>").addClass(this.cls.description).html(this.item.description))},createLoader:function(b){return a("<div/>").addClass(this.cls.loader).appendTo(b)},appendTo:function(a){var b=this;if(b.isCreated||b.create(),b.isCreated&&!b.isAttached){b.tmpl.raise("append-content",[b,a]).isDefaultPrevented()||(b.isAttached=b.doAppendToContent(a)),b.isAttached&&b.tmpl.raise("appended-content",[b,a])}return b.isAttached},doAppendToContent:function(a){return this.$el.appendTo(a),this.$el.parent().length>0},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.tmpl.raise("detach-content",[a]).isDefaultPrevented()||(a.isAttached=!a.doDetachContent()),a.isAttached||a.tmpl.raise("detached-content",[a])}return!a.isAttached},doDetachContent:function(){return this.$el.detach(),!0},load:function(){var b=this,c=b.item.cls;return b.isLoading=!0,b.isLoaded=!1,b.isError=!1,b.$el.removeClass(c.idle).removeClass(c.loaded).removeClass(c.error).addClass(c.loading),a.Deferred(function(a){return b.isCreated&&b.isAttached?b.tmpl.raise("load-content",[b]).isDefaultPrevented()?void a.rejectWith("default prevented"):void b.doLoadContent().then(a.resolve).fail(a.reject):void a.rejectWith("not created or attached")}).then(function(){b.isLoading=!1,b.isLoaded=!0,b.$el.removeClass(c.loading).addClass(c.loaded),b.tmpl.raise("loaded-content",[b])}).fail(function(){b.isLoading=!1,b.isError=!0,b.$el.removeClass(c.loading).addClass(c.error),b.tmpl.raise("error-content",[b])}).promise()},doLoadContent:function(){var b=this;return a.Deferred(function(a){var c=b.$content.get(0);c.onload=function(){c.onload=c.onerror=null,a.resolve(b)},c.onerror=function(){c.onload=c.onerror=null,a.rejectWith("error loading image")},c.src=b.item.href,c.complete&&c.onload()}).promise()}}),b.template.configure("core",{content:{width:null,height:null,minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,caption:null,captionOverlay:!1,attrs:{}}},{content:{elem:"fg-content-container fg-content-image",inner:"fg-content-inner",item:"fg-content-item",content:"fg-content",caption:"fg-content-caption",captionOverlay:"fg-content-caption-overlay",title:"fg-content-title",description:"fg-content-description",loader:"fg-loader",position:{bottom:"fg-content-caption-bottom",top:"fg-content-caption-top",left:"fg-content-caption-left",right:"fg-content-caption-right"}}}),b.components.register("item-content",b.ItemContent)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj,FooGallery.utils.str),function(a,b,c,d,e,f){b.Items=b.Component.extend({construct:function(a){var b=this;b._super(a),b.maps={},b._fetched=null,b._arr=[],b._available=[],b._canvas=document.createElement("canvas");var d=b.tmpl.cls.item.caption;b.tmpl.sel.item.caption.all=c.selectify([d.elem,d.inner,d.title,d.description])},destroy:function(){var b=this,c=b.all(),d=[];c.length>0&&(b.tmpl.raise("destroy-items",[c]),d=a.map(c,function(a){return a.destroy()?a:null}),d.length>0&&b.tmpl.raise("destroyed-items",[d])),b.maps={},b._canvas=b._fetched=null,b._arr=[],b._available=[],b._super()},fetch:function(b){var c=this;if(!b&&d.promise(c._fetched))return c._fetched;var e=c.tmpl,f=e.sel,g=e.opt.items,h=a.Deferred(),i=c.make(e.$el.find(f.item.elem));return d.empty(g)?(i.push.apply(i,c.make(window[e.id+"-items"])),h.resolve(i)):d.array(g)?(i.push.apply(i,c.make(g)),h.resolve(i)):d.string(g)?a.get(g).then(function(a){i.push.apply(i,c.make(a)),h.resolve(i)},function(a,b,c){console.log("FooGallery: GET items error.",g,a,b,c),h.resolve(i)}):h.resolve(i),h.then(function(a){c.setAll(a)}),c._fetched=h.promise()},all:function(){return this._arr.slice()},count:function(a){return a?this.all().length:this.available().length},available:function(){return this._available.slice()},get:function(a){var b=d.number(a)?"index":"id";return this.maps[b][a]?this.maps[b][a]:null},setAll:function(a){this._arr=d.array(a)?a:[],this.maps=this.createMaps(this._arr),this._available=this.all()},setAvailable:function(a){this.maps=this.createMaps(this._arr),this._available=d.array(a)?a:[]},reset:function(){this.setAvailable(this.all())},first:function(){return this._available.length>0?this._available[0]:null},last:function(){
return this._available.length>0?this._available[this._available.length-1]:null},next:function(a,c){if(!(a instanceof b.Item))return null;c=!!d.boolean(c)&&c;var e=this._available.indexOf(a);if(-1!==e){if(++e>=this._available.length){if(!c)return null;e=0}return this._available[e]}return null},prev:function(a,c){if(!(a instanceof b.Item))return null;c=!!d.boolean(c)&&c;var e=this._available.indexOf(a);if(-1!==e){if(--e<0){if(!c)return null;e=this._available.length-1}return this._available[e]}return null},createMaps:function(b){b=d.array(b)?b:[];var c={id:{},index:{}};return a.each(b,function(a,b){d.empty(b.id)&&(b.id=""+(a+1)),b.index=a,c.id[b.id]=b,c.index[b.index]=b}),c},loadable:function(b){var e,f=this,g=f.tmpl.opt;return g.lazy&&(e=c.getViewportBounds(g.viewport)),d.array(b)?a.map(b,function(a){return a.isCreated&&a.isAttached&&!a.isLoading&&!a.isLoaded&&!a.isError&&(!g.lazy||g.lazy&&a.intersects(e))?a:null}):[]},creatable:function(c){return d.array(c)?a.map(c,function(a){return a instanceof b.Item&&!a.isCreated?a:null}):[]},appendable:function(c){return d.array(c)?a.map(c,function(a){return a instanceof b.Item&&a.isCreated&&!a.isAttached?a:null}):[]},detachable:function(c){return d.array(c)?a.map(c,function(a){return a instanceof b.Item&&a.isCreated&&a.isAttached?a:null}):[]},jquerify:function(b){return a(a.map(b,function(a){return a.$el.get()}))},make:function(c){var e=this,g=[];if(d.jq(c)||d.array(c)){var h=[],i=a.makeArray(c);if(0===i.length)return g;e.tmpl.raise("make-items",[i]).isDefaultPrevented()||(g=a.map(i,function(a){var c=e.type(a),g=f.extend(d.hash(a)?a:{},{type:c}),i=b.components.make(c,e.tmpl,g);return d.element(a)?i.parse(a)?(h.push(i),i):null:i})),g.length>0&&e.tmpl.raise("made-items",[g]),h.length>0&&e.tmpl.raise("parsed-items",[h])}return g},type:function(c){var e;if(d.hash(c))e=c.type;else if(d.element(c)){var f=a(c),g=this.tmpl.sel.item;e=f.find(g.anchor).data("type")}return d.string(e)&&b.components.contains(e)?e:"item"},create:function(b,c){var e=this,f=[],g=e.creatable(b);if(g.length>0){e.tmpl.raise("create-items",[g]).isDefaultPrevented()||(f=a.map(g,function(a){return a.create()?a:null})),f.length>0&&e.tmpl.raise("created-items",[f])}return d.boolean(c)&&c?e.append(b):f},append:function(b){var c=this,d=[],e=c.appendable(b);if(e.length>0){c.tmpl.raise("append-items",[e]).isDefaultPrevented()||(d=a.map(e,function(a){return a.append()?a:null})),d.length>0&&c.tmpl.raise("appended-items",[d])}return d},detach:function(b){var c=this,d=[],e=c.detachable(b);if(e.length>0){c.tmpl.raise("detach-items",[e]).isDefaultPrevented()||(d=a.map(e,function(a){return a.detach()?a:null})),d.length>0&&c.tmpl.raise("detached-items",[d])}return d},load:function(b){var c=this;if(b=c.loadable(b),b.length>0){if(!c.tmpl.raise("load-items",[b]).isDefaultPrevented()){var d=a.map(b,function(a){return a.load()});return e.when(d).done(function(a){c.tmpl.raise("loaded-items",[a])})}}return e.resolveWith([])}}),b.components.register("items",b.Items)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj),function(a,b,c,d,e,f,g){b.Panel=b.Component.extend({construct:function(a){var b=this;b._super(a),b.namespace=b.tmpl.namespace+"-panel",b.opt=e.extend({},b.tmpl.opt.panel),b.cls=e.extend({},b.tmpl.cls.panel),b.sel=e.extend({},b.tmpl.sel.panel),b.enabled=b.opt.enabled,b.$el=null,b.$inner=null,b.$buttons=null,b.isCreated=!1,b.isDestroyed=!1,b.isAttached=!1,b.isLoading=!1,b.isLoaded=!1,b.isError=!1,b.isExpanded=!1,b.isCaptionCollapsed=!1,b.hasTransition=!d.empty(b.cls.transition[b.opt.transition]),b.currentItem=null},postinit:function(){this.opt.bindAnchorClick},destroy:function(){var a=this;return a.tmpl.raise("destroy-panel",[a]).isDefaultPrevented()||(a.isDestroyed=a.doDestroy()),a.isDestroyed&&(a.tmpl.raise("destroyed-panel",[a]),a._super()),a.isDestroyed},doDestroy:function(){var a=this;return a.detach(),a.isCreated&&a.$el.remove(),!0},create:function(){var a=this;if(!a.isCreated&&a.tmpl instanceof b.Template&&(a.tmpl.initialized||a.tmpl.initializing)){a.tmpl.raise("create-panel",[a]).isDefaultPrevented()||(a.isCreated=a.doCreate()),a.isCreated&&a.tmpl.raise("created-panel",[a])}return a.isCreated},doCreate:function(){var c=this;return c.$el=c.createElem(),c.opt.keyboard&&c.$el.attr("tabindex",-1).on("keydown.foogallery",{self:c},c.onKeyDown),c.opt.swipe&&c.$el.fgswipe({data:{self:c},swipe:c.onPanelSwipe,allowPageScroll:!0}),c.$buttons=a("<div/>").addClass(c.cls.buttons).appendTo(c.$el),c.$inner=a("<div/>").addClass(c.cls.inner).appendTo(c.$el),c.opt.buttons.navigation&&(a("<div/>").addClass(c.cls.prev).append(b.icon("prev",c.opt.icons)).on("click.foogallery",{self:c},c.onPrevClick).appendTo(c.$buttons),a("<div/>").addClass(c.cls.next).append(b.icon("next",c.opt.icons)).on("click.foogallery",{self:c},c.onNextClick).appendTo(c.$buttons)),c.opt.buttons.caption&&a("<div/>").addClass(c.cls.caption).append(b.icon("caption",c.opt.icons)).on("click.foogallery",{self:c},c.onCaptionClick).appendTo(c.$buttons),c.opt.buttons.expand&&a("<div/>").addClass(c.cls.expand).append(b.icon("expand",c.opt.icons),b.icon("shrink",c.opt.icons)).on("click.foogallery",{self:c},c.onExpandClick).appendTo(c.$buttons),c.opt.buttons.close&&a("<div/>").addClass(c.cls.close).append(b.icon("close",c.opt.icons)).on("click.foogallery",{self:c},c.onCloseClick).appendTo(c.$buttons),!0},createElem:function(){var b=this,c=b.cls.transition[b.opt.transition]||"";b.hasTransition=!d.empty(c);var e=[b.cls.elem,b.opt.theme,b.opt.highlight,c,b.tmpl.getLoaderClass(),b.opt.classNames];return a("<div/>").addClass(e.join(" "))},createLoader:function(b){return a("<div/>").addClass(this.cls.loader).appendTo(b)},appendTo:function(a){var b=this;if(b.isCreated||b.create(),b.isCreated&&!b.isAttached){b.tmpl.raise("append-panel",[b,a]).isDefaultPrevented()||(b.isAttached=b.doAppendTo(a)),b.isAttached&&b.tmpl.raise("appended-panel",[b,a])}return b.isAttached},doAppendTo:function(b){var c=this,d=a(b);return c.isExpanded=d.is("body"),c.isExpanded&&c.$buttons.find(c.sel.expand).hide(),c.tmpl.breakpoints.register(c.$el,c.opt.breakpoints),c.$el.toggleClass(c.cls.expanded,c.isExpanded).appendTo(d),c.$el.parent().length>0},detach:function(){var a=this;if(a.isCreated&&a.isAttached){a.tmpl.raise("detach-panel",[a]).isDefaultPrevented()||(a.isAttached=!a.doDetach()),a.isAttached||a.tmpl.raise("detached-panel",[a])}return!a.isAttached},doDetach:function(){var a=this;return a.tmpl.breakpoints.remove(a.$el),a.$el.detach(),!0},checkBreakpoints:function(){this.tmpl.breakpoints.check(this.$el)},reverseTransition:function(a,c){if(!(a instanceof b.Item&&c instanceof b.Item))return!0;var d=a.index<c.index,e=this.tmpl.items.last();return e instanceof b.Item&&(0===c.index&&a.index===e.index||c.index===e.index&&0===a.index)&&(d=!d),d},load:function(c){var d=this;return c=c instanceof b.Item?c:d.currentItem,(c=c instanceof b.Item?c:d.tmpl.items.first())instanceof b.Item?c===d.currentItem?f.rejectWith("item is currently loaded"):(d.isLoading=!0,d.isLoaded=!1,d.isError=!1,d.$el.removeClass(c.cls.idle).removeClass(c.cls.loaded).removeClass(c.cls.error).addClass(c.cls.loading),a.Deferred(function(a){if(!d.isCreated||!d.isAttached)return void a.rejectWith("not created or attached");if(d.tmpl.raise("load-panel",[d,c]).isDefaultPrevented())return void a.rejectWith("default prevented");var b=d.reverseTransition(d.currentItem,c);d.doUnload(d.currentItem,b),d.currentItem=c,d.doLoad(c,b).then(a.resolve).fail(a.reject)}).always(function(){d.isLoading=!1,d.$el.removeClass(c.cls.loading).focus()}).then(function(){d.isLoaded=!0,d.$el.addClass(c.cls.loaded),d.tmpl.raise("loaded-panel",[d,c])}).fail(function(){d.isError=!0,d.$el.addClass(c.cls.error),d.tmpl.raise("error-panel",[d,c])}).promise()):f.rejectWith("no items to load")},doUnload:function(c,d){var e=this;return c instanceof b.Item&&c.isCreated?a.Deferred(function(a){c.content.$el.toggleClass(e.cls.reverse,!d),e.hasTransition?g.start(c.content.$el,e.cls.visible,!1,350).then(function(){c.content.$el.removeClass(e.cls.reverse),a.resolve()}):(c.content.$el.removeClass(e.cls.reverse).removeClass(e.cls.visible),a.resolve())}).promise().always(function(){c.content.detach()}):f.resolveWith("no item to unload")},doLoad:function(b,c){var d=this;b.content.isCreated||b.content.create(),b.content.setCaptionPosition(d.opt.caption,d.opt.captionOverlay),b.content.$el.toggleClass(d.cls.reverse,c),b.content.appendTo(d.$inner);var e=[];return e.push(b.content.load()),d.hasTransition?e.push(g.start(b.content.$el,d.cls.visible,!0,1e3)):b.content.$el.addClass(d.cls.visible),a.when.apply(a,e).promise().always(function(){b.content.$el.removeClass(d.cls.reverse);var a=d.tmpl.state.get(b);d.tmpl.state.update(a)})},open:function(a,b){var c=this;return c.tmpl.raise("open-panel",[c,a,b]).isDefaultPrevented()?f.rejectWith("default prevented"):c.doOpen(a,b).then(function(){c.tmpl.raise("opened-panel",[c,a,b])})},doOpen:function(c,e){var f=this;return a.Deferred(function(g){c=c instanceof b.Item?c:f.tmpl.items.first(),e=d.empty(e)?f.opt.parent:e,f.isAttached||f.appendTo(e),a("html").toggleClass(f.cls.noScrollbars,f.isExpanded&&f.opt.noScrollbars),f.isAttached?f.load(c).then(g.resolve).fail(g.reject):g.rejectWith("not attached")}).promise()},next:function(){var a=this;if(!(a.currentItem instanceof b.Item))return f.rejectWith("no current item");var c=a.tmpl.items.next(a.currentItem,a.opt.loop);return a.tmpl.raise("next-panel",[a,a.currentItem,c]).isDefaultPrevented()?f.rejectWith("default prevented"):a.doNext(c).then(function(){a.tmpl.raise("after-next-panel",[a,a.currentItem,c])})},doNext:function(a){return this.load(a)},prev:function(){var a=this;if(!(a.currentItem instanceof b.Item))return f.rejectWith("no current item");var c=a.tmpl.items.prev(a.currentItem,a.opt.loop);return a.tmpl.raise("prev-panel",[a,a.currentItem,c]).isDefaultPrevented()?f.rejectWith("default prevented"):a.doPrev(c).then(function(){a.tmpl.raise("after-prev-panel",[a,a.currentItem,c])})},doPrev:function(a){return this.load(a)},close:function(){var a=this;return a.tmpl.raise("close-panel",[a,a.currentItem]).isDefaultPrevented()?f.rejectWith("default prevented"):a.doClose().then(function(){a.tmpl.raise("closed-panel",[a])})},doClose:function(){var c=this;return a.Deferred(function(a){c.currentItem instanceof b.Item?c.doUnload(c.currentItem,!1).always(function(){a.resolve()}):a.resolve()}).always(function(){c.currentItem=null,c.detach(),c.tmpl.state.clear(),a("html").removeClass(c.cls.noScrollbars)}).promise()},toggleExpand:function(){var b=this;b.isExpanded=!b.isExpanded,b.$el.toggleClass(b.cls.expanded,b.isExpanded),a("html").toggleClass(b.cls.noScrollbars,b.isExpanded&&b.opt.noScrollbars),b.tmpl.breakpoints.check(b.$el)},toggleCaption:function(){var a=this;a.isCaptionCollapsed=!a.isCaptionCollapsed,a.$el.toggleClass(a.cls.captionCollapsed,a.isCaptionCollapsed)},onPrevClick:function(a){a.preventDefault(),a.data.self.prev()},onNextClick:function(a){a.preventDefault(),a.data.self.next()},onCloseClick:function(a){a.preventDefault(),a.data.self.close()},onExpandClick:function(a){a.preventDefault(),a.data.self.toggleExpand()},onCaptionClick:function(a){a.preventDefault(),a.data.self.toggleCaption()},onKeyDown:function(a){var b=a.data.self;switch(a.which){case 39:b.next();break;case 37:b.prev();break;case 27:b.isExpanded?b.toggleExpand():b.close();break;case 13:a.altKey&&b.toggleExpand()}},onPanelSwipe:function(a,b){var c=b.self;"E"===a.direction&&c.prev(),"W"===a.direction&&c.next()}}),b.template.configure("core",{panel:{enabled:!1,classNames:"",theme:"fg-light",highlight:"",parent:"body",transition:"none",loop:!0,caption:null,captionOverlay:!1,icons:"default",keyboard:!0,noScrollbars:!0,swipe:!0,buttons:{navigation:!0,close:!0,expand:!0,caption:!0},breakpoints:{small:414,medium:{width:768,height:640}}}},{panel:{elem:"fg-panel",expanded:"fg-panel-expanded",inner:"fg-panel-inner",buttons:"fg-panel-buttons",prev:"fg-panel-button fg-panel-prev",next:"fg-panel-button fg-panel-next",close:"fg-panel-button fg-panel-close",expand:"fg-panel-button fg-panel-expand",caption:"fg-panel-button fg-panel-caption",captionCollapsed:"fg-panel-caption-collapsed",noScrollbars:"fg-panel-no-scroll",loader:"fg-loader",visible:"fg-visible",reverse:"fg-reverse",transition:{fade:"fg-panel-fade",horizontal:"fg-panel-horizontal",vertical:"fg-panel-vertical"}}}),b.components.register("panel",b.Panel)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.fn,FooGallery.utils.transition),function(a,b,c,d){b.Video=b.Item.extend({construct:function(a,b){var c=this;c._super(a,b),c.cover=c.opt.cover},doParseItem:function(a){var b=this;return!!b._super(a)&&(b.cover=b.$anchor.data("cover")||b.cover,b.$el.addClass(b.cls.video),!0)},doCreateItem:function(){var a=this;return!!a._super()&&(a.$anchor.attr({"data-type":a.type,"data-cover":a.cover}),a.$el.addClass(a.cls.video),!0)}}),b.template.configure("core",{item:{cover:""}},{item:{video:"fg-video"}}),b.components.register("video",b.Video)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d,e,f,g){b.VideoContent=b.ItemContent.extend({construct:function(a,b){var c=this;c._super(a,b),f.extend(c.opt,c.tmpl.opt.video),f.extend(c.cls,c.tmpl.cls.video),f.extend(c.sel,c.tmpl.sel.video),c.urls=[],c.isSelfHosted=!1,c._autoPlay=c.opt.autoPlay},parseHref:function(){for(var a,b,c=this,e=c.item.href.split(","),f=[],h=0,i=e.length;h<i;h++)if(!d.empty(e[h])){a=g.parts(e[h]),b=null;for(var j=0,k=c.tmpl.videoSources.length;j<k;j++)if(c.tmpl.videoSources[j].canPlay(a)){b=c.tmpl.videoSources[j],f.push({parts:a,source:b,embed:b.getEmbedUrl(a,c._autoPlay)});break}}return f},doCreateContent:function(){var b=this;return b.urls=b.parseHref(),b.isSelfHosted=a.map(b.urls,function(a){return!!a.source.selfHosted||null}).length>0,b._super()},createContent:function(){var b=this,c=b.getSizes();return(b.isSelfHosted?a("<video/>",b.opt.attrs.video):a("<iframe/>",b.opt.attrs.iframe)).addClass(b.cls.content).css(c)},load:function(a){var b=this;return b._autoPlay=d.boolean(a)?a:b.opt.autoPlay,b._super().always(function(){b._autoPlay=b.opt.autoPlay})},doLoadContent:function(){var b=this;return a.Deferred(function(a){if(0===b.urls.length)return void a.rejectWith("no urls available");(b.isSelfHosted?b.loadSelfHosted():b.loadIframe()).then(a.resolve).fail(a.reject)}).promise()},loadSelfHosted:function(){var b=this;return a.Deferred(function(c){b.$content.off("loadeddata error"),b.$content.find("source").remove(),d.empty(b.item.cover)||b.$content.attr("poster",b.item.cover),b.$content.on({loadeddata:function(){if(b.$content.off("loadeddata error"),this.volume=b.opt.volume,b._autoPlay){var a=this.play();void 0!==a&&a.catch(function(){console.log("Unable to autoplay video due to policy changes: https://developers.google.com/web/updates/2017/09/autoplay-policy-changes")})}c.resolve(b)},error:function(){b.$content.off("loadeddata error"),c.reject(b)}});var e=a.map(b.urls,function(c){var d=c.source.getEmbedUrl(c.parts,b._autoPlay);return a("<source/>",{src:d,mimeType:c.source.mimeType})});b.$content.append(e),b.$content.prop("readyState")>0&&b.$content.get(0).load()}).promise()},loadIframe:function(){var b=this;return a.Deferred(function(a){d.empty(b.item.cover)||b.$content.css("background-image","url('"+b.item.cover+"')"),b.$content.off("load error").on({load:function(){b.$content.off("load error"),a.resolve(b)},error:function(){b.$content.off("load error"),a.reject(b)}});var c=b.urls[0],e=c.source.getEmbedUrl(c.parts,b._autoPlay);b.$content.attr("src",e)}).promise()}}),b.template.configure("core",{video:{autoPlay:!1,volume:.2,attrs:{iframe:{src:"",frameborder:"no",allow:"autoplay; fullscreen",allowfullscreen:!0},video:{controls:!0,preload:!1,controlsList:"nodownload"}}}},{video:{elem:"fg-content-container fg-content-video",cover:"fg-content-cover"}}),b.components.register("video-content",b.VideoContent)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj,FooGallery.utils.url),function(a,b,c,d,e){a.VideoHelper=b.Class.extend({construct:function(b){this.playerDefaults=d.extend({autoPlay:!1,width:null,height:null,minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,attrs:{iframe:{src:"",frameborder:"no",allow:"autoplay; fullscreen",allowfullscreen:!0},video:{controls:!0,preload:!1,controlsList:"nodownload"}}},b),this.sources=a.videoSources.load()},parseHref:function(a,b){for(var d,f,g=this,h=a.split(","),i=[],j=0,k=h.length;j<k;j++)if(!c.empty(h[j])){d=e.parts(h[j]),f=null;for(var l=0,m=g.sources.length;l<m;l++)if(g.sources[l].canPlay(d)){f=g.sources[l],i.push({parts:d,source:f,embed:f.getEmbedUrl(d,b)});break}}return i},canPlay:function(a){return this.parseHref(a).length>0},getPlayer:function(b,c){c=d.extend({},this.playerDefaults,c);var e=this.parseHref(b,c.autoPlay);return new a.VideoPlayer(e,c)}})}(FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.url),function(a,b,c,d){b.VideoPlayer=c.Class.extend({construct:function(b,c){this.urls=b,this.options=c,this.selfHosted=a.map(this.urls,function(a){return!!a.source.selfHosted||null}).length>0,this.$el=this.$create()},$create:function(){var b=this,c=b.options,d=b.selfHosted?a("<video/>",c.attrs.video):a("<iframe/>",c.attrs.iframe);return d.css({width:c.width,height:c.height,maxWidth:c.maxWidth,maxHeight:c.maxHeight,minWidth:c.minWidth,minHeight:c.minHeight}),d},appendTo:function(b){var c=this,d=a(b);return d.length>0&&(0===c.$el.length&&(c.$el=c.$create()),d.append(c.$el)),c},load:function(){var a=this;return 0===a.urls.length?d.rejectWith(Error("No supported urls available.")):a.selfHosted?a.loadSelfHosted():a.loadEmbed()},loadSelfHosted:function(){var b=this;return b.$el.off("loadeddata error"),a.Deferred(function(c){b.$el.find("source").remove(),b.$el.on({loadeddata:function(){if(b.$el.off("loadeddata error"),this.volume=.2,b.options.autoPlay){var a=this.play();void 0!==a&&a.catch(function(){console.log("Unable to autoplay video due to policy changes: https://developers.google.com/web/updates/2017/09/autoplay-policy-changes")})}c.resolve()},error:function(){b.$el.off("loadeddata error"),c.reject(Error("Error loading video: "+a.map(b.urls,function(a){return a.embed}).join(",")))}});var d=a.map(b.urls,function(b){return a("<source/>",{src:b.embed,mimeType:b.source.mimeType})});b.$el.append(d),b.$el.prop("readyState")>0&&b.$el.get(0).load()}).promise()},loadEmbed:function(){var b=this;return b.$el.off("load error"),a.Deferred(function(a){var c=b.urls[0].embed;b.$el.on({load:function(){b.$el.off("load error"),a.resolve()},error:function(){b.$el.off("load error"),a.reject(Error("Error loading video: "+c))}}),b.$el.attr("src",c)}).promise()},remove:function(){this.$el.off("load loadeddata error").remove()}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.fn),function(a,b,c,d,e,f){var g=document.createElement("video");b.VideoSource=c.Class.extend({construct:function(b,c,e,f,h){this.mimeType=b,this.regex=c,this.selfHosted=!!d.boolean(e)&&e,this.embedParams=d.array(f)?f:[],this.autoPlayParam=d.hash(h)?h:{},this.canPlayType=!this.selfHosted||!d.fn(g.canPlayType)||-1!==a.inArray(g.canPlayType(this.mimeType),["probably","maybe"])},canPlay:function(a){return this.canPlayType&&this.regex.test(a.href)},mergeParams:function(a,b){for(var c,f=this,g=0,h=f.embedParams.length;g<h;g++)c=f.embedParams[g],a.search=e.param(a.search,c.key,c.value);return d.empty(f.autoPlayParam)||(a.search=e.param(a.search,f.autoPlayParam.key,b?f.autoPlayParam.value:"")),a.search},getId:function(a){var b=a.href.match(/.*\/(.*?)($|\?|#)/);return b&&b.length>=2?b[1]:null},getEmbedUrl:function(a,b){return a.search=this.mergeParams(a,b),f.join("/",location.protocol,"//",a.hostname,a.pathname)+a.search+a.hash}}),b.videoSources=new c.Factory}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.url,FooGallery.utils.str),function(a){a.VideoSource.Mp4=a.VideoSource.extend({construct:function(){this._super("video/mp4",/\.mp4/i,!0)}}),a.videoSources.register("video/mp4",a.VideoSource.Mp4),a.VideoSource.Webm=a.VideoSource.extend({construct:function(){this._super("video/webm",/\.webm/i,!0)}}),a.videoSources.register("video/webm",a.VideoSource.Webm),a.VideoSource.Wmv=a.VideoSource.extend({construct:function(){this._super("video/wmv",/\.wmv/i,!0)}}),a.videoSources.register("video/wmv",a.VideoSource.Wmv),a.VideoSource.Ogv=a.VideoSource.extend({construct:function(){this._super("video/ogg",/\.ogv|\.ogg/i,!0)}}),a.videoSources.register("video/ogg",a.VideoSource.Ogv)}(FooGallery),function(a){a.VideoSource.YouTube=a.VideoSource.extend({construct:function(){this._super("video/youtube",/(www.)?youtube|youtu\.be/i,!1,[{key:"modestbranding",value:"1"},{key:"rel",value:"0"},{key:"wmode",value:"transparent"},{key:"showinfo",value:"0"}],{key:"autoplay",value:"1"})},getId:function(a){return/embed\//i.test(a.href)?a.href.split(/embed\//i)[1].split(/[?&]/)[0]:a.href.split(/v\/|v=|youtu\.be\//i)[1].split(/[?&]/)[0]},getEmbedUrl:function(a,b){var c=this.getId(a);return a.search=this.mergeParams(a,b),"https://www.youtube-nocookie.com/embed/"+c+a.search+a.hash}}),a.videoSources.register("video/youtube",a.VideoSource.YouTube)}(FooGallery),function(a){a.VideoSource.Vimeo=a.VideoSource.extend({construct:function(){this._super("video/vimeo",/(player.)?vimeo\.com/i,!1,[{key:"badge",value:"0"},{key:"portrait",value:"0"}],{key:"autoplay",value:"1"})},getEmbedUrl:function(a,b){var c=this.getId(a);return a.search=this.mergeParams(a,b),location.protocol+"//player.vimeo.com/video/"+c+a.search+a.hash}}),a.videoSources.register("video/vimeo",a.VideoSource.Vimeo)}(FooGallery),function(a){a.VideoSource.Dailymotion=a.VideoSource.extend({construct:function(){this._super("video/daily",/(www.)?dailymotion\.com|dai\.ly/i,!1,[{key:"wmode",value:"opaque"},{key:"info",value:"0"},{key:"logo",value:"0"},{key:"related",value:"0"}],{key:"autoplay",value:"1"})},getId:function(a){return/\/video\//i.test(a.href)?a.href.split(/\/video\//i)[1].split(/[?&]/)[0].split(/[_]/)[0]:a.href.split(/dai\.ly/i)[1].split(/[?&]/)[0]},getEmbedUrl:function(a,b){var c=this.getId(a);return a.search=this.mergeParams(a,b),location.protocol+"//www.dailymotion.com/embed/video/"+c+a.search+a.hash}}),a.videoSources.register("video/daily",a.VideoSource.Dailymotion)}(FooGallery),function(a,b,c){a.VideoSource.Wistia=a.VideoSource.extend({construct:function(){this._super("video/wistia",/(.+)?(wistia\.(com|net)|wi\.st)\/.*/i,!1,[],{iframe:{key:"autoPlay",value:"1"},playlists:{key:"media_0_0[autoPlay]",value:"1"}})},getType:function(a){return/playlists\//i.test(a)?"playlists":"iframe"},mergeParams:function(a,d){for(var e,f=this,g=0,h=f.embedParams.length;g<h;g++)e=f.embedParams[g],a.search=c.param(a.search,e.key,e.value);if(!b.empty(f.autoPlayParam)){var i=f.autoPlayParam[f.getType(a.href)];a.search=c.param(a.search,i.key,d?i.value:"")}return a.search},getId:function(a){return/embed\//i.test(a.href)?a.href.split(/embed\/.*?\//i)[1].split(/[?&]/)[0]:a.href.split(/medias\//)[1].split(/[?&]/)[0]},getEmbedUrl:function(a,b){var c=this.getId(a);return a.search=this.mergeParams(a,b),location.protocol+"//fast.wistia.net/embed/"+this.getType(a.href)+"/"+c+a.search+a.hash}}),a.videoSources.register("video/wistia",a.VideoSource.Wistia)}(FooGallery,FooGallery.utils.is,FooGallery.utils.url),function(a,b,c,d){b.Iframe=b.Item.extend({doParseItem:function(a){var b=this;return!!b._super(a)&&(b.$el.addClass(b.cls.iframe),!0)},doCreateItem:function(){var a=this;return!!a._super()&&(a.$anchor.attr({"data-type":a.type}),a.$el.addClass(a.cls.iframe),!0)}}),b.template.configure("core",null,{item:{iframe:"fg-iframe"}}),b.components.register("iframe",b.Iframe)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d,e,f,g){b.IframeContent=b.ItemContent.extend({construct:function(a,b){var c=this;c._super(a,b),f.extend(c.opt,c.tmpl.opt.iframe),f.extend(c.cls,c.tmpl.cls.iframe),f.extend(c.sel,c.tmpl.sel.iframe)},createContent:function(){var b=this,c=b.getSizes();return a("<iframe/>",b.opt.attrs).addClass(b.cls.content).css(c)},doLoadContent:function(){var b=this;return a.Deferred(function(a){b.$content.off("load error").on({load:function(){b.$content.off("load error"),a.resolve(b)},error:function(){b.$content.off("load error"),a.reject(b)}}),b.$content.attr("src",b.item.href)}).promise()}}),b.template.configure("core",{iframe:{attrs:{src:"",frameborder:"no",allow:"autoplay; fullscreen",allowfullscreen:!0}}},{iframe:{elem:"fg-content-container fg-content-iframe"}}),b.components.register("iframe-content",b.IframeContent)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.obj,FooGallery.utils.url),function(a,b,c,d){b.Html=b.Item.extend({doParseItem:function(a){var b=this;return!!b._super(a)&&(b.$el.addClass(b.cls.html),!0)},doCreateItem:function(){var a=this;return!!a._super()&&(a.$anchor.attr({"data-type":a.type}),a.$el.addClass(a.cls.html),!0)}}),b.template.configure("core",null,{item:{html:"fg-html"}}),b.components.register("html",b.Html)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d,e,f,g){b.HtmlContent=b.ItemContent.extend({construct:function(a,b){var c=this;c._super(a,b),g.extend(c.opt,c.tmpl.opt.html),g.extend(c.cls,c.tmpl.cls.html),g.extend(c.sel,c.tmpl.sel.html),c.$target=null},doCreateContent:function(){var b=this;return f.startsWith(b.item.href,"#")&&0!==(b.$target=a(b.item.href)).length?b._super():(b.$target=null,!1)},createContent:function(){var b=this,c=b.getSizes();return a("<div/>",b.opt.attrs).addClass(b.cls.content).css(c)},doAppendToContent:function(a){var b=this;return b.$el.appendTo(a),b.$content.append(b.$target.contents()),b.$el.parent().length>0},doDetachContent:function(){var a=this;return a.$target.append(a.$content.contents()),a.$el.detach(),!0},doLoadContent:function(){var a=this;return a.isCreated&&a.isAttached?a.tmpl.raise("load-content",[a]).isDefaultPrevented()?e.rejectWith("default prevented"):e.resolveWith(a):e.rejectWith("not created or attached")}}),b.template.configure("core",null,{html:{elem:"fg-content-container fg-content-html"}}),b.components.register("html-content",b.HtmlContent)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.str,FooGallery.utils.obj),function(a,b,c,d){b.Embed=b.Item.extend({construct:function(a,b){var c=this;c._super(a,b),c.cover=c.opt.cover},doParseItem:function(a){var b=this;return!!b._super(a)&&(b.cover=b.$anchor.data("cover")||b.cover,b.$el.addClass(b.cls.embed),!0)},doCreateItem:function(){var a=this;return!!a._super()&&(a.$anchor.attr({"data-type":a.type,"data-cover":a.cover}),a.$el.addClass(a.cls.embed),!0)}}),b.template.configure("core",{item:{cover:""}},{item:{embed:"fg-video"}}),b.components.register("embed",b.Embed)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d,e,f,g){b.EmbedContent=b.HtmlContent.extend({construct:function(a,b){var c=this;c._super(a,b),g.extend(c.opt,c.tmpl.opt.embed),g.extend(c.cls,c.tmpl.cls.embed),g.extend(c.sel,c.tmpl.sel.embed)}}),b.template.configure("core",null,{embed:{elem:"fg-content-container fg-content-embed"}}),b.components.register("embed-content",b.EmbedContent)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.str,FooGallery.utils.obj),function(a,b,c,d){b.Paging=b.Component.extend({construct:function(a){var b=this;b._super(a),b.opt=b.tmpl.opt.paging,b.cls=b.tmpl.cls.paging,b.il8n=b.tmpl.il8n.paging,b.sel=b.tmpl.sel.paging,b.pushOrReplace=b.opt.pushOrReplace,b.type=b.opt.type,b.theme=b.opt.theme,b.size=b.opt.size,b.position=b.opt.position,b.scrollToTop=b.opt.scrollToTop,b.current=0,b.total=0,b.ctrls=[],b._arr=[]},destroy:function(){var b=this;b._arr.splice(0,b._arr.length),a.each(b.ctrls.splice(0,b.ctrls.length),function(a,b){b.destroy()}),b._super()},build:function(){var a=this,c=a.tmpl.items.available();a.total=a.size>0&&c.length>0?Math.ceil(c.length/a.size):1;for(var d=0;d<a.total;d++)a._arr.push(c.splice(0,a.size));if(a.total>1&&b.paging.hasCtrl(a.type)){var e,f,g=a.position;"both"!==g&&"top"!==g||(e=b.paging.makeCtrl(a.type,a.tmpl,a,"top"),e.create()&&(e.append(),a.ctrls.push(e))),"both"!==g&&"bottom"!==g||(f=b.paging.makeCtrl(a.type,a.tmpl,a,"bottom"),f.create()&&(f.append(),a.ctrls.push(f)))}},rebuild:function(){var b=this;b.current=0,b.total=0,b._arr.splice(0,b._arr.length),a.each(b.ctrls.splice(0,b.ctrls.length),function(a,b){b.destroy()}),b.build()},all:function(){return this._arr.slice()},available:function(){return this.get(this.current)},items:function(){return this.get(this.current)},controls:function(b){var c=this;c.isValid(b)&&a.each(c.ctrls,function(a,c){c.update(b)})},isValid:function(a){return d.number(a)&&a>0&&a<=this.total},number:function(a){return this.isValid(a)?a:0===this.current?1:this.current},create:function(a,b){var c=this;a=c.number(a);var d=a-1;c.tmpl.items.detach(c.tmpl.items.all()),c.current=a,c.tmpl.items.create(c._arr[d],!0)},get:function(a){var b=this;return b.isValid(a)?(a=b.number(a),b._arr[a-1]):[]},set:function(a,b,c,e){var f=this;if(f.isValid(a)){var g,h=f.number(a);if(h!==f.current){var i=f.current,j=function(){if(c=!d.boolean(c)||c,e=!!d.boolean(e)&&e,c&&1===f.current&&!f.tmpl.state.exists()&&(g=f.tmpl.state.get(),f.tmpl.state.update(g,f.pushOrReplace)),f.controls(a),f.create(h,e),c&&(g=f.tmpl.state.get(),f.tmpl.state.update(g,f.pushOrReplace)),f.scrollToTop&&d.boolean(b)&&b){var j=f.get(f.current);j.length>0&&j[0].scrollTo("top")}f.tmpl.raise("after-page-change",[f.current,i,e])};return!f.tmpl.raise("before-page-change",[f.current,h,j,e]).isDefaultPrevented()&&(j(),!0)}}return!1},find:function(b){for(var c=this,d=0,e=c._arr.length;d<e;d++)if(-1!==a.inArray(b,c._arr[d]))return d+1;return 0},contains:function(b,c){var d=this.get(b);return-1!==a.inArray(c,d)},first:function(){this.goto(1)},last:function(){this.goto(this._arr.length)},prev:function(){this.goto(this.current-1)},next:function(){this.goto(this.current+1)},goto:function(a){var b=this;b.set(a,!0)&&b.tmpl.loadAvailable()}}),b.PagingControl=b.Component.extend({construct:function(a,b,c){var d=this;d._super(a),d.pages=b,d.position=c,d.$container=null},create:function(){var b=this;return b.$container=a("<nav/>",{class:b.pages.cls.container}).addClass(b.pages.theme),!0},destroy:function(){var a=this;a.$container.remove(),a.$container=null},append:function(){var a=this;"top"===a.position?a.$container.insertBefore(a.tmpl.$el):a.$container.insertAfter(a.tmpl.$el)},update:function(a){}}),b.paging.register("default",b.Paging,null,{type:"none",theme:"fg-light",size:30,pushOrReplace:"push",position:"none",scrollToTop:!0},{container:"fg-paging-container"},null,-100)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Infinite=b.Paging.extend({construct:function(a){var b=this;b._super(a),b.distance=b.opt.distance,b._created=[]},build:function(){this._super(),this._created=[]},available:function(){var a,b,e=this,f=[],g=e.get(e.current),h=c.getViewportBounds();if(!e.tmpl.initializing&&!d.empty(g)&&e._created.length<e.total&&(a=g[g.length-1].bounds(),a.top-h.bottom<e.distance))return e.set(e.current+1,!1),e.available();for(var i,j=0,k=e._created.length;j<k;j++)i=j+1,g=e.get(i),d.empty(g)||(b=g[0].bounds(),a=g[g.length-1].bounds(),(b.top-h.bottom<e.distance||a.bottom-h.top<e.distance)&&f.push.apply(f,g));return f},items:function(){for(var a,b,c=this,e=[],f=0,g=c._created.length;f<g;f++)a=f+1,b=c.get(a),d.empty(b)||e.push.apply(e,b);return e},create:function(b,c){var d=this;b=d.number(b),c&&d.tmpl.items.detach(d.tmpl.items.all());for(var e=0;e<b;e++){if(-1===a.inArray(e,d._created)){d.tmpl.items.create(d._arr[e],!0).length&&d._created.push(e)}}d.current=b}}),b.paging.register("infinite",b.Infinite,null,{type:"infinite",
pushOrReplace:"replace",distance:200})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.LoadMore=b.Infinite.extend({construct:function(a){this._super(a),this.amount=this.opt.amount,this._count=this.opt.amount},build:function(){this._super(),this._count=this.amount},available:function(){var b,e,f=this,g=[],h=f.get(f.current),i=c.getViewportBounds();if(!d.empty(h)&&f._created.length!==f.total&&(b=h[h.length-1].bounds(),b.top-i.bottom<f.distance)){var j=f.current+1;if(f.isValid(j)&&f._count<f.amount)return f._count++,f.set(j,!1),f.available()}f._created.length===f.total&&(d.empty(f.ctrls)||a.each(f.ctrls.splice(0,f.ctrls.length),function(a,b){b.destroy()}));for(var k,l=0,m=f._created.length;l<m;l++)k=l+1,h=f.get(k),d.empty(h)||(e=h[0].bounds(),b=h[h.length-1].bounds(),(e.top-i.bottom<f.distance||b.bottom-i.top<f.distance)&&g.push.apply(g,h));return g},loadMore:function(){var a=this;a._count=0,a.tmpl.loadAvailable()}}),b.LoadMoreControl=b.PagingControl.extend({construct:function(b,c,d){this._super(b,c,d),this.$container=a(),this.$button=a()},create:function(){var b=this;return b.$container=a("<nav/>",{class:b.pages.cls.container}).addClass(b.pages.theme),b.$button=a("<button/>",{class:b.pages.cls.button,type:"button"}).html(b.pages.il8n.button).on("click.foogallery",{self:b},b.onButtonClick).appendTo(b.$container),!0},destroy:function(){var b=this;b.$button.off("click.foogallery",b.onButtonClick),b.$container.remove(),b.$container=a(),b.$button=a()},append:function(){var a=this;"top"===a.position?a.$container.insertBefore(a.tmpl.$el):a.$container.insertAfter(a.tmpl.$el)},onButtonClick:function(a){a.preventDefault(),a.data.self.pages.loadMore()}}),b.paging.register("loadMore",b.LoadMore,b.LoadMoreControl,{type:"loadMore",position:"bottom",pushOrReplace:"replace",amount:1,distance:200},{button:"fg-load-more"},{button:"Load More"})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Dots=b.Paging.extend({}),b.DotsControl=b.PagingControl.extend({construct:function(b,c,d){this._super(b,c,d),this.$container=a(),this.$list=a(),this.$items=a()},create:function(){for(var b,c=this,d=c.pages.cls,e=c.pages.il8n,f=[],g=a("<ul/>",{class:d.list}),h=0,i=c.pages.total;h<i;h++)f.push(b=c.createItem(h+1,e.page)),g.append(b);return c.$list=g,c.$container=a("<nav/>",{class:d.container}).addClass(c.pages.theme).append(g),c.$items=a(a.map(f,function(a){return a.get()})),!0},append:function(){var a=this;"top"===a.position?a.$container.insertBefore(a.tmpl.$el):a.$container.insertAfter(a.tmpl.$el)},destroy:function(){var b=this,c=b.pages.sel;b.$list.find(c.link).off("click.foogallery",b.onLinkClick),b.$container.remove(),b.$container=a(),b.$list=a(),b.$items=a()},update:function(a){this.setSelected(a-1)},setSelected:function(b){var c=this,e=c.pages.cls,f=c.pages.il8n,g=c.pages.sel;c.$items.filter(g.selected).removeClass(e.selected).each(function(b,c){var e=a(c),f=e.data("label"),h=e.find(g.reader);d.string(f)&&0!==h.length&&h.html(f)}),c.$items.eq(b).addClass(e.selected).each(function(b,c){var e=a(c),h=e.find(g.reader),i=h.html();d.string(i)&&0!==h.length&&(e.data("label",i),h.html(f.current))})},createItem:function(b,c,e,f,g){e=d.string(e)?e:b,c=d.string(c)?c:"";var h=this,i=h.pages.opt,j=h.pages.cls,k=a("<a/>",{class:j.link,href:"#page-"+b}).html(e).on("click.foogallery",{self:h,page:b},h.onLinkClick);d.empty(c)||k.attr("title",c.replace(/\{PAGE}/g,b).replace(/\{LIMIT}/g,i.limit+"")),g=d.string(g)?g:c,d.empty(g)||k.prepend(a("<span/>",{class:j.reader,text:g.replace(/\{PAGE}/g,"").replace(/\{LIMIT}/g,i.limit+"")}));var l=a("<li/>",{class:j.item}).append(k);return f=d.string(f)?f:"",d.empty(f)||l.addClass(f),l},onLinkClick:function(b){b.preventDefault();var c=b.data.self,d=b.data.page,e=c.pages.sel;a(this).closest(e.item).is(e.disabled)||(c.pages.set(d,!0),c.tmpl.loadAvailable())}}),b.paging.register("dots",b.Dots,b.DotsControl,{type:"dots",position:"both",pushOrReplace:"push"},{list:"fg-dots",item:"fg-dot-item",link:"fg-dot-link",disabled:"fg-disabled",selected:"fg-selected",visible:"fg-visible",reader:"fg-sr-only"},{current:"Current page",page:"Page {PAGE}"})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Pagination=b.Dots.extend({construct:function(a){this._super(a),this.limit=this.opt.limit,this.showFirstLast=this.opt.showFirstLast,this.showPrevNext=this.opt.showPrevNext,this.showPrevNextMore=0!==this.opt.limit&&this.opt.showPrevNextMore,this.pageKeywords=["first","prev","prevMore","nextMore","next","last"],this.sel.firstPrev=[this.sel.first,this.sel.prev].join(","),this.sel.nextLast=[this.sel.next,this.sel.last].join(","),this.range={index:-1,start:-1,end:-1,changed:!1,selected:!1}},build:function(){this._super(),this.range={index:-1,start:-1,end:-1,changed:!1,selected:!1}},controls:function(b){var c=this;c.isValid(b)&&(c.range=c.getControlRange(b),a.each(c.ctrls,function(a,b){b.update(c.range)}))},isValid:function(a){return this._super(a)||this.isKeyword(a)},isKeyword:function(b){return d.string(b)&&-1!==a.inArray(b,this.pageKeywords)},number:function(a){var b=this;return"first"===a&&(a=1),"prev"===a&&(a=b.current-1),"next"===a&&(a=b.current+1),"last"===a&&(a=b.total),"prevMore"!==a&&"nextMore"!==a||(a=b.current),b._super(a)},getControlRange:function(a){var b=this;switch(a){case"prevMore":return b._range(b.range.start-1,!1,!1);case"nextMore":return b._range(b.range.end+1,!0,!1);default:return a=b.number(a),b._range(a-1,a<=b.current)}},_range:function(a,b,c){var e=this,f={index:a,start:e.range.start,end:e.range.end,changed:!1,selected:!d.boolean(c)||c};if(e.total<=e.limit||0===e.limit)f.start=0,f.end=e.total-1;else if(a<f.start||a>f.end){var g=a+(e.limit-1),h=a-(e.limit-1);if(b)for(f.start=a,f.end=g;f.end>e.total;)f.start-=1,f.end-=1;else for(f.start=h,f.end=a;f.start<0;)f.start+=1,f.end+=1}return(f.changed=f.start!==e.range.start||f.end!==e.range.end)&&(e.range=f),f}}),b.PaginationControl=b.DotsControl.extend({construct:function(b,c,d){this._super(b,c,d),this.$buttons=a()},create:function(){var b=this;if(b._super()){var c,d=b.pages.total<=b.pages.limit||0===b.pages.limit,e=[];return!d&&b.pages.showPrevNextMore&&(e.push(c=b.createButton("prevMore")),b.$list.prepend(c)),b.pages.showPrevNext&&(e.push(c=b.createButton("prev")),b.$list.prepend(c)),b.pages.showFirstLast&&(e.push(c=b.createButton("first")),b.$list.prepend(c)),!d&&b.pages.showPrevNextMore&&(e.push(c=b.createButton("nextMore")),b.$list.append(c)),b.pages.showPrevNext&&(e.push(c=b.createButton("next")),b.$list.append(c)),b.pages.showFirstLast&&(e.push(c=b.createButton("last")),b.$list.append(c)),b.$buttons=a(a.map(e,function(a){return a.get()})),!0}return!1},destroy:function(){this._super(),this.$buttons=a()},update:function(a){var b=this,c=b.pages.sel;a.changed&&b.setVisible(a.start,a.end),a.selected&&(b.setSelected(a.index),b.toggleDisabled(b.$buttons.filter(c.firstPrev),a.index<=0),b.toggleDisabled(b.$buttons.filter(c.nextLast),a.index>=b.pages.total-1)),b.toggleDisabled(b.$buttons.filter(c.prevMore),a.start<=0),b.toggleDisabled(b.$buttons.filter(c.nextMore),a.end>=b.pages.total-1)},setVisible:function(a,b){var c=this,d=c.pages.cls;c.$items.removeClass(d.visible).slice(a,b+1).addClass(d.visible)},toggleDisabled:function(a,b){var c=this,d=c.pages.cls,e=c.pages.sel;b?a.addClass(d.disabled).find(e.link).attr("tabindex",-1):a.removeClass(d.disabled).find(e.link).removeAttr("tabindex")},createButton:function(a){var b=this,c=b.pages.cls,d=b.pages.il8n;return b.createItem(a,d.labels[a],d.buttons[a],c.button+" "+c[a])}}),b.paging.register("pagination",b.Pagination,b.PaginationControl,{type:"pagination",position:"both",pushOrReplace:"push",limit:5,showPrevNext:!0,showFirstLast:!0,showPrevNextMore:!0},{list:"fg-pages",item:"fg-page-item",button:"fg-page-button",link:"fg-page-link",first:"fg-page-first",prev:"fg-page-prev",prevMore:"fg-page-prev-more",nextMore:"fg-page-next-more",next:"fg-page-next",last:"fg-page-last",disabled:"fg-disabled",selected:"fg-selected",visible:"fg-visible",reader:"fg-sr-only"},{buttons:{first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;",prevMore:"&hellip;",nextMore:"&hellip;"},labels:{current:"Current page",page:"Page {PAGE}",first:"First page",prev:"Previous page",next:"Next page",last:"Last page",prevMore:"Select from previous {LIMIT} pages",nextMore:"Select from next {LIMIT} pages"}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Filtering=b.Component.extend({construct:function(a){var b=this;b._super(a),b.opt=b.tmpl.opt.filtering,b.cls=b.tmpl.cls.filtering,b.il8n=b.tmpl.il8n.filtering,b.sel=b.tmpl.sel.filtering,b.pushOrReplace=b.opt.pushOrReplace,b.type=b.opt.type,b.theme=b.opt.theme,b.position=b.opt.position,b.mode=b.opt.mode,b.sortBy=b.opt.sortBy,b.sortInvert=b.opt.sortInvert,b.min=b.opt.min,b.limit=b.opt.limit,b.showCount=b.opt.showCount,b.adjustSize=b.opt.adjustSize,b.smallest=b.opt.smallest,b.largest=b.opt.largest,b.adjustOpacity=b.opt.adjustOpacity,b.lightest=b.opt.lightest,b.darkest=b.opt.darkest,b.items=[],b.tags=[],b.current=[],b.ctrls=[]},destroy:function(){var b=this;b.tags.splice(0,b.tags.length),a.each(b.ctrls.splice(0,b.ctrls.length),function(a,b){b.destroy()}),b.items.splice(0,b.items.length),b._super()},count:function(b,c){b=d.array(b)?b:[],c=d.array(c)?c:[];for(var e,f={},g=0===c.length,h=0,i=b.length;h<i;h++)if(!d.empty(e=b[h].tags))for(var j,k=0,l=e.length;k<l;k++)d.empty(j=e[k])||!g&&(g||-1==a.inArray(j,c))||(d.number(f[j])?f[j]++:f[j]=1);for(var m=0,n=c.length;m<n;m++)f.hasOwnProperty(c[m])||(f[c[m]]=0);return f},build:function(){var c=this,d=c.tmpl.items.all();if(c.items.push.apply(c.items,d),d.length>0){var e=c.count(d,c.opt.tags),f=c.opt.tags.length>0,g=1/0,h=0,i=-1;for(var j in e)if(e.hasOwnProperty(j)){var k=e[j];(c.min<=0||k>=c.min)&&(f?i=a.inArray(j,c.opt.tags):i++,c.tags.push({index:i,value:j,count:k,percent:1,size:c.largest,opacity:c.darkest}),k<g&&(g=k),k>h&&(h=k))}if(c.limit>0&&c.tags.length>c.limit&&(c.tags.sort(function(a,b){return b.count-a.count}),c.tags=c.tags.slice(0,c.limit)),!0===c.adjustSize||!0===c.adjustOpacity)for(var l,m=c.largest-c.smallest,n=c.darkest-c.lightest,o=0,p=c.tags.length;o<p;o++)l=c.tags[o],l.percent=(l.count-g)/(h-g),l.size=c.adjustSize?Math.round(m*l.percent+c.smallest):c.largest,l.opacity=c.adjustOpacity?n*l.percent+c.lightest:c.darkest;switch(c.sortBy){case"none":c.sortTags("index",!1);break;default:c.sortTags(c.sortBy,c.sortInvert)}}if(c.tags.length>0&&b.filtering.hasCtrl(c.type)){var q,r,s=c.position;"both"!==s&&"top"!==s||(q=b.filtering.makeCtrl(c.type,c.tmpl,c,"top"),q.create()&&(q.append(),c.ctrls.push(q))),"both"!==s&&"bottom"!==s||(r=b.filtering.makeCtrl(c.type,c.tmpl,c,"bottom"),r.create()&&(r.append(),c.ctrls.push(r)))}},rebuild:function(){var b=this;b.tags.splice(0,b.tags.length),a.each(b.ctrls.splice(0,b.ctrls.length),function(a,b){b.destroy()}),b.items.splice(0,b.items.length),b.build()},controls:function(b){var c=this;a.each(c.ctrls,function(a,c){c.update(b)})},set:function(b,c){d.string(b)&&(b=[b]),d.array(b)||(b=[]);var e,f=this;if(!f.arraysEqual(f.current,b)){var g=f.current.slice(),h=function(){if(c=!d.boolean(c)||c,c&&!f.tmpl.state.exists()&&(e=f.tmpl.state.get(),f.tmpl.state.update(e,f.pushOrReplace)),f.controls(b),d.empty(b))f.tmpl.items.reset(),f.items.splice(0,f.items.length),f.items.push.apply(f.items,f.tmpl.items.all());else{f.items.splice(0,f.items.length);var h=f.tmpl.items.all();h="intersect"===f.mode?a.map(h,function(a){return d.array(a.tags)&&b.every(function(b){return a.tags.indexOf(b)>=0})?a:null}):a.map(h,function(a){return d.array(a.tags)&&a.tags.some(function(a){return b.indexOf(a)>=0})?a:null}),f.items.push.apply(f.items,h),f.tmpl.items.setAvailable(h)}f.current=b.slice(),f.tmpl.pages?(f.tmpl.pages.rebuild(),f.tmpl.pages.set(1,null,null,!0)):(f.tmpl.items.detach(f.tmpl.items.all()),f.tmpl.items.create(f.tmpl.getAvailable(),!0)),c&&(e=f.tmpl.state.get(),f.tmpl.state.update(e,f.pushOrReplace)),f.tmpl.raise("after-filter-change",[f.current,g])};return!f.tmpl.raise("before-filter-change",[f.current,b,h]).isDefaultPrevented()&&(h(),!0)}return!1},arraysEqual:function(a,b){if(a.length!==b.length)return!1;a=a.slice(),b=b.slice(),a.sort(),b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0},sortTags:function(a,b){this.tags.sort(function(c,e){if(c.hasOwnProperty(a)&&e.hasOwnProperty(a)){if(!d.string(c[a])||!d.string(e[a]))return b?e[a]-c[a]:c[a]-e[a];var f=c[a].toUpperCase(),g=e[a].toUpperCase();if(b){if(g<f)return-1;if(g>f)return 1}else{if(f<g)return-1;if(f>g)return 1}}return 0})},apply:function(a){var b=this;b.set(a,!b.tmpl.pages)&&b.tmpl.loadAvailable()}}),b.FilteringControl=b.Component.extend({construct:function(a,b,c){var d=this;d._super(a),d.filter=b,d.position=c,d.$container=null},create:function(){var b=this;return b.$container=a("<nav/>",{class:b.filter.cls.container}).addClass(b.filter.theme),!0},destroy:function(){var a=this;a.$container.remove(),a.$container=null},append:function(){var a=this;"top"===a.position?a.$container.insertBefore(a.tmpl.$el):a.$container.insertAfter(a.tmpl.$el)},update:function(a){}}),b.filtering.register("default",b.Filtering,null,{type:"none",theme:"fg-light",pushOrReplace:"push",position:"none",mode:"single",sortBy:"value",sortInvert:!1,tags:[],min:0,limit:0,showCount:!1,adjustSize:!1,adjustOpacity:!1,smallest:12,largest:16,lightest:.5,darkest:1},{container:"fg-filtering-container"},null,-100)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Tags=b.Filtering.extend({}),b.TagsControl=b.FilteringControl.extend({construct:function(b,c,d){this._super(b,c,d),this.$container=a(),this.$list=a(),this.$items=a()},create:function(){var b,c=this,d=c.filter.cls,e=c.filter.il8n,f=[],g=a("<ul/>",{class:d.list});f.push(b=c.createItem({value:"",count:c.tmpl.items.all().length,percent:1,size:c.filter.largest,opacity:c.filter.darkest},e.all)),g.append(b.addClass(d.selected));for(var h=0,i=c.filter.tags.length;h<i;h++)f.push(b=c.createItem(c.filter.tags[h])),g.append(b);return c.$list=g,c.$container=a("<nav/>",{class:d.container}).addClass(c.filter.theme).append(g),!0===c.filter.showCount&&c.$container.addClass(d.showCount),c.$items=a(a.map(f,function(a){return a.get()})),!0},destroy:function(){var b=this,c=b.filter.sel;b.$list.find(c.link).off("click.foogallery",b.onLinkClick),b.$container.remove(),b.$container=a(),b.$list=a(),b.$items=a()},append:function(){var a=this;"top"===a.position?a.$container.insertBefore(a.tmpl.$el):a.$container.insertAfter(a.tmpl.$el)},update:function(b){var c=this,e=c.filter.cls;c.$items.removeClass(e.selected),c.$items.each(function(){var c=a(this),f=c.data("tag"),g=d.empty(f);c.toggleClass(e.selected,g&&d.empty(b)||!g&&-1!==a.inArray(f,b))})},createItem:function(b,c){var e=this,f=e.filter.cls,g=a("<li/>",{class:f.item}).attr("data-tag",b.value),h=a("<a/>",{href:"#tag-"+b.value,class:f.link}).on("click.foogallery",{self:e,tag:b},e.onLinkClick).css("font-size",b.size).css("opacity",b.opacity).append(a("<span/>",{text:d.string(c)?c:b.value,class:f.text})).appendTo(g);return!0===e.filter.showCount&&h.append(a("<span/>",{text:b.count,class:f.count})),g},onLinkClick:function(b){b.preventDefault();var c,e=b.data.self,f=b.data.tag,g=[];if(!d.empty(f.value))switch(e.filter.mode){case"union":case"intersect":g=e.filter.current.slice(),c=a.inArray(f.value,g),-1===c?g.push(f.value):g.splice(c,1);break;case"single":default:g=[f.value]}e.filter.apply(g)}}),b.filtering.register("tags",b.Tags,b.TagsControl,{type:"tags",position:"top",pushOrReplace:"push"},{showCount:"fg-show-count",list:"fg-tag-list",item:"fg-tag-item",link:"fg-tag-link",text:"fg-tag-text",count:"fg-tag-count",selected:"fg-selected"},{all:"All",none:"No items found."},-100)}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c){b.DefaultTemplate=b.Template.extend({}),b.template.register("default",b.DefaultTemplate,null,{container:"foogallery fg-default"})}(FooGallery.$,FooGallery,FooGallery.utils),function(a,b,c,d){b.MasonryTemplate=b.Template.extend({construct:function(a,b){this._super(a,b),this.masonry=null,this.style=null,this.$columnWidth=null},getStylesheet:function(){var a=this;return null===a.style&&(a.style=document.createElement("style"),a.style.appendChild(document.createTextNode("")),document.head.appendChild(a.style)),a.style.sheet},onPreInit:function(b,c){var e=c.sel,f=c.cls;f.layouts=a.map(f.layout,function(a){return a}).join(" ");for(var g=a.map(f.layout,function(a,b){return{key:b,value:a}}),h=0,i=g.length;h<i;h++)if(c.$el.hasClass(g[h].value)){c.template.layout=g[h].key;break}d.string(f.layout[c.template.layout])||(c.template.layout="col4");var j,k,l="fixed"===c.template.layout;if(c.template.isFitWidth=l,c.template.percentPosition=!l,c.template.transitionDuration=0,c.template.itemSelector=e.item.elem,c.$el.removeClass(f.layouts).addClass(f.layout[c.template.layout]),l||(0===c.$el.find(e.gutterWidth).length&&c.$el.prepend(a("<div/>").addClass(f.gutterWidth)),c.template.gutter=e.gutterWidth),0===c.$el.find(e.columnWidth).length&&c.$el.prepend(a("<div/>").addClass(f.columnWidth)),l&&d.number(c.template.columnWidth)){var m=c.$el.find(e.columnWidth).width(c.template.columnWidth);j=c.getStylesheet(),k="#"+c.id+e.container+" "+e.item.elem+" { width: "+m.outerWidth()+"px; }",j.insertRule(k,0)}c.template.columnWidth=e.columnWidth,l&&d.number(c.template.gutter)&&(j=c.getStylesheet(),k="#"+c.id+e.container+" "+e.item.elem+" { margin-bottom: "+c.template.gutter+"px; }",j.insertRule(k,0)),c.masonry=new Masonry(c.$el.get(0),c.template)},onPostInit:function(a,b){b.masonry.layout()},onFirstLoad:function(a,b){b.masonry.layout()},onReady:function(a,b){b.masonry.layout()},onDestroy:function(a,b){b.$el.find(b.sel.columnWidth).remove(),b.$el.find(b.sel.gutterWidth).remove(),b.style&&b.style.parentNode&&b.style.parentNode.removeChild(b.style)},onDestroyed:function(a,b){b.masonry instanceof Masonry&&b.masonry.destroy()},onLayout:function(a,b){b.masonry.layout()},onParsedItems:function(a,b,c){b.masonry.layout()},onAppendedItems:function(a,b,c){c=b.items.jquerify(c),c=b.masonry.addItems(c),b.masonry.layoutItems(c,!0)},onDetachItem:function(a,b,c){a.isDefaultPrevented()||(a.preventDefault(),b.masonry.remove(c.$el),c.isAttached=!1,c.unfix())},onDetachedItems:function(a,b,c){b.masonry.layout()},onLoadedItems:function(a,b,c){b.masonry.layout()}}),b.template.register("masonry",b.MasonryTemplate,{template:{initLayout:!1,isInitLayout:!1,layout:"col4"}},{container:"foogallery fg-masonry",columnWidth:"fg-column-width",gutterWidth:"fg-gutter-width",layout:{fixed:"fg-masonry-fixed",col2:"fg-masonry-2col",col3:"fg-masonry-3col",col4:"fg-masonry-4col",col5:"fg-masonry-5col"}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d){b.Justified=c.Class.extend({construct:function(c,d){this.tmpl=c,this.$el=c.$el,this.options=a.extend(!0,{},b.Justified.defaults,d),this._items=[],this._lastRefresh=0,this._refresh=null},init:function(){var b=this;d.string(b.options.maxRowHeight)&&(b.options.maxRowHeight.indexOf("%")?b.options.maxRowHeight=b.options.rowHeight*(parseInt(b.options.maxRowHeight)/100):b.options.maxRowHeight=parseInt(b.options.maxRowHeight)),a(window).on("resize.justified",{self:b},b.onWindowResize),this._refresh=setInterval(function(){b.refresh()},b.options.refreshInterval)},destroy:function(){this._refresh&&clearInterval(this._refresh),a(window).off("resize.justified"),this.$el.removeAttr("style")},refresh:function(){var a=this.getContainerWidth();a!=this._lastRefresh&&(this.layout(),this._lastRefresh=a)},parse:function(){var b=this;return b._items=a.map(b.tmpl.getItems(),function(a,b){return{index:b,width:a.width,height:a.height,top:0,left:0,$item:a.$el}})},getMaxRowHeight:function(){var a=this;return d.string(a.options.maxRowHeight)&&(a.options.maxRowHeight.indexOf("%")?a.options.maxRowHeight=a.options.rowHeight*(parseInt(a.options.maxRowHeight)/100):a.options.maxRowHeight=parseInt(a.options.maxRowHeight)),d.number(a.options.maxRowHeight)?a.options.maxRowHeight:a.options.rowHeight},getContainerWidth:function(){var a=this;return a.$el.is(":visible")?a.$el.width():a.$el.parents(":visible:first").innerWidth()},layout:function(b,c){b=!!d.boolean(b)&&b,c=!d.boolean(c)||c,(b||0===this._items.length)&&this.parse();var e=this,f=0,g=e.getContainerWidth(),h=e.getMaxRowHeight(),i=e.rows(g,h);a.each(i,function(a,b){b.visible&&(a>0&&(f+=e.options.margins),f+=b.height),e.render(b)}),e.$el.height(f),c&&e.getContainerWidth()<g&&e.layout(!1,!1)},render:function(a){for(var b,c=0,d=a.items.length;c<d;c++)b=a.items[c],a.visible?b.$item.css({width:b.width,height:b.height,top:b.top,left:b.left,display:"",maxHeight:this.options.maxRowHeight>0?this.options.maxRowHeight:""}).addClass("fg-positioned"):b.$item.css("display","none")},justify:function(a,b,c,d){var e=this,f=e.options.margins*(a.items.length-1),g=c-f,h=g/a.width;a.width=a.width*h,a.height=a.height*h,a.top=b,a.height>d&&(a.height=d),a.left=0,a.width<g&&(a.left=(g-a.width)/2),a.width+=f;for(var i,j=a.left,k=0,l=a.items.length;k<l;k++)k>0&&(j+=e.options.margins),i=a.items[k],i.left=j,i.top=b,i.width=i.width*h,i.height=i.height*h,i.height>d&&(i.height=d),j+=i.width;return a.height},position:function(a,b,c,d){var e=this,f=e.options.margins*(a.items.length-1),g=c-f;if(a.top=b,a.left=0,a.width<g)switch(d){case"center":a.left=(g-a.width)/2;break;case"right":a.left=g-a.width}a.width+=f;for(var h,i=a.left,j=0,k=a.items.length;j<k;j++)j>0&&(i+=e.options.margins),h=a.items[j],h.left=i,h.top=b,i+=h.width;return a.height},lastRow:function(a,b,c,d){var e=this,f=e.options.margins*(a.items.length-1),g=c-f,h=a.width/g>e.options.justifyThreshold;switch(e.options.lastRow){case"hide":h?e.justify(a,b,c,d):a.visible=!1;break;case"justify":e.justify(a,b,c,d);break;case"nojustify":h?e.justify(a,b,c,d):e.position(a,b,c,"left");break;case"left":case"center":case"right":h?e.justify(a,b,c,d):e.position(a,b,c,e.options.lastRow)}},items:function(){return a.map(this._items,function(a){return{index:a.index,width:a.width,height:a.height,$item:a.$item,top:a.top,left:a.left}})},rows:function(a,b){function c(){var a={index:++h,visible:!0,width:0,height:e.options.rowHeight,top:0,left:0,items:[]};return g.push(a),a}for(var d,e=this,f=e.items(),g=[],h=-1,i=c(),j=0,k=0,l=0,m=f.length;l<m;l++){if(d=f[l],d.height!=e.options.rowHeight){var n=e.options.rowHeight/d.height;d.height=d.height*n,d.width=d.width*n}k+d.width>a&&l>0&&(g.length>1&&(j+=e.options.margins),j+=e.justify(i,j,a,b),i=c(),k=0),i.items.length>0&&(k+=e.options.margins),k+=d.width,i.width+=d.width,i.items.push(d)}return g.length>1&&(j+=e.options.margins),e.lastRow(i,j,a,b),g},onWindowResize:function(a){a.data.self.layout(!0)}}),b.Justified.defaults={itemSelector:".fg-item",rowHeight:150,maxRowHeight:"200%",margins:0,lastRow:"center",justifyThreshold:.5,refreshInterval:250}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c){b.JustifiedTemplate=b.Template.extend({onPreInit:function(a,c){c.justified=new b.Justified(c,c.template)},onInit:function(a,b){b.justified.init()},onFirstLoad:function(a,b){b.justified.layout(!0)},onReady:function(a,b){b.justified.layout(!0)},onDestroy:function(a,b){b.justified.destroy()},onLayout:function(a,b){b.justified.layout(!0)},onAfterPageChange:function(a,b,c,d,e){e||b.justified.layout(!0)},onAfterFilterChange:function(a,b){b.justified.layout(!0)}}),b.template.register("justified",b.JustifiedTemplate,null,{container:"foogallery fg-justified"})}(FooGallery.$,FooGallery,FooGallery.utils.is),function(a,b,c,d){b.Portfolio=c.Class.extend({construct:function(c,d){this.tmpl=c,this.$el=c.$el,this.options=a.extend(!0,{},b.Portfolio.defaults,d),this._items=[],this._lastWidth=0},init:function(){var b=this;a(window).on("resize.portfolio",{self:b},b.onWindowResize)},destroy:function(){a(window).off("resize.portfolio"),this.$el.removeAttr("style")},parse:function(){var b=this,c=0;b.$el.hasClass("fg-border-thin")&&(c=4),b.$el.hasClass("fg-border-medium")&&(c=10),b.$el.hasClass("fg-border-thick")&&(c=16);var d=2*c,e=b.getContainerWidth(),f=e-d,g=a("<div/>",{class:b.$el.attr("class")}).css({position:"absolute",top:-9999,left:-9999,visibility:"hidden",maxWidth:e}).appendTo("body");return b._items=a.map(b.tmpl.getItems(),function(a,b){var c=a.$el.clone().css({width:"",height:"",top:"",left:"",position:"relative"}).removeClass("fg-positioned").find(".fg-image,.fg-caption").css("width",a.width>f?f:a.width).end().appendTo(g),d=c.outerWidth(),e=c.outerHeight();return c.remove(),{index:b,width:d,height:e,top:0,left:0,$item:a.$el}}),g.remove(),b._items},round:function(a){return Math.round(2*a)/2},getContainerWidth:function(){var a=this;return a.$el.is(":visible")?a.$el.width():a.$el.parents(":visible:first").innerWidth()},layout:function(a,b){a=!!d.boolean(a)&&a,b=!d.boolean(b)||b;var c=this,e=c.getContainerWidth();0!=c._lastWidth&&Math.abs(e-c._lastWidth)>0&&(a=!0,c._lastWidth=e),(a||0===c._items.length)&&c.parse();for(var f,g=c.rows(e),h=0,i=0,j=g.length;i<j;i++)f=g[i],h=c.position(f,e,h,c.options.align),c.render(f);c.$el.height(h),0==c._lastWidth&&(c._lastWidth=e),b&&c.getContainerWidth()<e&&c.layout(!1,!1)},render:function(a){for(var b,c=0,d=a.items.length;c<d;c++)b=a.items[c],a.visible?b.$item.css({width:b.width,height:a.height,top:b.top,left:b.left,display:""}).addClass("fg-positioned"):b.$item.css("display","none")},position:function(a,b,c,d){var e=this,f=a.items[a.items.length-1],g=b-(f.left+f.width);a.index>0&&(c+=e.options.gutter),a.top=c;for(var h,i=0,j=a.items.length;i<j;i++)h=a.items[i],h.top=c,"center"===d?h.left+=g/2:"right"===d&&(h.left+=g);return c+a.height},items:function(){return a.map(this._items,function(a){return{index:a.index,width:a.width,height:a.height,$item:a.$item,top:a.top,left:a.left}})},rows:function(a){for(var b=this,c=b.items(),d=[],e=c.length>0,f=-1,g=0;e;){f+=1,f>0&&(g+=b.options.gutter);for(var h,i,j,k={index:f,visible:!0,top:g,width:0,height:0,items:[]},l=[],m=0,n=0,o=c.length;n<o&&(i=c[n],!((h=k.width+i.width)>a&&n>0));n++)h>a&&0==n&&(h=a,j=a/i.width,i.width=b.round(i.width*j),i.height=b.round(i.height*j),k.height=i.height),i.top=k.top,n>0&&(m+=b.options.gutter),n!==o-1&&(h+=b.options.gutter),i.left=m,m+=i.width,i.height>k.height&&(k.height=i.height),k.width=h,k.items.push(i),l.push(n);if(0===l.length){e=!1;break}l.sort(function(a,b){return b-a});for(var p=0,q=l.length;p<q;p++)c.splice(l[p],1);d.push(k),e=c.length>0}return d},onWindowResize:function(a){a.data.self.layout()}}),b.Portfolio.defaults={gutter:40,align:"center"}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is),function(a,b,c){b.PortfolioTemplate=b.Template.extend({construct:function(a,b){this._super(a,b),this.portfolio=null},onPreInit:function(a,c){c.portfolio=new b.Portfolio(c,c.template)},onInit:function(a,b){b.portfolio.init()},onFirstLoad:function(a,b){b.portfolio.layout(!0)},onReady:function(a,b){b.portfolio.layout(!0)},onDestroy:function(a,b){b.portfolio.destroy()},onLayout:function(a,b){b.portfolio.layout(!0)},onAfterPageChange:function(a,b,c,d,e){e||b.portfolio.layout(!0)},onAfterFilterChange:function(a,b){b.portfolio.layout(!0)}}),b.template.register("simple_portfolio",b.PortfolioTemplate,{template:{gutter:40}},{container:"foogallery fg-simple_portfolio"})}(FooGallery.$,FooGallery,FooGallery.utils),function(a,b,c,d){b.ImageViewerTemplate=b.Template.extend({construct:function(b,c){this._super(d.extend({},b,{paging:{pushOrReplace:"replace",theme:"fg-light",type:"default",size:1,position:"none",scrollToTop:!1}}),c),this.$inner=a(),this.$current=a(),this.$total=a(),this.$prev=a(),this.$next=a()},createChildren:function(){var b=this;return a("<div/>",{class:b.cls.inner}).append(a("<div/>",{class:b.cls.innerContainer}),a("<div/>",{class:b.cls.controls}).append(a("<div/>",{class:b.cls.prev}).append(a("<span/>",{text:b.il8n.prev})),a("<label/>",{class:b.cls.count,text:b.il8n.count}).prepend(a("<span/>",{class:b.cls.countCurrent,text:"0"})).append(a("<span/>",{class:b.cls.countTotal,text:"0"})),a("<div/>",{class:b.cls.next}).append(a("<span/>",{text:b.il8n.next}))))},destroyChildren:function(){var a=this;a.$el.find(a.sel.inner).remove()},onPreInit:function(a,b){b.$inner=b.$el.find(b.sel.innerContainer),b.$current=b.$el.find(b.sel.countCurrent),b.$total=b.$el.find(b.sel.countTotal),b.$prev=b.$el.find(b.sel.prev),b.$next=b.$el.find(b.sel.next)},onInit:function(a,b){b.template.attachFooBox&&b.$el.on("foobox.previous",{self:b},b.onFooBoxPrev).on("foobox.next",{self:b},b.onFooBoxNext),b.$prev.on("click",{self:b},b.onPrevClick),b.$next.on("click",{self:b},b.onNextClick)},onFirstLoad:function(a,b){b.update()},onDestroy:function(a,b){b.template.attachFooBox&&b.$el.off({"foobox.previous":b.onFooBoxPrev,"foobox.next":b.onFooBoxNext}),b.$prev.off("click",b.onPrevClick),b.$next.off("click",b.onNextClick)},onAppendItem:function(a,b,c){a.preventDefault(),b.$inner.append(c.$el),c.fix(),c.isAttached=!0},onAfterPageChange:function(a,b,c,d,e){e||b.update()},onAfterFilterChange:function(a,b){b.update()},update:function(){this.pages&&(this.$current.text(this.pages.current),this.$total.text(this.pages.total))},prev:function(){this.pages&&(this.template.loop&&1===this.pages.current?this.pages.last():this.pages.prev(),this.update())},next:function(){this.pages&&(this.template.loop&&this.pages.current===this.pages.total?this.pages.first():this.pages.next(),this.update())},onFooBoxPrev:function(a){a.data.self.prev()},onFooBoxNext:function(a){a.data.self.next()},onPrevClick:function(a){a.preventDefault(),a.stopPropagation(),a.data.self.prev()},onNextClick:function(a){a.preventDefault(),a.stopPropagation(),a.data.self.next()}}),b.template.register("image-viewer",b.ImageViewerTemplate,{template:{attachFooBox:!1,loop:!1}},{container:"foogallery fg-image-viewer",inner:"fiv-inner",innerContainer:"fiv-inner-container",controls:"fiv-ctrls",prev:"fiv-prev",next:"fiv-next",count:"fiv-count",countCurrent:"fiv-count-current",countTotal:"fiv-count-total"},{prev:"Prev",next:"Next",count:"of"})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.obj),function(a,b,c){b.ThumbnailTemplate=b.Template.extend({construct:function(a,b){this._super(c.extend({},a,{filtering:{type:"none"},paging:{pushOrReplace:"replace",theme:"fg-light",type:"default",size:1,position:"none",scrollToTop:!1}}),b)}}),b.template.register("thumbnail",b.ThumbnailTemplate,null,{container:"foogallery fg-thumbnail"})}(FooGallery.$,FooGallery,FooGallery.utils.obj),function(a,b,c,d,e){b.GridPro=b.Component.extend({construct:function(a,b){var c=this;c._super(a),c.opt=b,c.$el=null,c.isFirst=!0},preinit:function(){var b=this;b.$el=a("<section/>",{class:"foogrid-content"}),b.tmpl.panel.opt.transition="none",b.tmpl.$el.hasClass("foogrid-transition-horizontal")&&(b.tmpl.panel.opt.transition="horizontal"),b.tmpl.$el.hasClass("foogrid-transition-vertical")&&(b.tmpl.panel.opt.transition="vertical"),b.tmpl.$el.hasClass("foogrid-transition-fade")&&(b.tmpl.panel.opt.transition="fade"),b.tmpl.$el.hasClass("foogrid-caption-below")&&(b.tmpl.panel.opt.caption="bottom"),b.tmpl.$el.hasClass("foogrid-caption-right")&&(b.tmpl.panel.opt.caption="right")},init:function(){},destroy:function(){var a=this;a.$el.remove(),a._super()},layout:function(a,b){},onParsedOrCreatedItem:function(a){if(!a.isError){var b=this;a.$anchor.on("click.gg",{self:b,item:a},b.onAnchorClick)}},transitionsEnabled:function(){return e.supported&&!this.disableTransitions&&this.tmpl.panel.hasTransition},isNewRow:function(a){var b=this;return b.getOffsetTop(b.tmpl.panel.currentItem)!==b.getOffsetTop(a)},getOffsetTop:function(a){return a instanceof b.Item&&a.isCreated?a.$el.offset().top:0},scrollTo:function(b,d,e){var f=this;b=(c.number(b)?b:0)-+f.opt.scrollOffset,d=!c.boolean(d)||d,e=c.number(e)?e:300;var g=a("#wpadminbar"),h=a("html, body");return 1===g.length&&(b-=g.height()),a.Deferred(function(a){
f.opt.scroll&&d?f.opt.scrollSmooth&&!f.tmpl.panel.isExpanded?h.animate({scrollTop:b},e,function(){a.resolve()}):(h.scrollTop(b),a.resolve()):a.resolve()})},open:function(c){var d=this;if(-1!==c.index){var e=d.tmpl.panel,f=d.isNewRow(c);return e.currentItem instanceof b.Item&&f&&!e.isExpanded?d.doClose(f).then(function(){return d.doOpen(c,f)}):d.doOpen(c,f)}return a.when()},doOpen:function(b,c){var d=this,f=d.tmpl.panel;return a.Deferred(function(a){d.scrollTo(d.getOffsetTop(b),c||d.isFirst).then(function(){b.$el.after(d.$el),f.isAttached||f.appendTo(d.$el),d.transitionsEnabled()&&!f.isExpanded&&(d.opt.transitionOpen&&d.isFirst||d.opt.transitionRow&&c)?(d.isFirst=!1,e.start(d.$el,"foogrid-visible",!0,350).then(function(){a.resolve()})):(d.$el.addClass("foogrid-visible"),a.resolve())})}).then(function(){return f.load(b)}).then(function(){return d.tmpl.breakpoints.check(),d.$el.focus(),d.isBusy=!1,d.scrollTo(d.getOffsetTop(b),!0)}).promise()},close:function(a){a=!!c.boolean(a)&&a;var b=this;return b.disableTransitions=a,b.doClose(!1).then(function(){b.disableTransitions=!1})},doClose:function(c){var d=this,f=d.tmpl.panel;return a.Deferred(function(a){f.currentItem instanceof b.Item&&f.doClose().then(function(){d.transitionsEnabled()&&!f.isExpanded&&(d.opt.transitionRow&&c||d.opt.transitionOpen&&!c)?e.start(d.$el,"foogrid-visible",!1,350).then(function(){a.resolve()}):(d.$el.removeClass("foogrid-visible"),a.resolve())})}).always(function(){c||(f.detach(),d.$el.detach(),d.isFirst=!0)}).promise()},toggle:function(a){var c=this,e=c.tmpl.panel;return a instanceof b.Item?e.currentItem===a?c.close():c.open(a):d.reject()},onAnchorClick:function(a){a.preventDefault(),a.data.self.toggle(a.data.item)}})}(FooGallery.$,FooGallery,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.transition),function(a,b,c){b.FooGridTemplate=b.Template.extend({construct:function(a,d){var e=this;e._super(c.extend({},a,{panel:{enabled:!0}}),d),e.foogrid=new b.GridPro(e,e.template),e.hadState=!1},onPreInit:function(a,b){b.foogrid.preinit()},onInit:function(a,b){b.foogrid.init()},onDestroy:function(a,b){b.foogrid.destroy()},onNextPanel:function(a,b,c,d,e){a.preventDefault(),b.foogrid.open(e)},onPrevPanel:function(a,b,c,d,e){a.preventDefault(),b.foogrid.open(e)},onClosePanel:function(a,b,c){a.preventDefault(),b.foogrid.close()},onParsedItem:function(a,b,c){b.foogrid.onParsedOrCreatedItem(c)},onCreatedItem:function(a,b,c){b.foogrid.onParsedOrCreatedItem(c)},onAfterState:function(a,b,c){c.item&&(b.foogrid.layout(!0,c.item.index),b.foogrid.open(c.item.index),b.hadState=!0)},onFirstLoad:function(a,b){b.foogrid.layout(!b.hadState)},onReady:function(a,b){b.foogrid.layout()},onBeforePageChange:function(a,b,c,d,e,f){f||b.foogrid.close(!0)},onAfterPageChange:function(a,b,c,d,e){e||b.foogrid.layout(!0)},onBeforeFilterChange:function(a,b,c,d,e){b.foogrid.close(!0)},onAfterFilterChange:function(a,b){b.foogrid.layout(!0)}}),b.template.register("foogrid",b.FooGridTemplate,{template:{scroll:!0,scrollOffset:0,scrollSmooth:!0,loop:!0,external:"_blank",externalText:null,keyboard:!0,transitionRow:!0,transitionOpen:!0},panel:{enabled:!0,theme:"fg-light",highlight:"fg-highlight-blue",caption:"none"}},{container:"foogallery foogrid"})}(FooGallery.$,FooGallery,FooGallery.utils.obj),function(a,b,c,d,e,f,g){b.Slider=b.Component.extend({construct:function(b){var c=this;c._super(b),c.opt=c.tmpl.opt.template,c.cls=c.tmpl.cls.template,c.sel=c.tmpl.sel.template,c.allBreakpointClasses=a.map(c.opt.breakpoints,function(a){return a.classes}).join(" "),c.$contentContainer=a(),c.$contentStage=a(),c.$itemContainer=a(),c.$itemStage=a(),c.$itemPrev=a(),c.$itemNext=a(),c.horizontal=c.opt.horizontal,c.noCaptions=c.opt.noCaptions,c.useViewport=c.opt.useViewport,c.breakpoints=c.opt.breakpoints,c.allowPageScroll=c.opt.allowPageScroll,c.contentNav=c.opt.contentNav,c._current=null,c._contentWidth=0,c._contentHeight=0,c._firstVisible=-1,c._lastVisible=-1,c._breakpoint=null},createChildren:function(){var b=this;return[a("<div/>",{class:b.cls.contentContainer}).append(a("<div/>",{class:b.cls.contentPrev}),a("<div/>",{class:b.cls.contentStage}),a("<div/>",{class:b.cls.contentNext})),a("<div/>",{class:b.cls.itemContainer}).append(a("<div/>",{class:b.cls.itemPrev}),a("<div/>",{class:b.cls.itemStage}),a("<div/>",{class:b.cls.itemNext}))]},destroyChildren:function(){var a=this,b=a.tmpl.$el;b.append(b.find(a.tmpl.sel.item.elem)),a.$contentContainer.remove(),a.$itemContainer.remove()},getContainerWidth:function(){var a=this,b=a.tmpl.$el;return b.is(":visible")?b.outerWidth():b.parents(":visible:first").innerWidth()},preinit:function(){var a=this,b=a.tmpl.$el;a.$contentContainer=b.find(a.sel.contentContainer),a.$contentStage=b.find(a.sel.contentStage),a.$itemContainer=b.find(a.sel.itemContainer),a.$itemStage=b.find(a.sel.itemStage),a.$itemPrev=b.find(a.sel.itemPrev),a.$itemNext=b.find(a.sel.itemNext),a.$contentPrev=b.find(a.sel.contentPrev),a.$contentNext=b.find(a.sel.contentNext),a.horizontal=b.hasClass(a.cls.horizontal)||a.horizontal,a.horizontal&&b.addClass(a.cls.horizontal),a.noCaptions=b.hasClass(a.cls.noCaptions)||a.noCaptions,a.noCaptions&&b.addClass(a.cls.noCaptions),a.contentNav=b.hasClass(a.cls.contentNav)||a.contentNav,a.contentNav&&b.addClass(a.cls.contentNav)},init:function(){var b=this;a(window).on("resize.fg-slider",{self:b},f.throttle(b.onWindowResize,b.opt.throttle)),b.$itemPrev.on("click.fg-slider",{self:b},b.onPrevClick),b.$itemNext.on("click.fg-slider",{self:b},b.onNextClick),b.$contentPrev.on("click.fg-slider",{self:b},b.onContentPrevClick),b.$contentNext.on("click.fg-slider",{self:b},b.onContentNextClick),b.$contentContainer.fgswipe({data:{self:b},allowPageScroll:b.allowPageScroll,swipe:b.onContentSwipe}),b.$itemContainer.fgswipe({data:{self:b},swipe:b.onItemSwipe}).on("DOMMouseScroll.fg-slider mousewheel.fg-slider",{self:b},b.onItemMouseWheel)},destroy:function(){var b=this;a(window).off("resize.fg-slider"),b.$itemPrev.off("click.fg-slider"),b.$itemNext.off("click.fg-slider"),b.$contentPrev.off("click.fg-slider"),b.$contentNext.off("click.fg-slider"),b.$contentContainer.fgswipe("destroy"),b.$itemContainer.fgswipe("destroy").off("DOMMouseScroll.fg-slider mousewheel.fg-slider"),b._current=null,b._contentWidth=0,b._contentHeight=0,b._firstVisible=-1,b._lastVisible=-1,b._breakpoint=null},reset:function(){var a=this;a._current=null,a.redraw(),a.setSelected(0)},getBreakpoint:function(){var b=this,c=b.useViewport?a(window).width():b.getContainerWidth();b.breakpoints.sort(function(a,b){return a.width-b.width});for(var d=0,e=b.breakpoints.length;d<e;d++)if(b.breakpoints[d].width>=c)return b.breakpoints[d];return b.breakpoints[b.breakpoints.length-1]},getMaxVisibleItems:function(){var a=this,b=a.noCaptions?a._breakpoint.items.h.noCaptions:a._breakpoint.items.h.captions;return a.horizontal?b:a._breakpoint.items.v},redraw:function(){var c=this,d=c.tmpl.$el,e=c._current instanceof b.Item?c._current.index:0,f=c.tmpl.getAvailable(),g=f.length,h=c._breakpoint;d.addClass("fgs-transitions-disabled"),c.horizontal=d.hasClass(c.cls.horizontal),d.toggleClass(c.cls.horizontal,c.horizontal),c.noCaptions=d.hasClass(c.cls.noCaptions),d.toggleClass(c.cls.noCaptions,c.noCaptions),c._breakpoint=c.getBreakpoint(),d.removeClass(c.allBreakpointClasses).addClass(c._breakpoint.classes);var i=c.getMaxVisibleItems()-1,j=c.getContainerWidth();if(-1==c._firstVisible||-1==c._lastVisible?(c._firstVisible=0,c._lastVisible=i):c._breakpoint!=h&&(e>c._firstVisible+i&&(c._firstVisible+=e-(c._firstVisible+i)),c._firstVisible=e,c._lastVisible=e+i),c.$itemPrev.toggle(c._firstVisible>0),c.$itemNext.toggle(c._lastVisible<g-1),c._contentWidth=j-(c.horizontal?0:c.noCaptions?c._breakpoint.size.v.items.noCaptions:c._breakpoint.size.v.items.width),c._contentHeight=c.horizontal?c._breakpoint.size.h.height:c._breakpoint.size.v.height,g>0){c.$contentStage.width(c._contentWidth*g);var k=Math.max(j/c.getMaxVisibleItems());a.each(f,function(a,b){b.index=a,b.$content.width(c._contentWidth).css("left",a*c._contentWidth),c.horizontal?b.$el.css({width:k,left:a*k}):b.$el.css({width:"",left:""})}),c.$contentStage.css("transform","translateX(-"+e*c._contentWidth+"px)"),c._itemWidth=c.horizontal?k:c.noCaptions?c._breakpoint.size.v.items.noCaptions:c._breakpoint.size.v.items.width,c._itemHeight=c.horizontal?c._breakpoint.size.h.items:c._breakpoint.size.v.items.height,c.setVisible(c._firstVisible,!1)}d.removeClass("fgs-transitions-disabled")},setLoading:function(b,c){var d=this;c?a("<div/>",{class:"fg-loader"}).appendTo(b.$content.addClass(d.cls.loading)):b.$content.removeClass(d.cls.loading).find(".fg-loader").remove()},setSelected:function(a){var c=this,e=c._current,f=a,g=c.tmpl.getAvailable();if(d.number(a)&&(a=a<0?0:a>=g.length?g.length-1:a,f=g[a]),e!=f&&f instanceof b.Item){if(e instanceof b.Item&&(e.$el.add(e.$content).removeClass(c.cls.selected),"video"===e.type&&(e.$el.add(e.$content).removeClass(c.cls.playing),e.content.detach())),f.$el.add(f.$content).addClass(c.cls.selected),c.$contentStage.css("transform","translateX(-"+f.index*c._contentWidth+"px)"),c.setBackgroundImage(f),"video"!==f.type||!c.tmpl.opt.video.autoPlay&&c.opt.showPlayClose||(f.content.appendTo(f.$content),f.$el.add(f.$content).addClass(c.cls.playing),f.content.load()),c._current=f,f.index<=c._firstVisible||f.index>=c._lastVisible){var h=e instanceof b.Item&&f.index>e.index,i=h?f.index==c._lastVisible?f.index+1:f.index:f.index==c._firstVisible?f.index-1:f.index;c.setVisible(i,h)}var j=f.index-1,k=f.index+1;j=j<0?g.length-1:j>=g.length?0:j,k=k<0?g.length-1:k>=g.length?0:k,c.$contentPrev.data("index",j),c.$contentNext.data("index",k)}},setVisible:function(a,b){var c=this,d=c.tmpl.getAvailable().length,e=c.getMaxVisibleItems()-1;if(a=a<0?0:a>=d?d-1:a,b&&(a=a-e<0?0:a-e),a>=0&&a<d){c._firstVisible=a,c._lastVisible=a+e;var f=c.horizontal?"translateX(-"+(a*c._itemWidth+1)+"px) translateY(0px)":"translateX(0px) translateY(-"+(a*c._itemHeight+1)+"px)";g.start(c.$itemStage,function(a){a.css("transform",f)}).then(function(){c.tmpl.loadAvailable()})}else c.tmpl.loadAvailable();c.$itemPrev.toggle(c._firstVisible>0),c.$itemNext.toggle(c._lastVisible<d-1)},setBackgroundImage:function(b){if(("video"===b.type||"item"===b.type)&&!b.isError&&!b.isBackgroundLoaded&&d.jq(b.$content)){var c=this,e="video"===b.type?b.cover:b.href,f=a("<div/>",{class:"fg-loader"}).appendTo(b.$content.addClass(c.cls.loading)),g=new Image;g.onload=function(){g.onload=g.onerror=null,f.remove(),b.$content.removeClass(c.cls.loading).find(c.sel.contentImage).css("background-image","url('"+e+"')")},g.onerror=function(){f.remove(),b.$content.removeClass(c.cls.loading)},g.src=e,g.complete&&g.onload(),b.isBackgroundLoaded=!0}},onParsedOrCreatedItem:function(b){if(!b.isError){var c=this;b.$anchor.add(b.$image).attr("draggable",!1),b.$anchor.add(b.$caption).off("click.foogallery"),b.$inner.on("click.foogallery",{self:c,item:b},c.onItemClick),b.$content=a("<div/>",{class:c.cls.content}).append(a("<div/>",{class:c.cls.contentImage})).append(a("<p/>",{class:c.cls.contentText}).html(b.caption).append(a("<small/>").html(b.description))),"video"===b.type&&c.opt.showPlayClose&&b.$content.append(a("<div/>",{class:c.cls.contentClose}).on("click.foogallery",{self:c,item:b},c.onCloseVideo),a("<div/>",{class:c.cls.contentPlay}).on("click.foogallery",{self:c,item:b},c.onPlayVideo))}},onDestroyItem:function(a){var b=this;a.content.detach(),a.$el.add(a.$content).removeClass(b.cls.selected).removeClass(b.cls.playing),a.$inner.off("click.foogallery")},onAppendItem:function(a){var b=this;b.$itemStage.append(a.$el),b.$contentStage.append(a.$content),a.isAttached=!0},onDetachItem:function(a){var b=this;a.content.detach(),a.$el.add(a.$content).removeClass(b.cls.selected).removeClass(b.cls.playing).detach(),a.isAttached=!1},onWindowResize:function(a){a.data.self.redraw()},onItemClick:function(a){a.preventDefault(),a.data.self.setSelected(a.data.item)},onContentPrevClick:function(a){a.preventDefault();var b=a.data.self;b.setSelected(b.$contentPrev.data("index"))},onContentNextClick:function(a){a.preventDefault();var b=a.data.self;b.setSelected(b.$contentNext.data("index"))},onPrevClick:function(a){a.preventDefault();var b=a.data.self;b.setVisible(b._firstVisible-1)},onNextClick:function(a){var b=a.data.self;b.setVisible(b._lastVisible+1,!0)},onPlayVideo:function(a){var b=a.data.self,c=a.data.item;c.content.appendTo(c.$content),c.$el.add(c.$content).addClass(b.cls.playing),c.content.load(!0)},onCloseVideo:function(a){var b=a.data.self,c=a.data.item;c.content.detach(),c.$el.add(c.$content).removeClass(b.cls.playing)},onItemMouseWheel:function(a){var b=a.data.self,c=b.tmpl.getAvailable().length-1,d=Math.max(-1,Math.min(1,a.originalEvent.wheelDelta||-a.originalEvent.detail));d>0&&b._firstVisible>0?(b.setVisible(b._firstVisible-1),a.preventDefault()):d<0&&b._lastVisible<c&&(b.setVisible(b._lastVisible+1,!0),a.preventDefault())},onItemSwipe:function(b,c){var d=c.self,e=1;d.horizontal?(e=Math.ceil(b.distance/d._itemWidth),-1!==a.inArray(b.direction,["NE","E","SE"])&&d.setVisible(d._firstVisible-e),-1!==a.inArray(b.direction,["NW","W","SW"])&&d.setVisible(d._lastVisible+e,!0)):(e=Math.ceil(b.distance/d._itemHeight),-1!==a.inArray(b.direction,["SW","S","SE"])&&d.setVisible(d._firstVisible-e),-1!==a.inArray(b.direction,["NW","N","NE"])&&d.setVisible(d._lastVisible+e,!0))},onContentSwipe:function(b,c){var d=c.self;-1!==a.inArray(b.direction,["NE","E","SE"])&&d.setSelected(d._current.index-1),-1!==a.inArray(b.direction,["NW","W","SW"])&&d.setSelected(d._current.index+1)}}),b.Slider.options={horizontal:!1,useViewport:!1,noCaptions:!1,showPlayClose:!0,contentNav:!1,allowPageScroll:{x:!1,y:!0},breakpoints:[{width:480,classes:"fgs-xs",items:{h:{captions:2,noCaptions:5},v:6},size:{h:{height:336,items:56},v:{height:336,items:{noCaptions:70,width:100,height:56}}}},{width:768,classes:"fgs-sm",items:{h:{captions:3,noCaptions:7},v:7},size:{h:{height:420,items:56},v:{height:392,items:{noCaptions:100,width:150,height:56}}}},{width:1024,classes:"fgs-md",items:{h:{captions:4,noCaptions:9},v:6},size:{h:{height:520,items:77},v:{height:461,items:{noCaptions:150,width:220,height:77}}}},{width:1280,classes:"fgs-lg",items:{h:{captions:5,noCaptions:11},v:7},size:{h:{height:546,items:77},v:{height:538,items:{noCaptions:150,width:280,height:77}}}},{width:1600,classes:"fgs-xl",items:{h:{captions:6,noCaptions:13},v:8},size:{h:{height:623,items:77},v:{height:615,items:{noCaptions:150,width:280,height:77}}}}],throttle:150},b.Slider.classes={contentContainer:"fgs-content-container",contentStage:"fgs-content-stage",content:"fgs-content",contentImage:"fgs-content-image",contentText:"fgs-content-text",contentPlay:"fgs-content-play",contentClose:"fgs-content-close",contentPrev:"fgs-content-prev",contentNext:"fgs-content-next",contentNav:"fgs-content-nav",itemContainer:"fgs-item-container",itemStage:"fgs-item-stage",itemPrev:"fgs-item-prev",itemNext:"fgs-item-next",horizontal:"fgs-horizontal",selected:"fgs-selected",loading:"fgs-loading",playing:"fgs-playing",noCaptions:"fgs-no-captions",embed:"fgs-embed",embedable:"fgs-embedable"}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.fn,FooGallery.utils.transition),function(a,b,c,d,e){b.SliderTemplate=b.Template.extend({construct:function(a,c){var d=this;d._super(e.extend({},a,{paging:{type:"none"}}),c),d.slider=new b.Slider(d)},createChildren:function(){return this.slider.createChildren()},destroyChildren:function(){this.slider.destroyChildren()},onPreInit:function(a,b){b.slider.preinit()},onInit:function(a,b){b.slider.init()},onFirstLoad:function(a,b){b.slider.reset()},onAfterFilterChange:function(a,b){b.slider.reset()},onDestroy:function(a,b){b.slider.destroy()},onParsedItem:function(a,b,c){b.slider.onParsedOrCreatedItem(c)},onCreatedItem:function(a,b,c){b.slider.onParsedOrCreatedItem(c)},onDestroyItem:function(a,b,c){b.slider.onDestroyItem(c)},onAppendItem:function(a,b,c){a.preventDefault(),b.slider.onAppendItem(c)},onDetachItem:function(a,b,c){a.preventDefault(),b.slider.onDetachItem(c)},onLayout:function(a,b){b.slider.redraw()}}),b.template.register("slider",b.SliderTemplate,{template:b.Slider.options},{container:"foogallery fg-slider",template:b.Slider.classes})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.transition),function(a,b,c,d){b.triggerPostLoad=function(b,c,d,e,f){if("first-load"===b.type||c.initialized&&("after-page-change"===b.type&&!f||"after-filter-change"===b.type))try{if(c.$el.parents(".fbx-item").length>0)return;c.$el.hasClass("fbx-instance")&&window.FOOBOX&&a.fn.foobox?c.$el.foobox(window.FOOBOX.o):a("body").trigger("post-load")}catch(a){console.error(a)}},b.autoDefaults={on:{"first-load.foogallery after-page-change.foogallery after-filter-change.foogallery":b.triggerPostLoad}},b.auto=function(a){b.autoDefaults=d.merge(b.autoDefaults,a)},b.load=b.reload=function(){a(function(){a('[id^="foogallery-gallery-"]:not(.fg-ready)').foogallery(b.autoDefaults)}),c.ready(function(){a('[id^="foogallery-gallery-"].fg-ready').foogallery(b.autoDefaults)})},b.load()}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.obj);